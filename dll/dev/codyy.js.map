{"version":3,"file":"dll/dev/codyy.js","sources":["webpack:///webpack/bootstrap c20c6355278b4fa073f8","webpack:///src/codyy/index.js","webpack:///src/codyy/tool.js","webpack:///src/codyy/coco3.0.js","webpack:///src/codyy/media_device.js","webpack:///src/codyy/env_check_plugin.js","webpack:///src/codyy/meeting_plugin.js","webpack:///src/codyy/publish_plugin.js","webpack:///src/codyy/receive_plugin.js","webpack:///src/codyy/preview_plugin.js","webpack:///src/codyy/wpad/index.min.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c20c6355278b4fa073f8","\n//  codyy.js\n//  <project>\n//  公司内部使用方法\n//\ttool    : 工具包\n//  oco3.0  ： coco3.0封装\n//  meeting_plugin ： 视频会议\n//  publish_plugin ： 流发送\n//  receive_plugin ： 流接受\n//  Created by codyy on 2018-05-22.\n//  Copyright 2018 codyy. All rights reserved.\n//  wpad   白板 \n\nimport './tool';\nimport './coco3.0';\nimport './media_device';\nimport './env_check_plugin';\nimport './meeting_plugin';\nimport './publish_plugin';\nimport './receive_plugin';\nimport './preview_plugin';\nimport './wpad/index.min.js';\n\n\n// WEBPACK FOOTER //\n// src/codyy/index.js","/**\n *\n * 工具类\n * @Author Jason\n * @Date 2016-9-23\n *\n */\n(function(global, fn) {\n\tvar turnBox = null,\n\t\tdoc = document,\n\t\ttoString = Object.prototype.toString,\n\t\tpush = Array.prototype.push,\n\t\tslice = Array.prototype.slice,\n\t\tlocation = window.location,\n\t\tduang = fn.call(Object.create(null)),\n\t\tbase64EncodeChars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n\t\thash = {\n\t\t\t'colgroup': 'table',\n\t\t\t'col': 'colgroup',\n\t\t\t'thead': 'table',\n\t\t\t'tfoot': 'table',\n\t\t\t'tbody': 'table',\n\t\t\t'tr': 'tbody',\n\t\t\t'th': 'tr',\n\t\t\t'td': 'tr',\n\t\t\t'optgroup': 'select',\n\t\t\t'option': 'optgroup',\n\t\t\t'legend': 'fieldset'\n\t\t},\n\t\tbase64DecodeChars = new Array(\n\t\t\t-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n\t\t\t-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n\t\t\t-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63,\n\t\t\t52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1,\n\t\t\t-1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14,\n\t\t\t15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1,\n\t\t\t-1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\n\t\t\t41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1);\n\n\t//用户自定义事件构造器\n\tvar CustomerEvent = function() {\n\t\tif(this instanceof CustomerEvent) {\n\t\t\tthis.name = \"CustomerEvent\";\n\t\t\tthis.handles = [];\n\t\t} else {\n\t\t\treturn new CustomerEvent();\n\t\t}\n\t};\n\n\tCustomerEvent.prototype = {\n\t\taddCustEvent: function(type, fn) { //添加用户自定义事件，type：事件名称，fn：事件处理函数\n\t\t\tvar self = this,\n\t\t\t\tcount = 0,\n\t\t\t\t_handles = self.handles || [],\n\t\t\t\tlen = _handles.length;\n\n\t\t\twhile(len--) {\n\t\t\t\tvar _handle = _handles[len],\n\t\t\t\t\t_target = _handle.target;\n\n\t\t\t\tif(_target && _target==self) {\n\t\t\t\t\t_handle.events = _handle.events || {};\n\t\t\t\t\t_handle.events[type] = _handle.events[type] || [];\n\t\t\t\t\t_handle.events[type].push(fn);\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(0===count) {\n\t\t\t\tvar _handle = {\n\t\t\t\t\ttarget: self,\n\t\t\t\t\tevents: {}\n\t\t\t\t};\n\t\t\t\t_handle.events[type] = [];\n\t\t\t\t_handle.events[type].push(fn);\n\t\t\t\t_handles.push(_handle);\n\t\t\t}\n\n\t\t\treturn _handles;\n\t\t},\n\t\tremoveCustEvent: function(type) { //删除自定义事件，type：事件名称\n\t\t\tvar self = this,\n\t\t\t\t_handles = self.handles || [],\n\t\t\t\tlen = _handles.length;\n\n\t\t\twhile(len--) {\n\t\t\t\tvar _handle = _handles[len],\n\t\t\t\t\t_target = _handle.target;\n\n\t\t\t\tif(_target && _target==self) {\n\t\t\t\t\tvar _evs = _handle.events;\n\n\t\t\t\t\tfor(var key in _evs) {\n\t\t\t\t\t\tif(key===type) {\n\t\t\t\t\t\t\tdelete _evs[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tfire: function(obj, fn) { //触发自定义事件，obj是对象类型参数，obj.type：事件名称，obj.message：传给处理函数的参数，此参数可以是任何类型的\n\t\t\tvar self = this,\n\t\t\t\t_handles = self.handles || [],\n\t\t\t\tlen = _handles.length;\n\n\t\t\twhile(len--) {\n\t\t\t\tvar _handle = _handles[len], _target = _handle.target;\n\n\t\t\t\tif(_target==self) {\n\t\t\t\t\tvar _events = _handle.events, _fns = _events[obj.type];\n\t\t\t\t\tif(!_fns) return ;\n\t\t\t\t\tvar\t_len = _fns.length, i = 0;\n\n\t\t\t\t\twhile(i<_len) {\n\t\t\t\t\t\tvar _fn = _fns[i];\n\n\t\t\t\t\t\tif(fn) {\n\t\t\t\t\t\t\tif(\"[object Array]\"===toString.call(fn)) {\n\t\t\t\t\t\t\t\tif(-1!=fn.indexOf(_fn)) {\n\t\t\t\t\t\t\t\t\t\"function\"===typeof _fn && _fn.call(self, obj.message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif(\"function\"!=typeof fn) break ;\n\t\t\t\t\t\t\t\tfn===_fn && _fn.call(self, obj.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\"function\"===typeof _fn && _fn.call(self, obj.message);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t//工具类构造函数\n\tvar Tool = function() {\n\t\tthis.name = \"Tool\";\n\t\tturnBox = document.createElement(\"DIV\");\n\t};\n\n\tTool.CustomerEvent = CustomerEvent;\n\tTool.prototype = new CustomerEvent();\n\tTool.prototype.constructor = Tool;\n\n\t/**\n\t * 深拷贝，建议使用overallCopy\n\t * newObj 需要被拷贝的对象\n\t * oldObj 接受被拷贝对象的对象\n\t * return oldObj\n\t */\n\tTool.prototype.deepCopy = function(newObj, oldObj, notCover) {\n\t\tif(!newObj) return ;\n\t\tvar oldObj = oldObj || (\"[object Object]\"===toString.call(newObj)?{}:[]);\n\n\t\tif(toString.call(oldObj)!==toString.call(newObj)) {\n\t\t\tthrow \"类型不匹配！\";\n\t\t}\n\n\t\tswitch(toString.call(newObj)) {\n\t\t\tcase \"[object Object]\":\n\t\t\t\tfor (var key in newObj) {\n\t\t\t\t\tif(void(0)===oldObj[key] || !notCover) {\n\t\t\t\t\t\tvar val = newObj[key], type = toString.call(val);\n\n\t\t\t\t\t\tif(\"[object Object]\"===type || \"[object Array]\"===type) {\n\t\t\t\t\t\t\tvar _target = \"[object Object]\"===type?{}:[];\n\n\t\t\t\t\t\t\tif(\"[object Array]\"===toString.call(oldObj)) {\n\t\t\t\t\t\t\t\toldObj.push(_target);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\toldObj[key] = _target;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.deepCopy(val, _target);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(\"[object Array]\"===toString.call(oldObj)) {\n\t\t\t\t\t\t\t\toldObj.push(val);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\toldObj[key] = val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"[object Array]\":\n\t\t\t\tvar i = 0, len = newObj.length;\n\n\t\t\t\tif(len>i) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif(void(0)===oldObj[i] || !notCover) {\n\t\t\t\t\t\t\tvar val = newObj[i], type = toString.call(val);\n\n\t\t\t\t\t\t\tif(\"[object Object]\"===type || \"[object Array]\"===type) {\n\t\t\t\t\t\t\t\tvar _target = \"[object Object]\"===type?{}:[];\n\n\t\t\t\t\t\t\t\tif(\"[object Array]\"===toString.call(oldObj)) {\n\t\t\t\t\t\t\t\t\toldObj.push(_target);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\toldObj[key] = _target;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.deepCopy(val, _target);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (\"[object Array]\" === toString.call(oldObj)) {\n\t\t\t\t\t\t\t\t\toldObj.push(val);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\toldObj[key] = val;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while(++i<len)\n\t\t\t\t} else {\n\t\t\t\t\tif(void(0)===oldObj[i] || !notCover) {\n\t\t\t\t\t\tif(\"[object Array]\"===toString.call(oldObj)) {\n\t\t\t\t\t\t\toldObj.push([]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toldObj[key] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t(void(0)===oldObj[i] || !notCover) && (oldObj = newObj.valueOf());\n\t\t}\n\n\t\treturn oldObj;\n\t};\n\n    /**\n     * 深拷贝，当只有一个参数时，会返回这个对象的复本\n     * 参数1 容器，后面所有对象都会拷入这个对象\n     * 参数1-n 拷入第1个对象\n     * return\n     */\n\tTool.prototype.overallCopy = function() {\n        var args = [].slice.call(arguments, 0),\n            firstArg = args.shift(),\n            len = args.length,\n\t\t\tself = this;\n\n        if(len) {\n            var type = toString.call(firstArg);\n            if(\"[object Object]\"!=type && \"[object Array]\"!=type) return firstArg;\n\n            args.forEach(function(arg) {\n                var _type = toString.call(arg);\n                if(\"[object Object]\"!=_type && \"[object Array]\"!=_type) return ;\n\n                if(\"[object Object]\"===_type) {\n\n                    if(\"[object Array]\"===type) {\n                        var container = {};\n                    }\n\n                    for(var key in arg) {\n                        var val = arg[key],\n                            type = toString.call(val);\n\n                        if(container) {\n                            if(\"[object Object]\"===type || \"[object Array]\"===type) {\n                                container[key] = self.overallCopy(val);\n                            } else {\n                                container[key] = val;\n                            }\n                        } else {\n                            if(\"[object Object]\"===type || \"[object Array]\"===type) {\n                                firstArg[key] = self.overallCopy(val);\n                            } else {\n                                firstArg[key] = val;\n                            }\n                        }\n                    }\n\n                    if(container) {\n                        firstArg.push(container);\n                    }\n                } else {\n                    arg.forEach(function(item, index) {\n                        var _type = toString.call(item);\n\n                        if(\"[object Object]\"===type) {\n                            if(\"[object Object]\"===_type || \"[object Array]\"===_type) {\n                                firstArg[index] = self.overallCopy(val);\n                            } else {\n                                firstArg[index] = val;\n                            }\n                        } else {\n                            if(\"[object Object]\"===_type || \"[object Array]\"===_type) {\n                                firstArg.push(self.overallCopy(val));\n                            } else {\n                                firstArg.push(val);\n                            }\n                        }\n                    });\n                }\n            });\n\n            return firstArg;\n        } else {\n            var type = toString.call(firstArg);\n\n            if(\"[object Object]\"!=type && \"[object Array]\"!=type) {\n                return firstArg;\n            } else {\n                if(\"[object Object]\"===type) {\n                    var container = {};\n\n                    for(var key in firstArg) {\n                        var val = firstArg[key],\n                            type = toString.call(val);\n\n                        if(\"[object Object]\"===type || \"[object Array]\"===type) {\n                            container[key] = self.overallCopy(val);\n                        } else {\n                            container[key] = val;\n                        }\n                    }\n                } else {\n                    var container = [];\n\n                    firstArg.forEach(function(item) {\n                        var type = toString.call(item);\n\n                        if(\"[object Object]\"===type || \"[object Array]\"===type) {\n                            container.push(self.overallCopy(item));\n                        } else {\n                            container.push(item);\n                        }\n                    });\n                }\n            }\n\n            return container;\n        }\n\t};\n\n\t/**\n\t * 生成任意长度的随机数\n\t * num 随机数长度\n\t * return 一个指定长度的随机数，如果没有指定长度，默认生成一个8位的随机数\n\t */\n\tTool.prototype.random = function(num) {\n\t\tvar str = \"\",\n\t\t\tnum = num || 8;\n\t\tfor(; str.length<num; str+=(Math.random()+\"\").substr(2));\n\t\treturn str.substr(0, num);\n\t};\n\n\tvar addEvent = window.addEventListener?function(item, type, fn, use) {\n\t\tif(!item) return ;\n\t\titem.addEventListener(type, fn, use||false);\n\t}:function(item, type, fn) {\n\t\tif(!item) return ;\n\t\titem.attachEvent(type, fn);\n\t};\n\n\t/**\n\t * 为元素添加事件\n\t * target 需要添加事件的元素标识，可包含的类型（元素对象，id id要以#打头，class class要以.打头， 数组 数组中可包含元素对象 id class）\n\t * type 事件名称\n\t * fn 事件处理函数\n\t * use 是否在扑捉时触发处理函数\n\t */\n\tTool.prototype.addEvent = function(target, type, fn, use, isDom) {\n\t\tvar self = this;\n\n\t\tvar getElement = function(selector) {\n\t\t\tif(\"string\"!==typeof(selector)) return ;\n\n\t\t\tvar _selector = selector.trim();\n\n\t\t\tif(_selector.startsWith(\"#\")) {\n\t\t\t\taddEvent(doc.getElementById(_selector.substring(1, _selector.length)), type, fn, use);\n\t\t\t} else if(_selector.startsWith(\".\")) {\n\t\t\t\tvar eles = doc.getElementsByClassName(_selector.substring(1, _selector.length));\n\t\t\t\tvar l = eles.length;\n\n\t\t\t\twhile(l--) {\n\t\t\t\t\taddEvent(eles[l], type, fn, use);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar eles = doc.getElementsByTagName(_selector);\n\t\t\t\tvar l = eles.length;\n\n\t\t\t\twhile(l--) {\n\t\t\t\t\taddEvent(eles[l], type, fn, use);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif(\"[object Array]\"===toString.call(target) || \"[object HTMLCollection]\"===toString.call(target)) {\n\t\t\tvar len = target.length;\n\n\t\t\twhile(len--) {\n\t\t\t\tvar _target = target[len];\n\n\t\t\t\tif(self.isDom(_target)) {\n\t\t\t\t\taddEvent(_target, type, fn, use);\n\t\t\t\t} else {\n\t\t\t\t\tgetElement(_target);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(self.isDom(target)) {\n\t\t\t\taddEvent(target, type, fn, use);\n\t\t\t} else {\n\t\t\t\tgetElement(target);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * 删除元素事件\n\t * 参数含义参考为元素添加事件\n\t * 注意删除元素事件传入的参数要和为该元素添加事件传入的参数一至\n\t */\n\tTool.prototype.delEvent = function(target, type, fn, use) {\n\t\tvar self = this;\n\t\tvar toString = Object.prototype.toString;\n\n\t\tvar delEvent = function(item) {\n\t\t\tif(!item) return ;\n\n\t\t\tif(window.removeEventListener) {\n\t\t\t\titem.removeEventListener(type, fn, use||false);\n\t\t\t} else {\n\t\t\t\titem.detachEvent(type, fn);\n\t\t\t}\n\t\t};\n\n\t\tvar getElement = function(selector) {\n\t\t\tif(\"string\"!==typeof(selector)) return ;\n\n\t\t\tvar _selector = selector.trim();\n\n\t\t\tif(_selector.startsWith(\"#\")) {\n\t\t\t\tdelEvent(global.document.getElementById(_selector.substring(1, _selector.length)));\n\t\t\t} else if(_selector.startsWith(\".\")) {\n\t\t\t\tvar eles = global.document.getElementsByClassName(_selector.substring(1, _selector.length));\n\t\t\t\tvar l = eles.length;\n\n\t\t\t\twhile(l--) {\n\t\t\t\t\tdelEvent(eles[l]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar eles = global.document.getElementsByTagName(_selector);\n\t\t\t\tvar l = eles.length;\n\n\t\t\t\twhile(l--) {\n\t\t\t\t\tdelEvent(eles[l]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tif(\"[object Array]\"===toString.call(target)) {\n\t\t\tvar len = target.length;\n\n\t\t\twhile(len--) {\n\t\t\t\tvar _target = target[len];\n\n\t\t\t\tif(self.isDom(_target)) {\n\t\t\t\t\tdelEvent(_target);\n\t\t\t\t} else {\n\t\t\t\t\tgetElement(_target);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(self.isDom(target)) {\n\t\t\t\tdelEvent(target);\n\t\t\t} else {\n\t\t\t\tgetElement(target);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * 向cookie里存储数据\n\t * name cookie的名称\n\t * val 存储的数据\n\t * time 数据过期时间，单位：毫秒\n\t */\n\tTool.prototype.setCookie = function(name, val, config) {\n\t\tif(!name || !val) return;\n\t\tif(isNaN(config) && (config.time && isNaN(config.time))) return ;\n\n\t\tvar str = \"\",\n\t\t\ttime = (!isNaN(config)?config:config.time) || 1,\n\t\t\texp = new Date();\n\n\t\texp.setTime(exp.getTime() + time);\n\t\tstr = name + \"=\" + escape(val) + \";expires=\" + exp.toGMTString();\n\n\t\tif(\"[object Object]\"===toString.call(config)) {\n\t\t\tfor(var key in config) {\n\t\t\t\tif(\"time\"!==key) {\n\t\t\t\t\tstr += \";\" + key + \"=\" + config[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdoc.cookie = str;\n\t};\n\n\t/**\n\t * 从cookie中获取数据\n\t * name cookie的名称\n\t */\n\tTool.prototype.getCookie = function(name) {\n\t\tif(!name) return;\n\t\tvar arr = \"\",\n\t\t\treg = new RegExp(\"(^| )\"+name+\"=([^;]*)(;|$)\");\n\t\tif(arr=doc.cookie.match(reg)) {\n\t\t\treturn unescape(arr[2]);\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t};\n\n\t/**\n\t * 删除cookie\n\t * name cookie的名称\n\t */\n\tTool.prototype.delCookie = function(name) {\n\t\tif(!name) return;\n\t\tvar val = this.getCookie(name);\n\t\tif(!val) return ;\n\t\tvar exp = new Date();\n\t\texp.setTime(exp.getTime() - 1);\n\t\tdoc.cookie = name + \"=\" + escape(val) + \";expires=\" + exp.toGMTString();\n\t};\n\n\t/**\n\t * 判断对象是否是dom元素\n\t * obj 需要进行判断的对象\n\t */\n\tTool.prototype.isDom = (\"object\"===typeof(HTMLElement))?function(obj) {\n\t\treturn obj instanceof HTMLElement;\n\t}:function (obj) {\n\t\treturn obj && \"object\"===typeof(obj) && ((1===obj.nodeType && \"string\"===typeof(obj.nodeName)) || (9===obj.nodeType && \"#document\"===obj.nodeName) || \"Window\"===obj.constructor.name);\n\t};\n\n\t/**\n\t * 给元素添加class\n\t * ele 元素，可以是一个元素也可以是一个元素数组\n\t * classname 要添加的class名称\n\t */\n\tTool.prototype.addClass = function(ele, classname) {\n\t\tif(!ele) return ;\n\n\t\tif(\"[object Array]\"===toString.call(ele) || \"[object HTMLCollection]\"===toString.call(ele)) {\n\t\t\tvar i = 0,\n\t\t\t\tlen = ele.length;\n\n\t\t\tif(i>=len) return ;\n\n\t\t\tdo {\n\t\t\t\tvar el = ele[i];\n\t\t\t\tif(1===el.nodeType) {\n\t\t\t\t\tvar classes = slice.call(el.classList, 0) || el.className.split(/\\s+/);\n\t\t\t\t\tif(-1===classes.indexOf(classname)) {\n\t\t\t\t\t\tel.className = el.className.trim() + \" \" + classname;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} while(++i<len)\n\t\t} else {\n\t\t\tif(1!==ele.nodeType) return;\n\t\t\tvar classes = slice.call(ele.classList, 0) || ele.className.split(/\\s+/);\n\t\t\tif(-1!==classes.indexOf(classname)) return ;\n\t\t\tele.className = ele.className.trim() + \" \" + classname;\n\t\t}\n\n\t\treturn ele;\n\t};\n\n\t/**\n\t * 删除元素上的class\n\t * 参数含义参考给元素添加class接口\n\t */\n\tTool.prototype.removeClass = function(ele, classname) {\n\t\tif(!ele) return ;\n\n\t\tif(\"[object Array]\"===toString.call(ele) || \"[object HTMLCollection]\"===toString.call(ele)) {\n\t\t\tvar i = 0,\n\t\t\t\tlen = ele.length;\n\n\t\t\tif(i>=len) return;\n\n\t\t\tdo {\n\t\t\t\tvar el = ele[i];\n\n\t\t\t\tif(1===el.nodeType) {\n\t\t\t\t\tel.className = el.className.replace(classname, \"\").trim();\n\t\t\t\t}\n\t\t\t} while(++i<len)\n\t\t} else {\n\t\t\tif(1!==ele.nodeType) return;\n\t\t\tele.className = ele.className.replace(classname, \"\").trim();\n\t\t}\n\t\treturn ele;\n\t};\n\n\t/**\n\t * 替换元素上的class\n\t * oldClass 需要被替换的class\n\t * newClass 新的class\n\t */\n\tTool.prototype.replaceClass = function(ele, oldClass, newClass) {\n\t\tthis.removeClass(ele, oldClass);\n\t\tthis.addClass(ele, newClass);\n\t\treturn ele;\n\t};\n\n\t/**\n\t * 在某元素的相对位位置插入新元素字符串\n\t * el 新插入的元素相对的元素\n\t * where (beforebegin, afterbegin, beforeend, afterend)\n\t * html 新插入的元素字符串\n\t */\n\tTool.prototype.insertHTML = function(el, where, html) {\n\t\tif (!el) return false;\n\t\twhere = where.toLowerCase();\n\n\t\tif (el.insertAdjacentHTML) {//IE\n\t\t\tel.insertAdjacentHTML(where, html);\n\t\t} else {\n\t\t\tvar range = el.ownerDocument.createRange(),\n\t\t\t\tfrag = null;\n\n\t\t\tswitch (where) {\n\t\t\t\tcase \"beforebegin\":\n\t\t\t\t\trange.setStartBefore(el);\n\t\t\t\t\tfrag = range.createContextualFragment(html);\n\t\t\t\t\tel.parentNode.insertBefore(frag, el);\n\t\t\t\t\treturn el.previousSibling;\n\t\t\t\tcase \"afterbegin\":\n\t\t\t\t\tif (el.firstChild) {\n\t\t\t\t\t\trange.setStartBefore(el.firstChild);\n\t\t\t\t\t\tfrag = range.createContextualFragment(html);\n\t\t\t\t\t\tel.insertBefore(frag, el.firstChild);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.innerHTML = html;\n\t\t\t\t\t}\n\t\t\t\t\treturn el.firstChild;\n\t\t\t\tcase \"beforeend\":\n\t\t\t\t\tif (el.lastChild) {\n\t\t\t\t\t\trange.setStartAfter(el.lastChild);\n\t\t\t\t\t\tfrag = range.createContextualFragment(html);\n\t\t\t\t\t\tel.appendChild(frag);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.innerHTML = html;\n\t\t\t\t\t}\n\t\t\t\t\treturn el.lastChild;\n\t\t\t\tcase \"afterend\":\n\t\t\t\t\trange.setStartAfter(el);\n\t\t\t\t\tfrag = range.createContextualFragment(html);\n\t\t\t\t\tel.parentNode.insertBefore(frag, el.nextSibling);\n\t\t\t\t\treturn el.nextSibling;\n\t\t\t}\n\t\t}\n\t};\n\n\t//弃用，用createElement代替\n\t/*Tool.prototype.turnStringToDom = function(str) {\n\t turnBox.innerHTML = str;\n\t var child = turnBox.children[0].cloneNode(true);\n\t turnBox.innerHTML = \"\";\n\t return child;\n\t };*/\n\n\t/**\n\t * 创建flash对象\n\t * wrap 页面中的装载flash的容器对象\n\t * url swf文件路径\n\t * config 参数对象\n\t * return flash对象\n\t */\n\tTool.prototype.buildFlash = function(wrap, url, config) {\n\t\tvar config = config || {},\n\t\t\tid = (config.id) ? config.id : \"swf\"+this.random(),\n\t\t\twrapBox = wrap || document.body,\n\t\t\tf = (url.indexOf(\"?\") > 0 ? url : url+\"?\").split(\"?\"),\n\t\t\tu = [f.shift(), f.join(\"?\")],\n\t\t\twh = config.wh ? [config.wh[0]+\"px\", config.wh[1]+\"px\"] : [\"100%\", \"100%\"],\n\t\t\twmode = config.wmode || \"transparent\";\n\n\t\tvar e = '<embed \\\n\t\t\t\tsrc=\"'+ u[0] +'\" \\\n\t\t\t\tname=\"'+ id +'\" \\\n\t\t\t\tpluginspage=\"http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash\" \\\n\t\t\t\ttype=\"application/x-shockwave-flash\" \\\n\t\t\t\tallownetworking=\"all\" \\\n\t\t\t\tallowfullscreen=\"true\" \\\n\t\t\t\tallowFullscreenInteractive=\"true\" \\\n\t\t\t\tallowscriptaccess=\"always\" \\\n\t\t\t\tFlashVars=\"'+ u[1] +'\" \\\n\t\t\t\twmode=\"'+ wmode +'\" \\\n\t\t\t\twidth=\"'+ wh[0] +'\" \\\n\t\t\t\theight=\"'+ wh[1] +'\">\\\n\t\t\t\t</embed>';\n\n\t\te = '<object class=\"FlashPlayer\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" codebase=\"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,0,0,0\" width=\"'+ wh[0] +'\" height=\"'+ wh[1] +'\" id=\"'+ id +'\">\\\n\t\t\t\t<param name=\"wmode\" value=\"'+ wmode +'\">\\\n\t\t\t\t<param name=\"allowFullScreen\" value=\"true\">\\\n\t\t\t\t<param name=\"AllowNetworking\" value=\"all\">\\\n\t\t\t\t<param name=\"allowScriptAccess\" value=\"always\">\\\n\t\t\t\t<param name=\"allowFullscreenInteractive\" value=\"true\">\\\n\t\t\t\t<param name=\"movie\" value=\"'+ u[0] +'\">\\\n\t\t\t\t<param name=\"FlashVars\" value=\"'+ u[1] +'\">'+ e +'\\\n\t\t\t</object>';\n\n\t\tif (config.returnType == \"string\") {\n\t\t\treturn e;\n\t\t}\n\n\t\twrapBox.insertAdjacentHTML('afterBegin', e);\n\t\treturn document[id];\n\t};\n\n\t/**\n\t * 将数字转换成时间字符串\n\t * num 数字\n\t */\n\tTool.prototype.numberToTime = function(num) {\n\t\tvar format = \"HH:mm:ss\",\n\t\t\tnum = num/1000;\n\t\tvar hour = Math.floor(num/3600);\n\t\tvar minute = Math.floor(num%3600/60);\n\t\tvar second = Math.floor(num%3600%60);\n\t\treturn format.replace(\"HH\", hour>=10?hour:\"0\"+hour).replace(\"mm\", minute>=10?minute:\"0\"+minute).replace(\"ss\", second>=10?second:\"0\"+second);\n\t};\n\n\t/**\n\t * 将xml字符串转换成对象\n\t * xml 需要转换的xml字符串\n\t * root xml字符串的根元素名称\n\t */\n\tTool.prototype.xml2obj = function(xml, root) {\n\t\tvar xml = xml.replace(/[<>/']/g, \"\"),\n\t\t\tkeyValueStrs = xml.split(/\\s+/),\n\t\t\tjson = {},\n\t\t\tlen = keyValueStrs.length,\n\t\t\ti = 0;\n\n\t\tjson[root] = {};\n\n\t\tdo {\n\t\t\tvar keyValueStr = keyValueStrs[i];\n\t\t\tif(keyValueStr && root!==keyValueStr) {\n\t\t\t\tvar _json = keyValueStr.split(\"=\");\n\t\t\t\tjson[root][_json[0]] = _json[1];\n\t\t\t}\n\t\t} while (++i<len)\n\n\t\treturn json;\n\t};\n\n\t/**\n\t * 序列化form表单中的数据\n\t * formName form表单名称\n\t */\n\tTool.prototype.serialize = function(formName) {\n\t\tvar form = document.forms[formName] || document.getElementsByName(formName)[0],\n\t\t\telements = form.elements,\n\t\t\tlen = elements.length,\n\t\t\tnames = [],\n\t\t\tobj = {},\n\t\t\ti = 0;\n\n\t\tif(0>=len) return obj;\n\n\t\tdo {\n\t\t\tvar ele = elements[i],\n\t\t\t\tname = ele.name;\n\n\t\t\tif(-1===names.indexOf(name)) {\n\t\t\t\tnames.push(name);\n\t\t\t}\n\t\t} while(++i<len);\n\n\t\tlen = names.length;\n\n\t\tif(0>=len) return obj;\n\n\t\ti=0;\n\t\tdo {\n\t\t\tvar node = form[names[i]];\n\n\t\t\tif(!node.nodeType && node.length && 0<node.length && \"checkbox\"===node[0].type) {\n\t\t\t\tobj[names[i]] = \"\";\n\n\t\t\t\tfor(var key in node) {\n\t\t\t\t\tif(node[key].checked) {\n\t\t\t\t\t\tif(obj[names[i]]) obj[names[i]] += \",\";\n\t\t\t\t\t\tobj[names[i]] += node[key].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tobj[names[i]] = node.value;\n\t\t\t}\n\t\t} while(++i<len);\n\n\t\treturn obj;\n\t};\n\n\t/**\n\t * 复制input元素中的数据\n\t * boxId input元素的id\n\t * btnId 复制按钮id\n\t * 复制成功后的回调函数，会将复制的数据传入回调函数中\n\t */\n\tTool.prototype.copy = function(boxId, btnId, fn) {\n\t\tvar self = this;\n\n\t\tthis.addEvent(\"#\"+btnId, \"click\", function() {\n\t\t\tvar box = document.getElementById(boxId);\n\t\t\tbox.select();\n\t\t\tvar text = document.execCommand(\"Copy\");\n\t\t\tbox.selectionEnd = 0;\n            fn && fn.call(self, text);\n\t\t});\n\t};\n\n\t/**\n\t * 判断元素上是否有某个class\n\t * ele 需要被判断的元素\n\t * cls class名称\n\t * return boolean值，如果有则为true，如果没有则为false\n\t */\n\tTool.prototype.hasClass = function(ele, cls) {\n\t\tvar className = ele.className,\n\t\t\tflag = false;\n\n\t\tif(-1!==className.indexOf(cls)) {\n\t\t\tflag = true;\n\t\t}\n\n\t\treturn flag;\n\t};\n\n\t/**\n\t * 获取某个元素的前一个元素\n\t * node 当前元素\n\t * return 当前元素的前一个元素\n\t */\n\tTool.prototype.pre = function(node) {\n\t\treturn node.previousElementSibling || node.previousSibling;\n\t};\n\n\t/**\n\t * 获取某个元素的下一个元素\n\t * node 当前元素\n\t * return 当前元素的下一个元素\n\t */\n\tTool.prototype.next = function(node) {\n\t\treturn node.nextElementSibling || node.nextSibling;\n\t};\n\n\t/**\n\t * 获取某个元素前面的所有同级元素\n\t * node 当前元素\n\t * return 当前元素前面的所有同级元素集合\n\t */\n\tTool.prototype.preAll = function(node) {\n\t\tvar list = [],\n\t\t\tpre = node;\n\n\t\tdo {\n\t\t\tpre = this.pre(pre);\n\n\t\t\tif(pre) {\n\t\t\t\tlist.push(pre);\n\t\t\t}\n\t\t} while(pre);\n\n\t\treturn list;\n\t};\n\n\t/**\n\t * 获取某个元素后面的所有同级元素\n\t * node 当前元素\n\t * return 当前元素后面的所有同级元素集合\n\t */\n\tTool.prototype.nextAll = function(node) {\n\t\tvar list = [],\n\t\t\tnext = node;\n\n\t\tdo {\n\t\t\tnext = this.next(next);\n\n\t\t\tif(next) {\n\t\t\t\tlist.push(next);\n\t\t\t}\n\t\t} while(next);\n\n\t\treturn list;\n\t};\n\n\t/**\n\t * 获取某个元素的所有同级元素\n\t * node 当前元素\n\t * return 当前元素的所有同级元素集合\n\t */\n\tTool.prototype.siblings = function(node) {\n\t\tvar preList = this.preAll(node),\n\t\t\tnextList = this.nextAll(node),\n\t\t\tpush = Array.prototype.push;\n\n\t\tpush.apply(preList, nextList);\n\t\treturn preList;\n\t};\n\n\tTool.prototype.encodeHTML = function(html) {\n\t\tvar reg = /<([a-zA-Z]+)(?=\\s|\\/>|>)[\\s\\S]*>/;\n\n\t\tif(reg.test(html)) {\n\t\t\thtml = html.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n\t\t}\n\n\t\treturn html;\n\t};\n\n\tTool.prototype.decodeHTML = function(html) {\n\t\treturn html.replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\");\n\t};\n\n\tTool.prototype.createElement = function(html) {\n\t\tvar recycled = document.createElement(\"DIV\"),\n\t\t\treg = /^<([a-zA-Z]+)(?=\\s|\\/>|>)[\\s\\S]*>$/,\n\t\t\thtml = html.trim();\n\n\t\tvar _createElement = function(html) {\n\t\t\tif(!reg.test(html)) {\n\t\t\t\ttry {\n\t\t\t\t\treturn doc.createElement(html);\n\t\t\t\t} catch(e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar tagName = hash[RegExp.$1.toLowerCase()];\n\n\t\t\tif(!tagName) {\n\t\t\t\trecycled.innerHTML = html;\n\t\t\t\treturn recycled.removeChild(recycled.firstChild);\n\t\t\t}\n\n\t\t\tvar deep = 0,\n\t\t\t\tele = recycled;\n\n\t\t\tdo {\n\t\t\t\thtml = \"<\" + tagName + \">\" + html + \"</\" + tagName + \">\";\n\t\t\t\tdeep++;\n\t\t\t} while(tagName=hash[tagName])\n\n\t\t\tele.innerHTML = html;\n\n\t\t\tdo {\n\t\t\t\tele = ele.removeChild(ele.firstChild);\n\t\t\t} while(--deep>-1)\n\n\t\t\treturn ele;\n\t\t};\n\n\t\treturn _createElement(html);\n\t};\n\n\tTool.prototype.encodeBase64 = function(str) {\n\t\treturn utf16to8(str, function(str) {\n\t\t\tvar out, i, len;\n\t\t\tvar c1, c2, c3;\n\n\t\t\tlen = str.length;\n\t\t\ti = 0;\n\t\t\tout = \"\";\n\t\t\twhile(i < len) {\n\t\t\t\tc1 = str.charCodeAt(i++) & 0xff;\n\t\t\t\tif(i == len) {\n\t\t\t\t\tout += base64EncodeChars.charAt(c1 >> 2);\n\t\t\t\t\tout += base64EncodeChars.charAt((c1 & 0x3) << 4);\n\t\t\t\t\tout += \"==\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tc2 = str.charCodeAt(i++);\n\t\t\t\tif(i == len) {\n\t\t\t\t\tout += base64EncodeChars.charAt(c1 >> 2);\n\t\t\t\t\tout += base64EncodeChars.charAt(((c1 & 0x3)<< 4) | ((c2 & 0xF0) >> 4));\n\t\t\t\t\tout += base64EncodeChars.charAt((c2 & 0xF) << 2);\n\t\t\t\t\tout += \"=\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tc3 = str.charCodeAt(i++);\n\t\t\t\tout += base64EncodeChars.charAt(c1 >> 2);\n\t\t\t\tout += base64EncodeChars.charAt(((c1 & 0x3)<< 4) | ((c2 & 0xF0) >> 4));\n\t\t\t\tout += base64EncodeChars.charAt(((c2 & 0xF) << 2) | ((c3 & 0xC0) >>6));\n\t\t\t\tout += base64EncodeChars.charAt(c3 & 0x3F);\n\t\t\t}\n\n\t\t\treturn out;\n\t\t});\n\t};\n\n\tfunction utf16to8(str, fn) {\n\t\tvar out, i, len, c;\n\n\t\tout = \"\";\n\t\tlen = str.length;\n\n\t\tfor(i = 0; i < len; i++) {\n\t\t\tc = str.charCodeAt(i);\n\t\t\tif ((c >= 0x0001) && (c <= 0x007F)) {\n\t\t\t\tout += str.charAt(i);\n\t\t\t} else if (c > 0x07FF) {\n\t\t\t\tout += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));\n\t\t\t\tout += String.fromCharCode(0x80 | ((c >>  6) & 0x3F));\n\t\t\t\tout += String.fromCharCode(0x80 | ((c >>  0) & 0x3F));\n\t\t\t} else {\n\t\t\t\tout += String.fromCharCode(0xC0 | ((c >>  6) & 0x1F));\n\t\t\t\tout += String.fromCharCode(0x80 | ((c >>  0) & 0x3F));\n\t\t\t}\n\t\t}\n\n\t\treturn fn.call(null, out);\n\t}\n\n\tTool.prototype.decodeBase64 = function(str) {\n\t\tvar c1, c2, c3, c4;\n\t\tvar i, len, out;\n\n\t\tlen = str.length;\n\t\ti = 0;\n\t\tout = \"\";\n\n\t\twhile(i < len) {\n\t\t\t/* c1 */\n\t\t\tdo {\n\t\t\t\tc1 = base64DecodeChars[str.charCodeAt(i++) & 0xff];\n\t\t\t} while(i < len && c1 == -1);\n\n\t\t\tif(c1 == -1) break;\n\n\t\t\t/* c2 */\n\t\t\tdo {\n\t\t\t\tc2 = base64DecodeChars[str.charCodeAt(i++) & 0xff];\n\t\t\t} while(i < len && c2 == -1);\n\n\t\t\tif(c2 == -1) break;\n\n\t\t\tout += String.fromCharCode((c1 << 2) | ((c2 & 0x30) >> 4));\n\n\t\t\t/* c3 */\n\t\t\tdo {\n\t\t\t\tc3 = str.charCodeAt(i++) & 0xff;\n\t\t\t\tif(c3 == 61) return utf8to16(out);\n\t\t\t\tc3 = base64DecodeChars[c3];\n\t\t\t} while(i < len && c3 == -1);\n\n\t\t\tif(c3 == -1) break;\n\n\t\t\tout += String.fromCharCode(((c2 & 0XF) << 4) | ((c3 & 0x3C) >> 2));\n\n\t\t\t/* c4 */\n\t\t\tdo {\n\t\t\t\tc4 = str.charCodeAt(i++) & 0xff;\n\t\t\t\tif(c4 == 61) return utf8to16(out);\n\t\t\t\tc4 = base64DecodeChars[c4];\n\t\t\t} while(i < len && c4 == -1);\n\n\t\t\tif(c4 == -1) break;\n\n\t\t\tout += String.fromCharCode(((c3 & 0x03) << 6) | c4);\n\t\t}\n\n\t\treturn utf8to16(out);\n\t};\n\n\tfunction utf8to16(str) {\n\t\tvar out, i, len, c;\n\t\tvar char2, char3;\n\n\t\tout = \"\";\n\t\tlen = str.length;\n\t\ti = 0;\n\n\t\twhile(i < len) {\n\t\t\tc = str.charCodeAt(i++);\n\n\t\t\tswitch(c >> 4) {\n\t\t\t\tcase 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7:\n\t\t\t\t// 0xxxxxxx\n\t\t\t\tout += str.charAt(i-1);\n\t\t\t\tbreak;\n\t\t\t\tcase 12: case 13:\n\t\t\t\t// 110x xxxx   10xx xxxx\n\t\t\t\tchar2 = str.charCodeAt(i++);\n\t\t\t\tout += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F));\n\t\t\t\tbreak;\n\t\t\t\tcase 14:\n\t\t\t\t\t// 1110 xxxx  10xx xxxx  10xx xxxx\n\t\t\t\t\tchar2 = str.charCodeAt(i++);\n\t\t\t\t\tchar3 = str.charCodeAt(i++);\n\t\t\t\t\tout += String.fromCharCode(((c & 0x0F) << 12) | ((char2 & 0x3F) << 6) | ((char3 & 0x3F) << 0));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn out;\n\t}\n\n\t/**\n\t * 获取最快的dms端口(不发送任何消息)\n\t * @params arguments.data dms对象；\n\t * \t\t   arguments.time socket连接超时时长；\n\t * \t\t   callback 回调函数；\n\t */\n\tTool.prototype.getBestDmsWithoutMessage = function() {\n\t\tvar args = [].slice.call(arguments, 0),\n\t\t\tparams = args.shift();\n\n\t\tif(\"[object Object]\"!==toString.call(params)) return ;\n\t\tif(!params) return ;\n\n\t\tvar data = params.data,\n\t\t\tinList = data.internal,\n\t\t\texList = data.external,\n\t\t\tini = 0, exi = 0, count = 0,\n\t\t\tinLen = inList.length,\n\t\t\texLen = exList.length,\n\t\t\tinTimeMap = {},\n\t\t\texTimeMap = {},\n\t\t\tinTimeList = [],\n\t\t\texTimeList = [],\n            wsList = [],\n            itList = [],\n\t\t\t//timeMap = {},\n\t\t\t//timeList = [],\n\t\t\toutTime = params.time || 30,\n\t\t\toutIt = null,\n\t\t\tprotocol = \"https:\"===location.protocol?\"wss://\":\"ws://\",\n\t\t\tcallback = args.shift(),\n\t\t\treg = new RegExp(\"^(0\\.)+\");\n\n\t\toutIt && clearTimeout(outIt);\n\n        var closeAllWs = function() {\n            while(wsList.length) {\n                wsList.shift().close();\n            }\n        };\n\n        var stopAllIt = function() {\n            while(itList.length) {\n                clearTimeout(itList.shift());\n            }\n        };\n\n\t\tvar testPort = function(port, type) {\n\t\t\tvar start = Date.now(), it = null, ws = null, isTimeout = false;\n\n\t\t\tvar\tcancelLink = function() {\n\t\t\t\tvar end = Date.now(), during = end-start;\n                ws && ws.close();\n                it && clearTimeout(it);\n\n                if(!isTimeout) {\n                    if(\"in\"===type) {\n                        inTimeList.push(during);\n                        inTimeMap[during] = port.rtmpUrl;\n                    } else {\n                        exTimeList.push(during);\n                        exTimeMap[during] = port.rtmpUrl;\n                    }\n                }\n\n                count++;\n\n\t\t\t\tif(inLen+exLen<=count) {\n\t\t\t\t\tvar ip = inTimeMap[Math.min.apply(Math, inTimeList)] || exTimeMap[Math.min.apply(Math, exTimeList)];\n\t\t\t\t\tcallback && callback.call(Object.create(null), !ip?void(0):(\"rtmp://\"+ip+\"/dms\"));\n\t\t\t\t\toutIt && clearTimeout(outIt);\n                    closeAllWs();\n                    stopAllIt();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tws = new WebSocket(protocol+port.socketUrl);\n            wsList.push(ws);\n\n\t\t\tit = setTimeout(function() {\n                isTimeout = true;\n\t\t\t\tcancelLink();\n\t\t\t}, outTime);\n\n            itList.push(it);\n\n\t\t\tws.onopen = function() {\n\t\t\t\toutIt && cancelLink();\n\t\t\t};\n\t\t};\n\n\t\tif(inLen>ini) {\n\t\t\tdo {\n\t\t\t\t(function(port) {\n\t\t\t\t\tif(!reg.test(port.socketUrl)) {\n\t\t\t\t\t\ttestPort(port, \"in\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t}(inList[ini]));\n\t\t\t} while(++ini<inLen)\n\t\t}\n\n\t\tif(exLen>exi) {\n\t\t\tdo {\n\t\t\t\t(function(port) {\n\t\t\t\t\ttestPort(port, \"ex\");\n\t\t\t\t}(exList[exi]));\n\t\t\t} while(++exi<exLen)\n\t\t}\n\n\t\toutIt = setTimeout(function() {\n\t\t\tvar ip = inTimeMap[Math.min.apply(Math, inTimeList)] || exTimeMap[Math.min.apply(Math, exTimeList)];\n\t\t\tcallback && callback.call(Object.create(null), !ip?void(0):(\"rtmp://\"+ip+\"/dms\"));\n\t\t\toutIt && clearTimeout(outIt);\n            closeAllWs();\n            stopAllIt();\n\t\t}, outTime);\n\t};\n\n\t/**\n\t * 获取最快的dms端口(发送消息)\n\t * @params arguments.obj dms数据,\n\t *         arguments.time 超时时长\n\t *         arguments.msgLen 发送的消息长度\n\t *         arguments.times\t发送消息的次数\n\t *         callback 回调函数\n\t */\n\tTool.prototype.getBestDmsWithMessage = function() {\n\t\tvar args = [].slice.call(arguments, 0),\n\t\t\tparams = args.shift();\n\n\t\tif(\"[object Object]\"!==toString.call(params)) return ;\n\t\tif(!params) return ;\n\n\t\tvar data = params.data,\n\t\t\tinList = data.internal,\n\t\t\texList = data.external,\n\t\t\tini = 0, exi = 0, count = 0,\n\t\t\tinLen = inList.length,\n\t\t\texLen = exList.length,\n            inTimeMap = {},\n            exTimeMap = {},\n            inTimeList = [],\n            exTimeList = [],\n\t\t\t//timeMap = {},\n\t\t\t//timeList = [],\n\t\t\toutTime = params.time || 3000,\n\t\t\toutIt = null,\n\t\t\tmsg = JSON.stringify({method: \"ping\", data: this.random(params.msgLen||100)}),\n\t\t\ttimes = params.times || 1,\n\t\t\tprotocol = \"https:\"===location.protocol?\"wss://\":\"ws://\",\n\t\t\treg = new RegExp(\"^(0\\.)+\"),\n\t\t\twsList = [],\n\t\t\titList = [],\n\t\t\tcallback = args.shift();\n\n\t\toutIt && clearTimeout(outIt);\n\n\t\tvar closeAllWs = function() {\n\t\t\twhile(wsList.length) {\n\t\t\t\twsList.shift().close();\n\t\t\t}\n\t\t};\n\n\t\tvar stopAllIt = function() {\n            while(itList.length) {\n                clearTimeout(itList.shift());\n            }\n\t\t};\n\n\t\tvar testPort = function(port, type) {\n\t\t\tvar start = Date.now(), it = null, ws = null, msgCount = 0, isTimeout = false;\n\n\t\t\tvar\tcancelLink = function() {\n                var end = Date.now(), during = end-start;\n                ws && ws.close();\n                it && clearTimeout(it);\n                console.info(\"关闭连接：\"+port.socketUrl + \"，时长:\"+during);\n\n                if(!isTimeout) {\n                    if(\"in\"===type) {\n                        inTimeList.push(during);\n                        inTimeMap[during] = port.rtmpUrl;\n                    } else {\n                        exTimeList.push(during);\n                        exTimeMap[during] = port.rtmpUrl;\n                    }\n                }\n\n                count++;\n\n                if(inLen+exLen<=count) {\n                \tvar ip = inTimeMap[Math.min.apply(Math, inTimeList)] || exTimeMap[Math.min.apply(Math, exTimeList)];\n                    callback && callback.call(Object.create(null), !ip?void(0):(\"rtmp://\"+ip+\"/dms\"));\n                    outIt && clearTimeout(outIt);\n                    closeAllWs();\n                    stopAllIt();\n                }\n\t\t\t};\n\n\t\t\tws = new WebSocket(protocol+port.socketUrl);\n\t\t\tconsole.info(\"连接服务：\"+port.socketUrl);\n            wsList.push(ws);\n\n\t\t\tit = setTimeout(function() {\n                console.info(port.socketUrl + \"测速时间超长！\");\n                isTimeout = true;\n\t\t\t\tcancelLink();\n\t\t\t}, outTime);\n\n\t\t\titList.push(it);\n\n\t\t\tws.onopen = function() {\n                console.info(\"服务器连接成功：\"+port.socketUrl);\n                console.info(\"第\"+(msgCount+1)+\"次ping服务器：\"+port.socketUrl);\n\t\t\t\tws.send(msg);\n\t\t\t};\n\n\t\t\tws.onmessage = function(res) {\n\t\t\t\tvar res = JSON.parse(res.data);\n\n\t\t\t\tif(\"pingResponse\"===res.method) {\n\t\t\t\t\tmsgCount++;\n                    console.info(\"第\"+msgCount+\"次收到服务器pingResponse：\"+port.socketUrl);\n\n\t\t\t\t\tif(times>msgCount) {\n\t\t\t\t\t\tws.send(msg);\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutIt && cancelLink();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n        if(inLen>ini) {\n            do {\n                (function(port) {\n                    if(!reg.test(port.socketUrl)) {\n                        testPort(port, \"in\");\n                    } else {\n                        count++;\n                    }\n                }(inList[ini]));\n            } while(++ini<inLen)\n        }\n\n        if(exLen>exi) {\n            do {\n                (function(port) {\n                    testPort(port, \"ex\");\n                }(exList[exi]));\n            } while(++exi<exLen)\n        }\n\n\t\toutIt = setTimeout(function() {\n\t\t\tconsole.info(\"测速时间超长！\");\n\t\t\tvar ip = inTimeMap[Math.min.apply(Math, inTimeList)] || exTimeMap[Math.min.apply(Math, exTimeList)];\n\t\t\tcallback && callback.call(Object.create(null), !ip?void(0):(\"rtmp://\"+ip+\"/dms\"));\n\t\t\toutIt && clearTimeout(outIt);\n            closeAllWs();\n            stopAllIt();\n\t\t}, outTime);\n\t};\n\n    /**\n     * 获取最快的ams端口(发送消息)\n     * @params arguments.obj dms数据,\n     *         arguments.time 超时时长\n     *         arguments.msgLen 发送的消息长度\n     *         arguments.times\t发送消息的次数\n     *         callback 回调函数\n     */\n    Tool.prototype.getBestAmsWithMessage = function() {\n        var args = [].slice.call(arguments, 0),\n            params = args.shift();\n\n        if(\"[object Object]\"!==toString.call(params)) return ;\n        if(!params) return ;\n\n        var data = params.data,\n            inList = data.internal,\n            exList = data.external,\n            ini = 0, exi = 0, count = 0,\n            inLen = inList.length,\n            exLen = exList.length,\n            inTimeMap = {},\n            exTimeMap = {},\n            inTimeList = [],\n            exTimeList = [],\n            //timeMap = {},\n            //timeList = [],\n            outTime = params.time || 3000,\n            outIt = null,\n            msg = JSON.stringify({method: \"ping\", data: this.random(params.msgLen||100)}),\n            times = params.times || 1,\n            protocol = \"https:\"===location.protocol?\"wss://\":\"ws://\",\n            reg = new RegExp(\"^(0\\.)+\"),\n            wsList = [],\n            itList = [],\n            callback = args.shift();\n\n        outIt && clearTimeout(outIt);\n\n        var closeAllWs = function() {\n            while(wsList.length) {\n                wsList.shift().close();\n            }\n        };\n\n        var stopAllIt = function() {\n            while(itList.length) {\n                clearTimeout(itList.shift());\n            }\n        };\n\n        var testPort = function(port, type) {\n            var start = Date.now(), it = null, ws = null, msgCount = 0, isTimeout = false;\n\n            var\tcancelLink = function() {\n                var end = Date.now(), during = end-start;\n                ws && ws.close();\n                it && clearTimeout(it);\n                console.info(\"关闭连接：\"+port.socketUrl + \"，时长:\"+during);\n\n                if(!isTimeout) {\n                    if(\"in\"===type) {\n                        inTimeList.push(during);\n                        inTimeMap[during] = port.rtmpUrl;\n                    } else {\n                        exTimeList.push(during);\n                        exTimeMap[during] = port.rtmpUrl;\n                    }\n                }\n\n                count++;\n\n                if(inLen+exLen<=count) {\n                    var ip = inTimeMap[Math.min.apply(Math, inTimeList)] || exTimeMap[Math.min.apply(Math, exTimeList)];\n                    callback && callback.call(Object.create(null), !ip?void(0):(\"http://\"+ip+\"/dms\"));\n                    outIt && clearTimeout(outIt);\n                    closeAllWs();\n                    stopAllIt();\n                }\n            };\n\n            ws = new WebSocket(protocol+port.socketUrl);\n            console.info(\"连接服务：\"+port.socketUrl);\n            wsList.push(ws);\n\n            it = setTimeout(function() {\n                console.info(port.socketUrl + \"测速时间超长！\");\n                isTimeout = true;\n                cancelLink();\n            }, outTime);\n\n            itList.push(it);\n\n            ws.onopen = function() {\n                console.info(\"服务器连接成功：\"+port.socketUrl);\n                console.info(\"第\"+(msgCount+1)+\"次ping服务器：\"+port.socketUrl);\n                ws.send(msg);\n            };\n\n            ws.onmessage = function(res) {\n                var res = JSON.parse(res.data);\n\n                if(\"pingResponse\"===res.method) {\n                    msgCount++;\n                    console.info(\"第\"+msgCount+\"次收到服务器pingResponse：\"+port.socketUrl);\n\n                    if(times>msgCount) {\n                        ws.send(msg);\n                    } else {\n                        outIt && cancelLink();\n                    }\n                }\n            };\n        };\n\n        if(inLen>ini) {\n            do {\n                (function(port) {\n                    if(!reg.test(port.socketUrl)) {\n                        testPort(port, \"in\");\n                    } else {\n                        count++;\n                    }\n                }(inList[ini]));\n            } while(++ini<inLen)\n        }\n\n        if(exLen>exi) {\n            do {\n                (function(port) {\n                    testPort(port, \"ex\");\n                }(exList[exi]));\n            } while(++exi<exLen)\n        }\n\n        outIt = setTimeout(function() {\n            console.info(\"测速时间超长！\");\n            var ip = inTimeMap[Math.min.apply(Math, inTimeList)] || exTimeMap[Math.min.apply(Math, exTimeList)];\n            callback && callback.call(Object.create(null), !ip?void(0):(\"http://\"+ip+\"/dms\"));\n            outIt && clearTimeout(outIt);\n            closeAllWs();\n            stopAllIt();\n        }, outTime);\n    };\n\n\tTool.prototype.attr = function(ele, attrName, attrVal) {\n\t\tif(!ele || !attrName || !this.isDom(ele)) return ;\n\t\tif(void(0)===attrVal) {\n\t\t\treturn ele.getAttribute(attrName);\n\t\t}\n\t\tele.setAttribute(attrName, attrVal);\n\t};\n\n\tTool.prototype.removeAttr = function(ele, attrName) {\n\t\tif(!ele || !attrName) return ;\n\t\tif(!this.isDom(ele)) return ;\n\t\tele.removeAttribute(attrName);\n\t};\n\n//\tvoid 0!==duang?(function() {\n//\t\tduang.module(\"Tool\", []).controller(\"tool\", function() {return new Tool});\n//\t}()):(function() {\n//      global.vm = global.vm || {};\n//      global.vm.module = global.vm.module || {};\n//      global.vm.module[\"tool\"] = new Tool();\n//      global[\"tool\"] = global.vm.module[\"tool\"];\n//\t}());\n\n\tglobal.tool = new Tool();\n\t\n\t\n\n\tString.prototype.trim = String.prototype.trim || function() {\n\t\tthis.replace(/(^\\s*)|(\\s*$)/g, \"\");\n\t};\n\n\tArray.prototype.unique = Array.prototype.unique || function(param) {\n\t\tvar arr = this, len = arr.length;\n\t\tif(0===len) return ;\n\n\t\tif(void 0===param) {\n\t\t\tvar _arr = new Set(arr);\n\t\t\tarr = Array.from(_arr);\n\t\t} else {\n\t\t\tvar temp = {}, i = 0;\n\n\t\t\tdo {\n\t\t\t\tvar data = arr[i];\n\n\t\t\t\tif(!temp[data[param]]) {\n\t\t\t\t\ttemp[data[param]] = 1;\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\tarr.splice(i, 1);\n\t\t\t\t\tlen = arr.length;\n\t\t\t\t}\n\t\t\t} while(i<len)\n\t\t}\n\n\t\treturn arr;\n\t};\n\n\tArray.prototype.removeEmpty = function() {\n\t\tvar that = this,\n\t\t\tarr = [];\n\t\tthat.map(function(item) {\n\t\t\tif(void(0)!==item && null!==item && \"\"!==item) {\n\t\t\t\tarr.push(item);\n\t\t\t}\n\t\t});\n\t\treturn arr;\n\t};\n\n\tDate.prototype.format = function (fmt) {\n\t\tvar o = {\n\t\t\t\"M+\": this.getMonth() + 1, //月份\n\t\t\t\"d+\": this.getDate(), //日\n\t\t\t\"h+\": this.getHours(), //小时\n\t\t\t\"m+\": this.getMinutes(), //分\n\t\t\t\"s+\": this.getSeconds(), //秒\n\t\t\t\"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n\t\t\t\"S\": this.getMilliseconds() //毫秒\n\t\t};\n\t\tif (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n\t\tfor (var k in o)\n\t\t\tif (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n\t\treturn fmt;\n\t};\n\n\tif (!global.$jsonp) {\n\t\tvar sendScriptRequest = function(url, id) {\n\t\t\t\t//将请求地址以script标签形式插入到页面。（注定是GET请求）\n\t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n\t\t\t\tvar script = document.createElement(\"script\");\n\t\t\t\tscript.id = id;\n\t\t\t\tscript.src = url;\n\t\t\t\tscript.charset = 'utf-8';\n\t\t\t\thead.appendChild(script);\n\t\t\t},\n\t\t\tbuildTempFunction = function(callback) {\n\t\t\t\t//创建一个全局方法，并将方法名当做请求地址的一个参数\n\t\t\t\tvar callName = \"jsonp\" + Math.floor(Math.random()*100000000);\n\n\t\t\t\twindow[callName] = function(data) {\n\t\t\t\t\tcallback.call(this, data);\n\t\t\t\t\twindow[callName] = undefined;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdelete window[callName];\n\t\t\t\t\t\tvar jsNode = document.getElementById(callName);\n\t\t\t\t\t\tjsNode.parentNode.removeChild(jsNode);\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t};\n\n\t\t\t\treturn callName;\n\t\t\t};\n\t\tglobal.$jsonp = function(url, data, callback) {\n\t\t\t//生成GET请求地址\n\t\t\tif (!url) return false;\n\t\t\tcallback = buildTempFunction(callback);\n\t\t\turl += (url.indexOf(\"?\") > 0) ? \"\" : \"?\";\n\n\t\t\tfor (var i in data) {\n\t\t\t\turl += (!url.endsWith(\"?\")?\"&\":\"\") + i + \"=\" + data[i];\n\t\t\t}\n\n\t\t\turl += \"&callback=\" + callback;\n\t\t\tsendScriptRequest(url, callback);\n\t\t};\n\t}\n})(window, function() {\n\treturn window.duang || void 0;\n});\n\n\n// WEBPACK FOOTER //\n// src/codyy/tool.js","/**\r\n * COCO3.0\r\n * @Author Jason\r\n * @Date 2017-4-19\r\n */\r\n;(function(fn, undefined) {\r\n    var duang = fn.call(null),\r\n        reLoad = false,\r\n        cocoMap = {},\r\n        cocoTab = [],\r\n        protocol = location.protocol,\r\n        tool = duang?duang.getModule(\"Tool\").getController(\"tool\"):(window.vm && window.vm.module?window.vm.module.tool:window.tool),\r\n        eventObj = new tool.constructor.CustomerEvent();\r\n    var ctrlEventMap = {\r\n        whitePadAddTab: \"onPadTabAdd\",\r\n        whitePadRemoveTab: \"onPadTabRemove\",\r\n        whitePadChangeTab: \"onPadTabFocus\"\r\n    };\r\n    var defaultConfig = {\r\n        clientType: \"client\",\r\n        deviceName: \"PC\",\r\n        userType: \"all\",\r\n        tabName: \"白板\",\r\n        beatInterval: 5 * 1000,  //发送心跳的时间间隔\r\n        beatWaitTime: 5 * 1000, //发送心跳消息后的等待时长\r\n        linkTimes: 100,   //自动重连的次数\r\n        linkInterval: 5 * 1000  //自动重连的时间间隔\r\n    };\r\n    tool.addEvent(window, \"beforeunload\", function() {\r\n        reLoad = true;\r\n    });\r\n    //心跳\r\n    function KeepAlive(params) {\r\n        if(!(this instanceof KeepAlive)) {\r\n            return new KeepAlive(params);\r\n        }\r\n        var self = this,\r\n            state = 0,\r\n            waitTimer = null,\r\n            beatTimer = null,\r\n            beatWaitTime = params.beatWaitTime || defaultConfig.beatWaitTime,\r\n            beatInterval = params.beatInterval || defaultConfig.beatInterval;\r\n        Object.defineProperty(this, \"state\", {\r\n            get: function() {\r\n                return state;\r\n            }\r\n        });\r\n        // 启动心跳\r\n        this.run = function() {\r\n            self.stop();\r\n            beatTimer = setTimeout(function() {\r\n                self.ws.send(JSON.stringify({command: \"keepAliveMessage\"}));\r\n                waitTimer = setTimeout(function() {\r\n                    self.stop();\r\n                    self.linkBuilder();\r\n                }, beatWaitTime);\r\n            }, beatInterval);\r\n        };\r\n        //停止心跳\r\n        this.stop = function() {\r\n            if(beatTimer) {\r\n                clearTimeout(beatTimer);\r\n                beatTimer = null;\r\n            }\r\n            if(waitTimer) {\r\n                clearTimeout(waitTimer);\r\n                waitTimer = null;\r\n            }\r\n        };\r\n    }\r\n    KeepAlive.prototype = {\r\n        constructor: KeepAlive\r\n    };\r\n    function COCO() {\r\n        //coco构造\r\n        function _COCO(url, params) {\r\n            if(!(this instanceof _COCO)) {\r\n                return new _COCO(url, params);\r\n            }\r\n            var self = this,\r\n                ws = null,\r\n                groups = [],\r\n                sequence = 0,\r\n                reLink = false,\r\n                linkWaiter = null,\r\n                keepAlive = new KeepAlive(params),\r\n                linkTimes = params.linkTimes || defaultConfig.linkTimes,\r\n                linkInterval = params.linkInterval || defaultConfig.linkInterval;\r\n            if(!/^\\s*(?:ws:|wss:).*$/.test(url)) {\r\n                url = (\"https:\"===protocol?\"wss://\":\"ws://\") + url;\r\n            }\r\n            if(!/\\/(?:ws|wss)\\/*\\s*$/.test(url)) {\r\n                url = url + (\"https:\"===protocol?\"/wss\":\"/ws\");\r\n            }\r\n            this.handles = [];\r\n            this._params = params;\r\n            this.connected = false;\r\n            this.users = {onlineNum: 0};\r\n            var linkBuilder = function() {\r\n                ws = new WebSocket(url);\r\n                ws.onopen = function() {\r\n                    linkTimes = params.linkTimes || defaultConfig.linkTimes;\r\n                    self.ws = ws;\r\n                    keepAlive.ws = ws;\r\n                    self.fire({type:\"linkup\"});\r\n                    reLink = false;\r\n                    if(null!=linkWaiter) {\r\n                        clearTimeout(linkWaiter);\r\n                        linkWaiter = null;\r\n                    }\r\n                    ws.send(JSON.stringify({\r\n                        command: \"online\",\r\n                        body: {\r\n                            userToken: params.userToken,\r\n                            clientType: params.clientType || defaultConfig.clientType,\r\n                            deviceName: params.deviceName || defaultConfig.deviceName\r\n                        }\r\n                    }));\r\n                    cocoTab.push(self);\r\n                    cocoMap[params.groupId] = self;\r\n                };\r\n                ws.onmessage = function(res) {\r\n                    var result = JSON.parse(res.data),\r\n                        command = result.command,\r\n                        msg = result.body;\r\n                    switch(command) {\r\n                        case \"online\"://用户上线\r\n                            self.connected = true;\r\n                            self.fire({type:\"loginup\"});\r\n                            if(void(0)!=params.groupId) self.joinGroup(params.groupId);\r\n                            break;\r\n                        case \"userGroupAction\"://用户离开或加入组通知\r\n                            if(\"add\"===msg.action) {\r\n                                changeUsers(1, msg.userId);\r\n                                if(msg.userId===params.userId) {\r\n                                    params.groupId = msg.groupId;\r\n                                    groups.push(msg.groupId);\r\n                                }\r\n                                self.fire({type: \"loginNotify\", message:{from: msg.userId, groupId: msg.groupId, clientType: msg.clientType, deviceName: msg.deviceName}});\r\n                            } else {\r\n                                changeUsers(-1, msg.userId);\r\n                                if(msg.userId===self._params.userId) {\r\n                                    groups = [].filter.call(groups, function(groupId) {\r\n                                        return groupId!==msg.groupId;\r\n                                    });\r\n                                }\r\n                                self.fire({type: \"logoutNotify\", message:{from: msg.userId, groupId: msg.groupId}});\r\n                            }\r\n                            break;\r\n                        case \"addGroupResult\"://加入组返回消息\r\n                            self.fire({type: \"joinGroup\", message: msg});\r\n                            self.getGroupOnline(params.groupId);\r\n                            break;\r\n                        case \"kickUser\"://被踢消息\r\n                            changeUsers(-1, msg.userId);\r\n                            self.fire({type: \"onKick\", message: msg});\r\n                            break;\r\n                        case \"offline\"://下线\r\n                            changeUsers(-1, msg.userId);\r\n                            self.fire({type: \"offline\"});\r\n                            break;\r\n                        case \"singleChat\"://个人消息\r\n                            if(\"control\"===msg.message.type) {\r\n                                self.fire({type: \"callOne\", message: msg.message.content});\r\n                            } else {\r\n                                self.fire({type: \"recePrivateMsg\", message: {from: {userName: msg.sendUserName, userId:msg.sendUserId, userType:msg.sendUserType}, data: msg.message}});\r\n                            }\r\n                            break;\r\n                        case \"groupChat\"://群消息\r\n                            if(msg.from===self._params.userId) return;\r\n                            if(\"control\"===msg.type) {\r\n                                self.fire({type: \"callAll\", message: msg.content});\r\n                            } else {\r\n                                self.fire({type: \"recePublicMsg\", message: msg});\r\n                            }\r\n                            break;\r\n                        case \"onlineUsers\"://获取用户列表\r\n                            msg.userList.forEach(function(user) {\r\n                                changeUsers(1, user.userId);\r\n                            });\r\n                            self.fire({type: \"loadUser\", message: msg.userList});\r\n                            break;\r\n                        case \"onlineUsersCount\"://获取组内用户活动数量\r\n                            self.fire({type: \"onLoadUserNumber\", message: msg.activeUserCount});\r\n                            break;\r\n                        case \"whitePad\"://接收白板信息\r\n                            self.fire({type: \"onLoadPadData\", message: msg.data});\r\n                            break;\r\n                        case \"control\"://ctrlEventMap\r\n                            msg.data.from!=self._params.userId && self.fire({type: ctrlEventMap[msg.type], message: msg.data});\r\n                            break;\r\n                        case \"keepAliveMessage\":\r\n                            break;\r\n                        default://错误信息\r\n                            self.fire({type:\"onError\", message: msg});\r\n                    }\r\n                    keepAlive.run();\r\n                };\r\n                ws.onclose = function(err) {\r\n                    !err.wasClean && ws.close();\r\n                    keepAlive.stop();\r\n                    self.connected = false;\r\n                    if(reLoad) return;\r\n                    delete cocoMap[params.groupId];\r\n                    cocoTab.splice(cocoTab.indexOf(self), 1);\r\n                    switch(err.code) {\r\n                        case 1015:\r\n                            self.fire({type: \"onError\", message: {code: 0, message: \"数字证书验证失败\"}});\r\n                            break;\r\n                        case 1000:\r\n                            break;\r\n                        default:\r\n                            if(!reLink) {\r\n                                changeUsers(-1, params.userId);\r\n                                keepAlive.linkBuilder();\r\n                                self.fire({type: \"offline\"});\r\n                                self.fire({type: \"logoutNotify\", message:{from: params.userId, groupId: params.groupId}});\r\n                            }\r\n                    }\r\n                };\r\n                if(reLink && linkTimes) {\r\n                    linkTimes--;\r\n                    if(linkWaiter) {\r\n                        clearTimeout(linkWaiter);\r\n                        linkWaiter = null;\r\n                    }\r\n                    linkWaiter = setTimeout(function() {\r\n                        ws.onopen = null;\r\n                        ws.onmessage = null;\r\n                        ws.onclose = null;\r\n                        ws.readyState!=ws.CLOSED && ws.close();\r\n                        linkBuilder();\r\n                    }, linkInterval);\r\n                }\r\n            };\r\n            keepAlive.linkBuilder = function() {\r\n                reLink = true;\r\n                linkBuilder();\r\n            };\r\n            Object.defineProperties(this, {\r\n                sequence: {\r\n                    get: function() {\r\n                        return sequence++;\r\n                    }\r\n                }\r\n            });\r\n            linkBuilder();\r\n            this.getGroups = function() {\r\n                return groups || [];\r\n            };\r\n            this.getLastGroup = function() {\r\n                return groups.length<=0?void(0):groups[groups.length-1];\r\n            };\r\n            var changeUsers = function(type, uid) {\r\n                if(self.users[uid]) {\r\n                    if(-1===type) {\r\n                        self.users.onlineNum = self.users.onlineNum + type;\r\n                        delete self.users[uid];\r\n                    }\r\n                } else {\r\n                    if(1===type) {\r\n                        self.users.onlineNum = self.users.onlineNum + type;\r\n                        self.users[uid] = true\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        _COCO.prototype = eventObj;\r\n        _COCO.prototype.constructor = _COCO;\r\n        _COCO.prototype.addEvent = eventObj.addCustEvent;\r\n        _COCO.prototype.removeEvent = eventObj.removeCustEvent;\r\n        _COCO.prototype.fire = eventObj.fire;\r\n        /**\r\n         * 加入组，用户上线后，加入组，同一个会议的用户进入到同一组\r\n         * @param groupId  组id\r\n         */\r\n        _COCO.prototype.joinGroup = function(groupId) {\r\n            if(void(0)===groupId) return ;\r\n            var params = this._params;\r\n            this.ws.send(JSON.stringify({\r\n                command: \"addGroup\",\r\n                body: {\r\n                    deviceName: params.deviceName || defaultConfig.deviceName,\r\n                    clientType: params.clientType || defaultConfig.clientType,\r\n                    groupId: groupId,\r\n                    userId: params.userId\r\n                }\r\n            }));\r\n        };\r\n        /**\r\n         * 踢人下线\r\n         * @param userId 在线人员id\r\n         * @param groupId 组id，如果\"g\"===groupId表示在所有组中查找，如果不传的话，会在当前组中查找\r\n         */\r\n        _COCO.prototype.kickOut = function(userId, groupId) {\r\n            if(void(0)===userId) return ;\r\n            this.ws.send(JSON.stringify({\r\n                command: \"kickUser\",\r\n                body: {\r\n                    groupId: \"g\"===groupId?\"\":(groupId || this.getLastGroup()),\r\n                    userId: userId\r\n                }\r\n            }));\r\n        };\r\n        /**\r\n         * 增加一个白板页签\r\n         * @param params.userType 用户类型 user/device/all  默认为all\r\n         * @param params.groupId 组id 默认为当前组id\r\n         * @param params.tabName tab名称\r\n         * @param params.users 用户id list，表示消息发给哪些人\r\n         */\r\n        _COCO.prototype.addPadTab = function(params) {\r\n            var obj = {\r\n                command: \"control\",\r\n                body: {\r\n                    type: \"whitePadAddTab\",\r\n                    userType: params.userType || defaultConfig.userType,\r\n                    data: {\r\n                        from: this._params.userId,\r\n                        tabName: params.tabName || defaultConfig.tabName\r\n                    }\r\n                }\r\n            };\r\n            params.data && Object.assign(obj.body.data, params.data);\r\n            if(params.users && 0<params.users.length) {\r\n                obj.body.clientIds = params.users;\r\n            } else {\r\n                obj.body.groupId = (params.groupId || this.getLastGroup());\r\n            }\r\n            this.ws.send(JSON.stringify(obj));\r\n        };\r\n        /**\r\n         * 移除一个白板页签\r\n         * @param params.tabId tab的唯一标示\r\n         * @param params.userType 用户类型 user/device/all  默认为all\r\n         * @param params.groupId 组id 默认为当前组id\r\n         * @param params.tabName tab名称\r\n         * @param params.users 用户id list，表示消息发给哪些人\r\n         */\r\n        _COCO.prototype.removePadTab = function(params) {\r\n            var obj = {\r\n                command: \"control\",\r\n                body: {\r\n                    type: \"whitePadRemoveTab\",\r\n                    userType: params.userType || defaultConfig.userType,\r\n                    data: {\r\n                        from: this._params.userId,\r\n                        tabName: params.tabName || \"\",\r\n                        tabId: params.tabId || \"\"\r\n                    }\r\n                }\r\n            };\r\n            params.data && Object.assign(obj.body.data, params.data);\r\n            if(params.users && 0<params.users.length) {\r\n                obj.body.clientIds = params.users;\r\n            } else {\r\n                obj.body.groupId = (params.groupId || this.getLastGroup());\r\n            }\r\n            this.ws.send(JSON.stringify(obj));\r\n        };\r\n        /**\r\n         * 激活指定白板页签\r\n         * @param params.tabId tab的唯一标示\r\n         * @param params.userType 用户类型 user/device/all  默认为all\r\n         * @param params.groupId 组id 默认为当前组id\r\n         * @param params.tabName tab名称\r\n         * @param params.users 用户id list，表示消息发给哪些人\r\n         */\r\n        _COCO.prototype.focusPadTab = function(params) {\r\n            if(void(0)===params.tabId) return ;\r\n            var obj = {\r\n                command: \"control\",\r\n                body: {\r\n                    type: \"whitePadChangeTab\",\r\n                    userType: params.userType || defaultConfig.userType,\r\n                    data: {\r\n                        from: this._params.userId,\r\n                        tabName: params.tabName || \"\",\r\n                        tabId: params.tabId\r\n                    }\r\n                }\r\n            };\r\n            if(params.users && 0<params.users.length) {\r\n                obj.body.clientIds = params.users;\r\n            } else {\r\n                obj.body.groupId = (params.groupId || this.getLastGroup());\r\n            }\r\n            this.ws.send(JSON.stringify(obj));\r\n        };\r\n        /**\r\n         * 白板消息\r\n         * @param params 白板onRender事件抛出的数据\r\n         */\r\n        _COCO.prototype.write = function(params) {\r\n            var self = this, content = params.content || params, arr = [];\r\n            if(void(0)===content) return ;\r\n            var obj = {\r\n                command: \"whitePad\",\r\n                body: {\r\n                    tabId: params.tabId || 0,\r\n                    groupId: params.groupId || this.getLastGroup(),\r\n                    data: []\r\n                }\r\n            };\r\n            if(\"[object Array]\"===toString.call(content)) {\r\n                content.forEach(function(d) {\r\n                    var _d = {\r\n                        sequence: self.sequence,\r\n                        type: d.type || \"\",\r\n                        content: d.data || d,\r\n                        clientId: self._params.userId\r\n                    };\r\n                    arr.push(_d);\r\n                });\r\n            } else {\r\n                arr.push({\r\n                    sequence: self.sequence,\r\n                    type: content.type || \"\",\r\n                    content: content.data || content,\r\n                    clientId: self._params.userId\r\n                });\r\n            }\r\n            [].push.apply(obj.body.data, arr);\r\n            this.ws.send(JSON.stringify(obj));\r\n        };\r\n        /**\r\n         * 群发文本消息\r\n         * @param params.groupId 组id 默认为当前组id\r\n         * @param params.type 消息内容类型\r\n         * @param params.content 消息内容\r\n         */\r\n        _COCO.prototype.sendMsgToAll = function(params) {\r\n            if(void(0)===params.type || (!params.content && -1===[0, false, null].indexOf(params.content))) return ;\r\n            var obj = {\r\n                command: \"groupChat\",\r\n                body: {\r\n                    groupId: params.groupId || this.getLastGroup(),\r\n                    message: {\r\n                        type: params.type,\r\n                        content: params.content,\r\n                        from: this._params.userId\r\n                    }\r\n                }\r\n            };\r\n            this.ws.send(JSON.stringify(obj));\r\n        };\r\n        /**\r\n         * 单发文本消息\r\n         * @param params.userId 需要接收到本条消息的人员id\r\n         * @param params.type 消息内容类型\r\n         * @param params.content 消息内容\r\n         */\r\n        _COCO.prototype.sendMsgTo = function(params) {\r\n            if(void(0)===params.userId || void(0)===params.type || (!params.content && -1===[0, false, null].indexOf(params.content))) return ;\r\n            var obj = {\r\n                command: \"singleChat\",\r\n                body: {\r\n                    sendUserId: this._params.userId,\r\n                    receivedUserId: params.userId,\r\n                    message: {\r\n                        type: params.type,\r\n                        content: params.content\r\n                    }\r\n                }\r\n            };\r\n            this.ws.send(JSON.stringify(obj));\r\n        };\r\n        /**\r\n         * 获取所有在线人员\r\n         * @param groupId 组id\r\n         */\r\n        _COCO.prototype.getGroupOnline = function(groupId) {\r\n            this.ws.send(JSON.stringify({\r\n                command: \"onlineUsers\",\r\n                body: {\r\n                    groupId: groupId || this.getLastGroup()\r\n                }\r\n            }));\r\n        };\r\n        /**\r\n         * 获取组内人员数量\r\n         * @param groupId 组id\r\n         */\r\n        _COCO.prototype.getGroupCount = function(groupId) {\r\n            this.ws.send(JSON.stringify({\r\n                command: \"groupUserCount\",\r\n                body: {\r\n                    groupId: groupId || this.getLastGroup()\r\n                }\r\n            }));\r\n        };\r\n        /**\r\n         * 发送控制类消息给某人\r\n         * @param 参数1 需要接收到本条消息的人员id\r\n         * @param 参数2-n 需要传递的参数\r\n         */\r\n        _COCO.prototype.callOne = function() {\r\n            var args = [].slice.call(arguments, 0),\r\n                to = args.shift(),\r\n                params = 1<args.length?args:args.shift();\r\n            if(void(0)===to) return ;\r\n            var obj = {\r\n                command: \"singleChat\",\r\n                body: {\r\n                    sendUserId: this._params.userId,\r\n                    receivedUserId: to,\r\n                    message: {\r\n                        type: \"control\",\r\n                        content: params || {}\r\n                    }\r\n                }\r\n            };\r\n            this.ws.send(JSON.stringify(obj));\r\n        };\r\n        /**\r\n         * 群发控制类消息\r\n         * @param 参数1 组id 此参数可以省略\r\n         * @param 参数2-n 需要传递的参数\r\n         */\r\n        _COCO.prototype.callAll = function() {\r\n            var args = [].slice.call(arguments, 0),\r\n                groups = this.getGroups(),\r\n                firstArg = args.shift();\r\n            if(-1===groups.indexOf(firstArg)) {\r\n                (firstArg || -1!=[0, false, null].indexOf(firstArg)) && args.unshift(firstArg);\r\n                firstArg = null;\r\n            }\r\n            var params = 1<args.length?args:args.shift(),\r\n                groupId = firstArg|| this.getLastGroup();\r\n            if(void(0)===groupId) return ;\r\n            var obj = {\r\n                command: \"groupChat\",\r\n                body: {\r\n                    groupId: groupId,\r\n                    message: {\r\n                        type: \"control\",\r\n                        from: this._params.userId,\r\n                        content: params || {}\r\n                    }\r\n                }\r\n            };\r\n            this.ws.send(JSON.stringify(obj));\r\n        };\r\n        /**\r\n         * 验证用户是否在线\r\n         * @param id 用户id\r\n         */\r\n        _COCO.prototype.isOnline = function(id) {\r\n            return !!this.users[id];\r\n        };\r\n        return {\r\n            /**\r\n             * 初始化白板\r\n             * @param url COCO服务器地址，必须\r\n             * @param params.userToken 用户的合法token，必须\r\n             * @param params.userId 用户id，必须\r\n             * @param params.groupId 组id，必须\r\n             * @param params.clientType 客户端类型，默认为”web“\r\n             * @param params.deviceName 设备名称，默认为”PC“\r\n             * @param params.beatInterval 心跳发送频率\r\n             * @param params.beatWaitTime 心跳发出等待时长\r\n             */\r\n            init: function(url, params) {\r\n                if(!url || void(0)===params.userToken || void(0)===params.userId) return ;\r\n                return new _COCO(url, params);\r\n            },\r\n            get: function(param) {\r\n                if(void(0)===param) return ;\r\n                return cocoMap[param] || cocoTab[param] || null;\r\n            }\r\n        };\r\n    }\r\n    duang?duang.module(\"Tool\", []).controller(\"COCO\", COCO):(function() {\r\n        window.vm?(function() {\r\n            vm.module = vm.module || {};\r\n            vm.module[\"COCO\"] = COCO();\r\n        }()):window.COCO = COCO();\r\n    }());\r\n}(function() {\r\n    return window.duang || null;\r\n}, void(0)));\n\n\n// WEBPACK FOOTER //\n// src/codyy/coco3.0.js","/**\n *\n *\n * date: 2018-04-03\n * author: Jason\n * fileName: media_device.js\n * describe: 获取本地音视频设备\n *\n *\n */\n;(function (fn, undefined) {\n    var defaultParam = {video: false, audio: false},\n        toString = Object.prototype.toString,\n        duang = fn(),\n        tool = duang?duang.getModule(\"Tool\").getController(\"tool\"):window.tool;\n\n\t//获取所有音视频设备，包括虚拟设备\n    function getUserMedias() {\n        var self = this,\n        param = Object.assign({});\n        param[self.type] = true;\n\n        navigator.mediaDevices.getUserMedia(param).then(function(stream) {\n            var tracks = stream.getTracks();\n\n            if(tracks) {\n                tracks.forEach(function(track) {\n                    track.stop();\n                });\n            }\n\n            stream.oninactive = function () {\n                console.log('Stream inactive');\n            };\n\n            return navigator.mediaDevices.enumerateDevices();\n        }).then(function(devices) {\n            devices = devices.filter(function(device) {\n                var flag = \"communications\"!=device.deviceId && \"default\"!=device.deviceId && (self.type+\"input\")===device.kind;\n                if(flag) self.deviceMap[device.label] = device;\n                return flag;\n            });\n\n        \t[].push.apply(self.devices, devices);\n            self.status = 1;\n        }).catch(function(e) {\n        \tself.time --;\n            if( self.time>0 ){\n            \t//提供三次进行检查\n            \tsetTimeout(function(){\n            \t\tself.getDevices();\n            \t},400);\n            }else{\n            \tconsole.error(e);\n            \tself.status = 1;\n            }\n        });\n    }\n\n    var eventHandle = new tool.constructor.CustomerEvent();\n    eventHandle.handles = [];\n\n    var video = {\n    \ttime : 5,\n        type : \"video\",\n        devices: [],\n        deviceMap: {},\n        getDevices: getUserMedias\n    };\n\n    var audio = {\n    \ttime : 5,\n        type: \"audio\",\n        devices: [],\n        deviceMap: {},\n        getDevices: getUserMedias\n    };\n\n    Object.defineProperty(video, \"status\", {\n        set: function(d) {\n            if(1===d) {\n                Object.defineProperty(this, \"status\", {\n                    value: 1\n                });\n\n                if(1===audio.status) {\n                    eventHandle.fire({type: \"OnReady\", message: [].concat.apply([], this.devices, audio.devices)});\n                }\n            }\n        },\n        get: function() {\n            return 0;\n        },\n        configurable: true\n    });\n\n    Object.defineProperty(audio, \"status\", {\n        set: function(d) {\n            if(1===d) {\n                Object.defineProperty(this, \"status\", {\n                    value: 1\n                });\n                \n                if(1===video.status) {\n                    eventHandle.fire({type: \"OnReady\", message: [].concat.apply([], video.devices, this.devices)});\n                }\n            }\n        },\n        get: function() {\n            return 0;\n        },\n        configurable: true\n    });\n    \n   \tvideo.getDevices();\n    audio.getDevices();\n\n    var mediaDevice = {\n        addEvent: function(name, handle) {\n            if(\"[object Function]\"!=toString.call(handle)) return;\n            eventHandle.addCustEvent(name, handle);\n            if(1===audio.status && 1===video.status) handle();\n        },\n    \tgetAllMedias: function() {\n            if(!audio.status || !video.status) return ;\n    \t\treturn [].concat.apply([], video.devices, audio.devices);\n    \t},\n    \tgetAllVideos: function() {\n            if(!video.status) return ;\n    \t\treturn video.devices;\n    \t},\n    \tgetAllAudios: function() {\n    \t\tif(!audio.status) return ;\n            return audio.devices;\n    \t},\n    \tgetVideoByName: function(name) {\n            if(!video.status) return ;\n    \t\treturn video.deviceMap[name];\n    \t},\n    \tgetAudioByName: function(name) {\n    \t\treturn audio.deviceMap[name];\n    \t},\n    \tgetMediaByName: function(name) {\n    \t\treturn video.deviceMap[name] || audio.deviceMap[name];\n    \t}\n    };\n\n    window.mediaDevice = mediaDevice;\n}(function() {\n    return window.duang || null;\n}));\n\n\n// WEBPACK FOOTER //\n// src/codyy/media_device.js","/**\n *\n *\n * date: 2018-4-12\n * author: Jason\n * fileName: index.js\n * describe: 环境检测\n *\n *\n */\n ;(function(fn, undefined) {\n \t \"use strict\";\n\n    var linkCount = 0,\n        duang = fn.call(Object.create(null)),\n        toString = Object.prototype.toString,\n        tool = duang?duang.getModule(\"Tool\").getController(\"tool\"):window.tool,\n        url = (\"https:\"===location.protocol?\"wss://localhost:9102\":\"ws://localhost:9101\") + \"/envCheck\";\n\n    var defaultConfig = {\n        linkCountLimit: 3\n    };\n\n    var addEvent = window.addEventListener?function(target, type, fn, use) {\n        target.addEventListener(type, fn, use||false);\n    }:function(target, fn, type) {\n        target.attachEvent(\"on\"+type, fn);\n    };\n\n    var eventHandle = {};\n    var callbackMap = {};\n\n    var browserNameMap = {\n    \t\"Chrome\": \"谷歌\",\n    \t\"Firefox\": \"火狐\",\n    \t\"Edge\": \"Edge\",\n    \t\"MSIE\": \"IE\",\n    \t\"360EE\": \"360\",\n    \t\"QQBrowser\": \"QQ\",\n    \t\"OPR\": \"opera\"\n    };\n\n    var eventMap = {\n    \tOnDetectionCamera: \"OnGetCamera\",\t//视频设备获取成功后触发的事件\n    \tOnCheckDMSIsConnect: \"OnCheckStremServer\",\t//硬件检测\n    \tOnVideoRender: \"OnGetVideoInfo\",\t//视频信息\n    \tOnAudioRender: \"OnGetAudioInfo\",\t//音频信息\n    \tOnAudioCheck: \"OnCheckMicrophone\",\t//音频设备检测\n    \tOnNativeEnvironmentCheck: \"OnCheckEnv\",\t//环境检测\n    \tOnBrowserEnvCheck: \"OnBrowserEnvCheck\",\n        OnError: \"OnError\"\n    };\n\n    var errorMessageMap = {\n        1002: \"协议错误\",\n        1015: \"证书错误\"\n    };\n\n    var Pip = function() {\n        var self = this,\n            state = 0, //0为初始化，1为执行中，2为执行完毕，-1为出现bug\n            taskList = [];\n\n        function __Pip__() {}\n\n        __Pip__.prototype = {\n            constructor: __Pip__,\n            pip: function() {\n                if(1===state) return ;\n                taskList.push([].slice.call(arguments, 0));\n                return this;\n            },\n            then: function() {\n                if(1===state || -1===state || 2===state) return ;\n                taskList.push([].slice.call(arguments, 0));\n                return this;\n            },\n            exec: function() {\n                state = 1;\n\n                if(taskList.length>0) {\n                    try {\n                        run(taskList[0]);\n                    } catch(e) {\n                        state = -1;\n                        console.error(e);\n                    }\n                }\n            }\n        };\n\n        function run() {\n            var args = arguments[0],\n                fName = args.shift(),\n                fn = args.pop();\n\n            if(\"[object Function]\"===toString.call(fName) && void(0)===fn) return fName();\n            if(\"[object String]\"!=toString.call(fName) || !self[fName]) throw \"no function name\";\n\n            if(\"[object Function]\"!=toString.call(fn)) {\n                void(0)!=fn && args.push(fn);\n                fn = null;\n            }\n\n            args.push(function() {\n                fn && fn.apply(this, [].slice.call(arguments, 0));\n                taskList.shift();\n                taskList.length>0 && run(taskList[0]);\n            });\n\n            return self[fName] && self[fName].apply(self, args);\n        }\n\n        return new __Pip__();\n    };\n\n    var WSCheck = (function() {\n        var\tws = null, custEvent = new tool.constructor.CustomerEvent();\n\n        var _WSCheck = function(params, callback1, callback2) {\n            var self = this;\n            ws = new WebSocket(url);\n            self.state = 0;\n            ++linkCount;\n\n            ws.onopen = function() {\n                linkCount = 0;\n                self.state = this.readyState;\n                var args = [].slice.call(arguments, 0);\n                callback1 && callback1.apply(ws, args);\n            };\n\n            ws.onmessage = function() {\n                var args = [].slice.call(arguments, 0),\n                    arg = args.shift(),\n                    data = JSON.parse(tool.decodeBase64(arg.data));\n\n                if(data.uuid) {\n                    var uuid = data.uuid;\n                    delete data.uuid;\n                    delete data.event;\n                    callbackMap[uuid] && callbackMap[uuid].call(self, data.param || data);\n                    delete callbackMap[uuid];\n                } else {\n                    if(eventHandle[data.event]) {\n                        eventHandle[data.event](data.param);\n                    } else {\n                        callback2 && callback2.call(obj, data);\n                    }\n                }\n            };\n\n            ws.onclose = function(e) {\n                if(!self.state && linkCount>=(params.linkCountLimit || defaultConfig.linkCountLimit)) {\n                    var info = {\n                        code: 0\n                    };\n\n                    Object.defineProperty(info, \"description\", {\n                        value: \"未安装检测插件\"\n                    });\n\n                    obj.fireEvent({type: eventMap[\"OnError\"], message: info});\n                    return ;\n                }\n\n                self.state = this.readyState;\n                if(1000===e.code) return ;\n\n                switch(e.code) {\n                    case 1002:\n                    case 1015:\n                        obj.fireEvent({type: eventMap[\"OnError\"], message: {code: e.code, message: errorMessageMap[e.code]}});\n                    break;\n                    default:\n                        _WSCheck.call(self, callback1, callback2);\n                }\n            };\n\n            return this;\n        };\n\n        var _send = function(msg) {\n            ws.send(msg);\n        };\n\n        var obj = Object.create({\n            addEvent: custEvent.addCustEvent,\n            removeEvent: custEvent.removeCustEvent,\n            fireEvent: custEvent.fire,\n            handles: [],\n            send: _send\n        }, {init: {\n            writable: false,\n            configurable: false,\n            enumerable: false,\n            value: _WSCheck\n        }});\n\n        return obj;\n    }());\n\n\tvar pluginInterface = {\n\t\tcompressZip: function(src, dist, fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"CompressZip\",\n\t\t\t\tparameter: {\n\t\t\t\t\tsrcPath: src,\n\t\t\t\t\tdesPath: dist\n\t\t\t\t}\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\textractZip: function(src, dist, fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"ExtractZip\",\n\t\t\t\tparameter: {\n\t\t\t\t\tsrcPath: src,\n\t\t\t\t\tdesPath: dist\n\t\t\t\t}\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\tpermission: function(src, fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"Permission\",\n\t\t\t\tparameter: {\n\t\t\t\t\tpath: src\n\t\t\t\t}\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\tdenyPermission: function(src, fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"DenyPermission\",\n\t\t\t\tparameter: {\n\t\t\t\t\tpath: src\n\t\t\t\t}\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\tdetectionCamera: function(fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"DetectionCamera\"\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\tcheckDMSIsConnect: function(dms, time, fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"CheckDMSIsConnect\",\n\t\t\t\tparameter: {\n\t\t\t\t\tdms: dms,\n\t\t\t\t\ttimeout: time || 2*1000\n\t\t\t\t}\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\tvideoRenderStop: function(fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"VideoRenderStop\"\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\tvideoRenderStart: function(winId, deviceName, fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"VideoRenderStart\",\n\t\t\t\tparameter: {\n\t\t\t\t\twindowsHandle: winId,\n\t\t\t\t\tcameraName: deviceName\n\t\t\t\t}\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\taudioRenderStop: function(fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"AudioRenderStop\"\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\taudioRenderStart: function(deviceName, fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"AudioRenderStart\",\n\t\t\t\tparam: {\n\t\t\t\t\taudioName: deviceName\n\t\t\t\t}\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n\t\taudioCheck: function(fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"AudioCheck\"\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            \n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n        checkSpeaker: function(fn) {\n            var config = {\n                method: \"SpeakerCheck\"\n            };\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            \n            WSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n\t\tnativeEnvironmentCheck: function(fn) {\n\t\t\tvar config = {\n\t\t\t\tmethod: \"NativeEnvironmentCheck\"\n\t\t\t};\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n\t\t\tWSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n\t\t},\n        checkExtensionScreen: function(fn) {\n            var config = {\n                method: \"CheckExtensionScreen\"\n            };\n\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n\n            WSCheck.send(tool.encodeBase64(JSON.stringify(config)));\n        }\n\t};\n\n\tvar checkPlugin = {\n\t\tinit: function(params, callback) {\n\t\t\treturn WSCheck.init(params, callback, function() {\n\t\t\t\tvar args = [].slice.call(arguments),\n                    data = args.shift(),\n                    eventName = data.event;\n                eventName && this.fireEvent({type: eventMap[eventName], message: data.param});\n\t\t\t});\n\t\t},\n\t\taddEvent: function(name, fn) {\n\t\t\tif(void(0)===name || void(0)===fn) return ;\n\t\t\tWSCheck.addEvent(name, fn); \n\t\t},\n\t\tremoveEvent: function(name, fn) {\n\t\t\tif(void(0)===name) return ;\n\t\t\tWSCheck.removeEvent(name, fn);\n\t\t},\n\t\t// 当需要有多个任务需要被调用，且下一个任务需要等待上一个任务完成后执行时调用此接口\n        // 参数1 在“wsPublish”中的接口名，string\n        // 参数2-n 插件需要的参数\n        // 参数n+1 回调函数\n        // 目前不用，预留接口\n        pip: function() {\n            var pip = Pip.call(this);\n            pip.pip.apply(this, [].slice.call(arguments, 0));\n            return pip;\n        },\n        // 将目录打包成zip\n        // src是源目录\n        // dist是目标目录\n        compressZip: function(src, dist, fn) {\n        \tif(void(0)===src || void(0)===dist) return ;\n        \tpluginInterface.compressZip(src, dist, fn);\n        },\n        // 将zip文件解压\n        // src是源目录\n        // dist是目标目录\n        extractZip: function(src, dist, fn) {\n        \tif(void(0)===src || void(0)===dist) return ;\n        \tpluginInterface.extractZip(src, dist, fn);\n        },\n        // 给指定文件设置权限\n        // src: 文件路径\n        permission: function(src, fn) {\n        \tif(void(0)===src) return ;\n        \tpluginInterface.permission(src, fn);\n        },\n        // 解除指定文件权限\n        removePerission: function(src, fn) {\n        \tif(void(0)===src) return ;\n        \tpluginInterface.denyPermission(src, fn);\n        },\n        // 获取摄像头\n        getCamera: function(fn) {\n        \tpluginInterface.detectionCamera(fn);\n        },\n        checkStreamServer: function() {\n            var args = toString.call(arguments),\n                dms = args.shift(),\n                fn = args.pop(),\n                time = args.shift();\n        \tif(!dms || \"[object Function]\"===toString.call(dms)) return ;\n        \tpluginInterface.checkDMSIsConnect(dms, time||2*1000, fn);\n        },\n        stopVideoRender: function(fn) {\n        \tpluginInterface.videoRenderStop(fn);\n        },\n        startVideoRender: function(winId, deviceName, fn) {\n        \tif(!winId || !deviceName) return ;\n        \tpluginInterface.videoRenderStart(winId, deviceName, fn);\n        },\n        stopAudioRender: function(fn) {\n        \tpluginInterface.audioRenderStop(fn);\n        },\n        startAudioRender: function(deviceName, fn) {\n        \tif(!deviceName) return ;\n        \tpluginInterface.audioRenderStart(deviceName, fn);\n        },\n        checkAudio: function(fn) {\n        \tpluginInterface.audioCheck(fn);\n        },\n        checkEnv: function(fn) {\n        \tpluginInterface.nativeEnvironmentCheck(fn);\n        },\n        checkBrowserEnv: function(fn) {\n        \tvar info = {\n        \t\tplat: navigator.platform,\n        \t\tAVStreaming: {},\n        \t\tCodyyReceive: {},\n        \t\tCodyyTransfer: {},\n        \t\tflash: {},\n        \t\tPPMeet: {}\n        \t};\n\n        \tvar browserInfo = navigator.userAgent.match(/^\\s*.*(chrome|firefox|edge|MSIE|360EE|QQBrowser|OPR)[\\/\\s]*([\\d+\\.?]+)*.*$/i);\n\n        \tbrowserInfo = {\n        \t\tname: browserInfo[1],\n        \t\tversion: browserInfo[2] || \"\"\n        \t};\n\n        \tObject.defineProperty(browserInfo, \"description\", {\n        \t\tget: function() {\n        \t\t\treturn browserNameMap[browserInfo.name];\n        \t\t}\n        \t});\n\n        \t[].slice.call(navigator.plugins, 0).forEach(function(plugin) {\n        \t\tswitch(plugin.name) {\n        \t\t\tcase \"CodyyMultiHD\":\n                    info.AVStreaming = {};\n        \t\t\tinfo.AVStreaming.name = plugin.name;\n        \t\t\tinfo.AVStreaming.version = plugin.version;\n\n        \t\t\tObject.defineProperty(info.AVStreaming, \"description\", {\n        \t\t\t\tget: function() {\n        \t\t\t\t\treturn \"发送流插件\";\n        \t\t\t\t}\n        \t\t\t});\n        \t\t\tbreak;\n        \t\t\tcase \"CodyyReceiveHD\":\n                    info.CodyyReceive = {};\n        \t\t\tinfo.CodyyReceive.name = plugin.name;\n        \t\t\tinfo.CodyyReceive.version = plugin.version;\n\n        \t\t\tObject.defineProperty(info.CodyyReceive, \"description\", {\n        \t\t\t\tget: function() {\n        \t\t\t\t\treturn \"接收流插件\";\n        \t\t\t\t}\n        \t\t\t});\n        \t\t\tbreak;\n        \t\t\tcase \"CodyyTransfer\":\n                    info.CodyyTransfer = {};\n        \t\t\tinfo.CodyyTransfer.name = plugin.name;\n        \t\t\tinfo.CodyyTransfer.version = plugin.version;\n\n        \t\t\tObject.defineProperty(info.CodyyTransfer, \"description\", {\n        \t\t\t\tget: function() {\n        \t\t\t\t\treturn \"转换插件\";\n        \t\t\t\t}\n        \t\t\t});\n        \t\t\tbreak;\n        \t\t\tcase \"PPMEETSR\":\n                    info.PPMeet = {};\n        \t\t\tinfo.PPMeet.name = plugin.name;\n        \t\t\tinfo.PPMeet.version = plugin.version;\n\n        \t\t\tObject.defineProperty(info.PPMeet, \"description\", {\n        \t\t\t\tget: function() {\n        \t\t\t\t\treturn \"视频会议插件\";\n        \t\t\t\t}\n        \t\t\t});\n        \t\t\tbreak;\n        \t\t\tcase \"Shockwave Flash\":\n                    info.flash = {};\n        \t\t\tinfo.flash.name = plugin.name;\n        \t\t\tinfo.flash.version = plugin.version;\n\n        \t\t\tObject.defineProperty(info.flash, \"description\", {\n        \t\t\t\tget: function() {\n        \t\t\t\t\treturn \"flash\";\n        \t\t\t\t}\n        \t\t\t});\n        \t\t}\n        \t});\n\n        \tinfo.browser = browserInfo;\n            \"[object Function]\"===toString.call(fn) && fn(info);\n        },\n        checkExtensionScreen: function(fn) {\n            pluginInterface.checkExtensionScreen(fn);\n        },\n        checkSpeaker: function(fn) {\n            pluginInterface.checkSpeaker(fn);\n        }\n\t};\n\n\twindow.plugin = window.plugin || {};\n\twindow.plugin.checkEnv = checkPlugin;\n }(function() {\n \treturn window.duang || null;\n }));\n\n\n// WEBPACK FOOTER //\n// src/codyy/env_check_plugin.js","/**\n * 对CodyyMeeting插件的前台封装，方便调用\n * @Author Jason\n * @Date 2017-11-7\n * @Other 依赖tool.js   Websocket\n * 如果项目中加载了duangJs，会codyyMeeting对象加载入duangJs，模块名为：Tool，指令名：CodyyMeeting\n * 如果项目中没有加载duangJs，会将codyyMeeting对象暴露在全局环境中\n * 与底层Websocket服务的连接是在初始化时建立的\n * ws://localhost:9098\n */\n;(function(fn, undefined) {\n    var duang = fn(),\n        cameras = {},\n        audios = {},\n        isUnload = false,\n        pluginVersion = \"\",\n        tool = duang?duang.getModule(\"Tool\").getController(\"tool\"):window.tool,\n        url = \"https:\"===location.protocol?\"wss://localhost:9099\":\"ws://localhost:9098\";\n    var addEvent = window.addEventListener?function(target, type, fn, use) {\n        target.addEventListener(type, fn, use||false);\n    }:function(target, fn, type) {\n        target.attachEvent(\"on\"+type, fn);\n    };\n    addEvent(window, \"beforeunload\", function() {\n        isUnload = true;\n    });\n    var eventMap = {\n        5002: \"OnInit\",\n        5004: \"OnServerRecordStart\",\n        5006: \"OnServerRecordStop\",\n        5010: \"OnSetShareVideo\",\n        5016: \"OnShareVideoTimeChange\",\n        5019: \"OnServerRecordPause\",\n        5020: \"OnError\",\n        5063: \"OnCaptureUpload\",\n        5067: \"OnShareVideoEnd\",\n        5081: \"OnLockScreen\",\n        5082: \"OnUnlockScreen\",\n        9999: \"OnDisconnect\",\n        100000000: \"OnStop\"\n    };\n    //获取所有音视频设备，包括虚拟设备\n    mediaDevice.addEvent(\"OnReady\", function() {\n        var devices = mediaDevice.getAllVideos();\n        devices.forEach(function(device) {\n            if(/Codyy\\w+\\((\\d+)\\)/.test(device.label)) {\n                if(\"videoinput\"===device.kind) {\n                    cameras[RegExp.$1] = device;\n                }\n            }\n        });\n    });\n    var av = {\n        preview: (function() {\n            var stream = null,\n                video = null,\n                constraints  = {\n                    video: {\n                        width: {ideal: 1280},\n                        height: {ideal: 720},\n                        deviceId: {}\n                    }\n                };\n        \treturn {\n        \t\tsetCamera: function(deviceName) {\n        \t\t\tif(!deviceName) return ;\n                    var camera = cameras[deviceName.match(/Codyy\\w+\\((\\d+)\\)/)[1]];\n                    if(!camera) {\n                        console.error(\"未获取到相关设备！\");\n                    } else {\n                        constraints.video.deviceId = {exact: camera.deviceId};\n                    }\n\t\t\t\t},\n\t\t\t\tstartPlay: function(_video) {\n        \t\t\tif(_video) video = _video;\n        \t\t\tif(!video) return ;\n                    if(stream) {\n                        stream.getTracks().forEach(function(track) {\n                            track.stop();\n                        });\n                    }\n                    navigator.mediaDevices.getUserMedia(constraints).then(function(_stream) {\n                        stream = _stream;\n                        video.srcObject = _stream;\n                    });\n\t\t\t\t},\n\t\t\t\tpausePlay: function() {\n\t\t\t\t\tvideo && video.pause();\n\t\t\t\t},\n\t\t\t\tstopPlay: function() {\n                    video && video.pause();\n\t\t\t\t}\n\t\t\t};\n\t\t}())\n\t};\n    var WSCodyyMeeting = (function() {\n        var\tws = null,\n            isClose = false,\n            custEvent = new tool.constructor.CustomerEvent();\n        var _WSCodyyMeeting = function(callback1, callback2) {\n            var self = this;\n            isClose = false;\n            ws = new WebSocket(url);\n            ws.onopen = function() {\n                var args = [].slice.call(arguments, 0);\n                callback1 && callback1.apply(ws, args);\n            };\n            ws.onmessage = function() {\n                var args = [].slice.call(arguments, 0),\n                    arg = args.shift(),\n                    data = tool.decodeBase64(arg.data);\n                if(!/register/g.test(data)) {\n                    try {\n                        data = JSON.parse(data);\n                    } catch(e) {\n                        throw e;\n                    }\n                } else {\n                    return callback2.call(self, data);\n                }\n                if(\"5002\"===data.event.toString()) {\n                    pluginVersion = data.parameter.version;\n                    return ;\n                }\n                if(data.uuid) {\n                } else {\n                    callback2.call(self, data);\n                }\n            };\n            ws.onclose = function() {\n                isClose && callback2.call(self, {event: 100000000});\n                if(isUnload || isClose) return;\n                _WSCodyyMeeting(null, callback2);\n            };\n        };\n        var _send = function(msg) {\n            ws.send(msg);\n        };\n        var _stop = function() {\n            isClose = true;\n            ws.close();\n        };\n        var obj = Object.create({\n            addEvent: custEvent.addCustEvent,\n            removeEvent: custEvent.removeCustEvent,\n            fireEvent: custEvent.fire,\n            handles: [],\n            send: _send,\n            stop: _stop\n        }, {init: {\n            writable: false,\n            configurable: false,\n            enumerable: false,\n            value: _WSCodyyMeeting\n        }});\n        return obj;\n    }());\n    var configWrapper = function(val) {\n        return {\n            key: \"WSMeetingEngine\",\n            value: val\n        };\n    };\n    //视频会议里相关插件\n    var codyyMeeting = {\n        //初始化\n        init: function(params, callback) {\n            if(!params) return ;\n            var self = this;\n            var config = {\n                method: 5001,\n                parameter: params\n            };\n            WSCodyyMeeting.init(function() {\n                var registerConfig = {\n                    key: \"register\",\n                    value: params.moduleName\n                };\n                WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(registerConfig)));\n            }, function(data) {\n                if(/register/g.test(data)) {\n                    callback && callback.call(self);\n                    WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n                    return ;\n                }\n                var eventName = eventMap[data.event || \"\"];\n                eventName && this.fireEvent({type: eventName, message: data.parameter});\n            });\n        },\n        //开始服务器录制\n        startServerRecord: function() {\n            var config = {method: 5003};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n        //服务器录制暂停\n        pauseServerRecord: function() {\n            var config = {method: 5018};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n        //停止服务器录制\n        stopServerRecord: function() {\n            var config = {method: 5005};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n        //开始共享桌面\n        startShareDesk: function() {\n            var config = {method: 5007};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n        //停止共享桌面\n        stopShareDesk: function() {\n            var config = {method: 5008};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n        //设置共享视频\n        setShareVideo: function(deviceName) {\n            if(!deviceName) return ;\n            var config = {\n                method: 5009,\n                parameter: {\n                    title: document.title,\n                    cameraId: deviceName\n                }\n            };\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n            av.preview.setCamera(deviceName);\n        },\n        //开始共享视频\n        startShareVideo: function(video) {\n            var config = {method: 5011};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n            //av.preview.startPlay(video);\n        },\n        //seek到视频某个时间点，单位:s\n        shareVideoSeek: function(time) {\n            if(void(0)===time || isNaN(time)) return ;\n            var config = {\n                method: 5012,\n                parameter: {\n                    seek: time\n                }\n            };\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n        //暂停共享视频\n        pauseShareVideo: function() {\n            var config = {method: 5013};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n            av.preview.pausePlay();\n        },\n        //停止共享视频\n        stopShareVideo: function() {\n            var config = {method: 5014};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n            av.preview.stopPlay();\n        },\n        //退出视频共享\n        exitShareVideo: function() {\n            var config = {method: 5015};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n            av.preview.stopPlay();\n        },\n        //截屏\n        captureScreen: function() {\n            var config = {method: 5017};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n        //通知插件断开连接\n        quit: function() {\n            var config = {method: 5021};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n        //调节共享视频音量\n        setShareVideoVoice: function(val) {\n            var config = {\n                method: 5057,\n                parameter: {\n                    val: val\n                }\n            };\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n\n        // 锁屏\n        lockScreen: function(val){\n            var config = {\n                method: 5060,\n                parameter: {\n                    val: val\n                }\n            };\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n\n        // 取消锁屏\n        unlockScreen: function(){\n            var config = {method: 5061};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n        },\n\n\n        addEvent: function(type, callback) {\n            if(void(0)===type || void(0)===callback) return;\n            WSCodyyMeeting.addEvent(type, callback);\n        },\n        removeEvent: function(type) {\n            if(void(0)===type) return;\n            WSCodyyMeeting.removeEvent(type);\n        },\n        stop: function() {\n            var config = {method: 5021};\n            WSCodyyMeeting.send(tool.encodeBase64(JSON.stringify(configWrapper(JSON.stringify(config)))));\n            WSCodyyMeeting.stop();\n        },\n        get version() {\n            return pluginVersion;\n        }\n    };\n    var plugin = {\n        codyyMeeting: codyyMeeting\n    };\n    !duang?(window.plugin=Object.assign(window.plugin||{}, plugin)):(function() {\n        duang.module(\"Tool\", []).directive(\"CodyyMeeting\", [\"tool\"], function() {\n            return codyyMeeting;\n        });\n    }());\n}(function() {\n    return window.duang || null;\n}));\n\n\n// WEBPACK FOOTER //\n// src/codyy/meeting_plugin.js","/**\n *\n *\n * date: 2018-04-03\n * author: Jason\n * fileName: index.js\n * describe: 流发送插件\n *\n *\n */\n;(function(fn, undefined) {\n    \"use strict\";\n    var publishPlugin = null,\n        cameras = {},\n        audios = {},\n        number = 1,\n        publishVersion = \"\",\n        callbackMap = {},\n        duang = fn.call(Object.create(null)),\n        toString = Object.prototype.toString,\n        tool = duang?duang.getModule(\"Tool\").getController(\"tool\"):window.tool,\n        url = (\"https:\"===location.protocol?\"wss://localhost:9099\":\"ws://localhost:9098\") + \"/publish\";\n    //OnGeneral事件下的不同key\n    var eventMap1 = {\n        1: \"OnMainChange\",\t\t//主画面索引值改变事件\n        2: \"OnRateWatch\",\t\t//流量监测\n        3: \"OnMouseWatch\",\t\t//鼠标侦测\n        4: \"OnVGAMotionWatch\",\t//VGA运动量检测\n        5: \"OnCPUWatch\",\t\t//CPU消耗(总体)\n        6: \"OnGPUWatch\",\t\t//GPU消耗(总体)\n        7: \"OnMemoryWatch\",\t\t//内存消耗\n        8: \"OnPacketLostRate\",\t//丢包率\n        9: \"OnBehaviorExplain\", //行为分析\n        10: \"OnBehaviorTrack\",  //行为轨迹\n        11: \"OnServerRecordStateChange\",//服务器录制状态\n        15: \"OnRecordLimit\"\n    };\n    var eventMap = {\n        101: \"OnTransVideoOver\",\t//视频转换结果的通知\n        // 102: \"OnCreateShareMem\",\t//共享内存创建名字的通知\n        103: eventMap1,\t\t//OnGeneral\n        104: \"OnRemoteControlKeypress\",\t//遥控器按键通知\n        105: \"OnCenterControlKeypress\",\t//中控台按键通知\n        106: \"OnStateMessage\",\t//状态上报通知\n        107: \"OnFunctionResult\",\t//函数结果通知\n        108: \"OnConnectResult\",\t//主辅互换后连接结果通知\n        \n        6104 : \"OnRunningExceptionReport\",\n    };\n    var errorMessageMap = {\n        1002: \"协议错误\",\n        1015: \"证书错误\"\n    };\n    var addEvent = window.addEventListener?function(target, type, fn, use) {\n        target.addEventListener(type, fn, use||false);\n    }:function(target, fn, type) {\n        target.attachEvent(\"on\"+type, fn);\n    };\n    var eventHandle = {\n        199: function(data) {\n            publishVersion = data.version;\n        }\n    };\n    //获取所有音视频设备，包括虚拟设备\n    mediaDevice.addEvent(\"OnReady\", function() {\n        var devices = mediaDevice.getAllVideos();\n        devices.forEach(function(device) {\n            if(/Codyy\\w+\\((\\d+)\\)/.test(device.label)) {\n                if(\"videoinput\"===device.kind) {\n                    cameras[RegExp.$1] = device;\n                }\n            }\n        });\n    });\n    var Pip = function() {\n        var self = this,\n            state = 0, //0为初始化，1为执行中，2为执行完毕，-1为出现bug\n            taskList = [];\n        function __Pip__() {}\n        __Pip__.prototype = {\n            constructor: __Pip__,\n            pip: function() {\n                if(1===state) return ;\n                taskList.push([].slice.call(arguments, 0));\n                return this;\n            },\n            then: function() {\n                if(1===state || -1===state || 2===state) return ;\n                taskList.push([].slice.call(arguments, 0));\n                return this;\n            },\n            exec: function() {\n                state = 1;\n                if(taskList.length>0) {\n                    try {\n                        run(taskList[0]);\n                    } catch(e) {\n                        state = -1;\n                        console.error(e);\n                    }\n                }\n            }\n        };\n        function run() {\n            var args = arguments[0],\n                fName = args.shift(),\n                fn = args.pop();\n            if(\"[object Function]\"===toString.call(fName) && void(0)===fn) return fName();\n            if(\"[object String]\"!=toString.call(fName) || !self[fName]) throw \"no function name\";\n            if(\"[object Function]\"!=toString.call(fn)) {\n                void(0)!=fn && args.push(fn);\n                fn = null;\n            }\n            args.push(function() {\n                fn && fn.apply(this, [].slice.call(arguments, 0));\n                taskList.shift();\n                taskList.length>0 && run(taskList[0]);\n            });\n            return self[fName] && self[fName].apply(self, args);\n        }\n        return new __Pip__();\n    };\n    function linkVideo(params, callback) {\n        var self = this,\n            camera = cameras[params.cameraId||number++];\n        var constraints  = {\n            video: {\n                width: {ideal: 1280},\n                height: {ideal: 720},\n                deviceId: {}\n            }\n        };\n        var _linkVideo = function() {\n            try {\n                constraints.video.deviceId = {exact: camera.deviceId};\n                if(self.stream) {\n                    self.stream.getTracks().forEach(function(track) {\n                        track.stop();\n                    });\n                }\n                navigator.mediaDevices.getUserMedia(constraints).then(function(_stream) {\n                    self.stream = _stream;\n                    \n                    params.video.onloadstart = function(){\n\t\t            \tvar time = 20;\n\t\t            \tvar inter = setInterval(function(){\n\t\t            \t\tparams.video.srcObject.getTracks().forEach(function(track) {\n\t\t            \t\t\tif( !track.onmute ){\n\t\t       \t\t \t\t\t\ttrack.onmute = function() {\n\t\t\t\t\t                \tparams.video.load();\n\t\t\t\t\t                };\n\t\t            \t\t\t}\n\t\t\t\t            });\n\t\t\t\t            time --;\n\t\t\t\t            if( time == 0){\n\t\t\t\t            \tclearInterval(inter);\n\t\t\t\t            }\n\t\t            \t},1000);\n\t\t\t\t\t}\n                    params.video.srcObject = _stream;\n                    \n                    \n                    \"[object Function]\"===toString.call(callback) && callback();\n                }).catch(function(e) {\n                    console.error(e.message);\n                });\n            } catch(e) {\n                console.error(e.message);\n            }\n        };\n        if(camera) {\n            _linkVideo();\n        } else {\n            console.error(\"未找到相关设备！\");\n        }\n    }\n//================发送插件开始=======================================================\n    function AvPublish(params, server) {\n        if(!this instanceof AvPublish) {\n            return new AvPublish(params);\n        }\n        var self = this, custEvent = new tool.constructor.CustomerEvent();\n        this.name = \"AvPublish\";\n        this.id = params.id || tool.random(10);\n        custEvent.handle = [];\n        if(params.background) {\n            params.video.style.background = \"center contain no-repeat content-box url(\"+params.background+\")\";\n        }\n        params.video.setAttribute(\"autoplay\", \"autoplay\");\n        self.addEvent = custEvent.addCustEvent.bind(custEvent);\n        self.removeEvent = custEvent.removeCustEvent.bind(custEvent);\n        var bindEvent = function() {\n            var tracks = self.stream.getTracks();\n            tracks.forEach(function(track) {\n                //流中断\n                /*track.onmute = function() {\n                    params.video.load();\n                    WSPublish.fireEvent({type: \"OnBreak\", message: {type: track.kind, id: self.id, video: params.video}});\n                };*/\n            });\n        };\n        linkVideo.call(self, params, bindEvent);\n        this.setVideoElement = function(video) {\n            params.video = video;\n            linkVideo.call(self, params, bindEvent);\n        };\n        this.shutdown = function(fn) {\n            try {\n                if(self.stream) {\n                    self.stream.getTracks().forEach(function(track) {\n                        track.stop();\n                    });\n                    fn && fn();\n                }\n            } catch(e) {\n                console.error(e.message);\n            }\n        };\n    }\n    AvPublish.prototype = {\n        constructor: AvPublish\n    };\n//================发送插件结束=======================================================\n//================发送插件服务开始=======================================================\n    var WSPublish = (function() {\n        var\tws = null, custEvent = new tool.constructor.CustomerEvent();\n        var _WSPublish = function(params, callback1, callback2) {\n            var self = this;\n            ws = new WebSocket(url);\n            eventHandle[9999] = function() {\n                avPublishInterface.initSenderModule(params, function() {\n                    var args = [].slice.call(arguments, 0);\n                    callback1 && callback1.apply(ws, args);\n                });\n            };\n            ws.onopen = function() {\n                self.state = this.readyState;\n                eventHandle[9999]();\n            };\n            ws.onmessage = function() {\n                var args = [].slice.call(arguments, 0),\n                    arg = args.shift(),\n                    data = JSON.parse(tool.decodeBase64(arg.data));\n                if(data.uuid) {\n                    callbackMap[data.uuid] && callbackMap[data.uuid].call(self, data);\n                    delete callbackMap[data.uuid];\n                } else {\n                    if(eventHandle[data.event]) {\n                        eventHandle[data.event](data.param);\n                    } else {\n                        callback2 && callback2.call(obj, data);\n                    }\n                }\n            };\n            ws.onclose = function(e) {\n                self.state = this.readyState;\n                if(1000===e.code) return ;\n                switch(e.code) {\n                    case 1002:\n                    case 1015:\n                        obj.fireEvent({type: \"OnError\", message: {code: e.code, message: errorMessageMap[e.code]}});\n                    break;\n                    default:\n                        _WSPublish.call(self, params, null, callback2);\n                }\n            };\n            return this;\n        };\n        var _send = function(msg) {\n            ws.send(msg);\n        };\n        var obj = Object.create({\n            addEvent: custEvent.addCustEvent,\n            removeEvent: custEvent.removeCustEvent,\n            fireEvent: custEvent.fire,\n            handles: [],\n            send: _send\n        }, {init: {\n            writable: false,\n            configurable: false,\n            enumerable: false,\n            value: _WSPublish\n        }});\n        return obj;\n    }());\n//================发送插件服务结束=======================================================\n    //发送插件初始化接口\n    //此接口对外，供业务层调用初始化发送插件\n    //不包括插件服务的初始化\n    var avPublish = {\n        init: function(params) {\n            if(void(0)===params || !params.video) return;\n            publishPlugin = new AvPublish(params, WSPublish);\n            return publishPlugin;\n        },\n        getPlugin: function() {\n            return publishPlugin;\n        }\n    };\n    var avPublishInterface = {\n        /**\n         * 启动发送模块,并将需要的设备名称传下来\n         * params 从后端获取的参数；（必填）\n         */\n        initSenderModule: function(params, fn) {\n            var config = {\n                method: 1,\n                delayExitTime: params.delayExitTime || 0,\n                param: {\n                    stitchDeviceName: params.stitchDeviceName || \"\",\n                    resourceDeviceList: params.resourceDeviceList || [],\n                    mcuDeviceName: \"\"\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        /**\n         * 设置初始化参数，这里的参数从后端获取\n         * type 代表不同的终端设备，1：导播，2：发送端，3：中控及班班通，4：视频转换；（必填）\n         * params 从后端获取的参数；（必填）\n         * fn 回调函数\n         */\n        setConfig: function(type, params, fn) {\n            if(!type || !params) return ;\n            var config = {\n                method: 2,\n                param: {\n                    key: type,\n                    value: JSON.stringify(params)\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            console.log(\"==========================into setConfig======================================\");\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //录制控制\n        setRecord: function(key, value, index, fn) {\n            if(void(0)===key || void(0)===value || isNaN(key)) return ;\n            var config = {\n                method: 3,\n                param: {\n                    key: key,\n                    id: index,\n                    value: value,\n                    flag : 0\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //流控制\n        setStream: function(key, value, index, flag, fn) {\n            if(void(0)===key || void(0)===value || isNaN(key)) return ;\n            var config = {\n                method: 4,\n                param: {\n                    key: key,\n                    id: index,\n                    flag: flag,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置截屏上传服务器所需要的参数\n        setStitchCapture: function(url, interval, height, compress, fn) {\n            if(isNaN(height) || void(0)===url) return ;\n            var config = {\n                method: 5,\n                param: {\n                    captureInterval: interval,\n                    captureHeight: height||200,\n                    compress: captureCompress,\n                    url: url\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置视频设备的参数\n        setResourceVideoDevice: function(key, value, fn) {\n            if(void(0)===key || void(0)===value) return ;\n            var config = {\n                method: 6,\n                param: {\n                    key: key,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置PPT索引功能的参数\n        setPPTIndexInfo: function(key, value, fn) {\n            if(void(0)===key || void(0)===value) return ;\n            var config = {\n                method: 7,\n                param: {\n                    key: key,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置流量监测功能参数\n        setTrafficStatistic: function(time, interval, fn) {\n            if((time && isNaN(time)) || (interval && isNaN(interval))) return ;\n            var config = {\n                method: 8,\n                param: {\n                    time: time || 3000,\n                    eventInterval: interval || 3000\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //移除台标,字幕信息\n        removeLogoSubtitle: function(key, id, index, fn) {\n            if(void(0)===id || void(0)===index) return ;\n            var config = {\n                method: 9,\n                param: {\n                    key: key || 1,\n                    id: id,\n                    value: index\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置片头,片尾开关\n        setMovieHeadTail: function(key, _switch, file, fn) {\n            if(void(0)===file) return ;\n            var config = {\n                method: 10,\n                param: {\n                    key: key || 1,\n                    switch: _switch || 0,\n                    file: file\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置导播相关功能信息,根据key值不同,完成相应功能设置\n        setDirectorControl: function(key, index, value, fn) {\n            if(void(0)===key || void(0)===index) return ;\n            var config = {\n                method: 11,\n                param: {\n                    key: key,\n                    id: index,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置拼接器相关功能信息,根据key值不同,完成相应功能设置\n        setStitchVideo: function(key, id, value, fn) {\n            if(void(0)===key) return ;\n            var config = {\n                method: 12,\n                param: {\n                    key: key,\n                    id: id,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //获取电脑磁盘上存储的一些信息\n        getSystemInfo: function(key, value, fn) {\n            var config = {\n                method: 13,\n                param: {\n                    key: key,\n                    value: value || \"\"\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置自动更新功能所需参数\n        setUpdatePlugin: function(url, fn) {\n            var config = {\n                method: 14,\n                param: {\n                    update: 1,\n                    updaterUrl: url\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置程序运行状态,根据key值不同,完成相应功能设置\n        setProgramState: function(key, fn) {\n            var config = {\n                method: 15,\n                param: {\n                    key: key\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //打开vnc,班班通预览程序\n        startVNCBBT: function(key, value, fn) {\n            var config = {\n                method: 16,\n                param: {\n                    key: key,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //控制班班通预览程序,根据key值不同,完成相应功能设置\n        setBBTControl: function(key, value, fn) {\n            var config = {\n                method: 17,\n                param: {\n                    key: key,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置录制状态\n        setRecordState: function(state, fn) {\n            var config = {\n                method: 18,\n                param: {\n                    state: state\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置预览窗口大小\n        changeWindowSize: function() {},\n        //通用接口设置,根据key值不同,完成相应功能设置\n        setGeneralFunction: function(key, value, fn) {\n            var config = {\n                method: 20,\n                param: {\n                    key: key,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置对话模式初始值\n        setConversationArray: function(param, fn) {\n            var config = {\n                method: 21,\n                param: param\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置服务器录制状态\n        setServerRecordState: function(state, fn) {\n            var config = {\n                method: 22,\n                param: {\n                    state: state\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        setPreview: function(index, value, fn) {\n            var config = {\n                method: 23,\n                param: {\n                    id: index,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSPublish.send(tool.encodeBase64(JSON.stringify(config)));\n        }\n    };\n    //发送插件服务相关接口\n    //此接口对外，供业务层调用初始化发送插件服务\n    var wsPublish = {\n        init: function(params, callback) {\n            if(void(0)===params) return ;\n            var self = this;\n            return WSPublish.init.call(WSPublish, params, callback, function() {\n                var args = [].slice.call(arguments),\n                    data = args.shift(),\n                    eventName = data.param && data.param.key?eventMap[data.event][data.param.key]:eventMap[data.event];\n                data.param?delete data.param.key:(data.param = \"\");\n                eventName && this.fireEvent({type: eventName, message: data.param});\n            });\n        },\n        get version() {\n            return publishVersion;\n        },\n        get state() {\n            return WSPublish.state;\n        },\n        //当需要有多个任务需要被调用，且下一个任务需要等待上一个任务完成后执行时调用此接口\n        //参数1 在“wsPublish”中的接口名，string\n        //参数2-n 插件需要的参数\n        //参数n+1 回调函数\n        pip: function() {\n            var args = [].slice.call(arguments, 0),\n                pip = Pip.call(this);\n            args.length>0 && pip.pip.apply(this, args);\n            return pip;\n        },\n        addEvent: function(type, callback) {\n            if(void(0)===type || void(0)===callback) return;\n            WSPublish.addEvent(type, callback);\n        },\n        removeEvent: function(type, fn) {\n            if(void(0)===type) return;\n            WSPublish.removeEvent(type, fn);\n        },\n        /**\n         * 设置导播初始化参数\n         * params 从后端获取的参数；（必填）\n         * fn 回调函数\n         */\n        setDirectorConfig: function(params, fn) {\n            if(!params) return ;\n            avPublishInterface.setConfig(1, params, fn);\n        },\n        /**\n         * 设置发送插件初始化参数\n         * params 从后端获取的参数；（必填）\n         * fn 回调函数\n         */\n        setPublisherConfig: function(params, fn) {\n            if(!params) return ;\n            console.info(\"===========================into setPublisherConfig===================================\");\n            avPublishInterface.setConfig(2, params, fn);\n        },\n        /**\n         * 设置中控及班班通初始化参数\n         * params 从后端获取的参数；（必填）\n         * fn 回调函数\n         */\n        setControllerConfig: function(params, fn) {\n            if(!params) return ;\n            avPublishInterface.setConfig(3, params, fn);\n        },\n        /**\n         * 设置转换视频文件初始化参数\n         * params 从后端获取的参数；（必填）\n         * fn 回调函数\n         */\n        setTransConfig: function(params, fn) {\n            if(!params) return ;\n            avPublishInterface.setConfig(4, params, fn);\n        },\n        /**\n         * 允许录制\n         * 参数1 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        ableRecord: function() {\n            var args = [].slice.call(arguments, 0);\n            avPublishInterface.setRecord.apply(avPublishInterface, [].concat.apply([1, 1], args));\n        },\n        /**\n         * 不允许录制\n         * 参数1 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        disableRecord: function() {\n            var args = [].slice.call(arguments, 0);\n            avPublishInterface.setRecord.apply(avPublishInterface, [].concat.apply([1, 0], args));\n        },\n        /**\n         * 设置录制路径\n         * path 录制路径；（必填）\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordFilePath: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            if(void(0)===params.path) return ;\n            avPublishInterface.setRecord(2, params.path, +params.index||0, fn);\n        },\n        /**\n         * 设置录制路径\n         * type 录制文件类型[flv, mp4]；（必填）\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordFileType: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop(),\n                map = {flv: 1, mp4: 2};\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setRecord(3, void(0)===params.type?1:map[params.type], params.index||0, fn);\n        },\n        /**\n         * 设置appending和非appeding录制模式\n         * appending false/true，默认：true\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordAppending: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setRecord(4, void(0)===params.appending?1:Number(params.appending), params.index||0, fn);\n        },\n        /**\n         * 设置录制文件的码率\n         * bitrate 码率；默认：4000\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordBitrate: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setRecord(5, void(0)===params.bitrate?4000:params.bitrate, params.index||0, fn);\n        },\n        /**\n         * 设置录制文件的分辨率\n         * resolution 分辨率；默认：1920*1080\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordResolution: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setRecord(6, void(0)===params.resolution?[1920, 1080]:params.resolution, params.index||0, fn);\n        },\n        /**\n         * 设置录制文件的贞率\n         * fps 贞率；默认：24\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordfps: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setRecord(7, void(0)===params.fps?24:params.fps, params.index||0, fn);\n        },\n        /**\n         * 设置录制文件的音频存在形式\n         * staute 0：无音频，1：只有主讲人音频，2：主辅课堂混音；默认：1\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordVoiceStaute: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setRecord(8, void(0)===params.staute?1:params.staute, params.index||0, fn);\n        },\n        /**\n         * 设置录制文件的编码设备\n         * encode 1：CPU，1：集显，2：独显；默认：1\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordEncodeType: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setRecord(9, void(0)===params.encode?2:params.encode, params.index||0, fn);\n        },\n        /**\n         * 设置录制文件大小，用于分段录制\n         * size 文件大小，单位b，默认：5*1024*1024\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordFileSize: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setRecord(10, void(0)===params.size?5*1024*1024:params.size, params.index||0, fn);\n        },\n        /**\n         * 设置录制文件时长，用于分段录制\n         * duration 录制时长，单位s，默认：30*60\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * 参数2 回调函数\n         */\n        setRecordFileDuration: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setRecord(11, void(0)===params.duration?30*60:params.duration, params.index||0, fn);\n        },\n        /**\n         * 关闭某路流\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        unpublishStream: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(1, 0, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 打开某路流\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        publishStream: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(1, 1, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 设置流地址\n         * streamName 流地址，（必填）\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        setStreamName: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            if(void(0)===params.streamName) return ;\n            avPublishInterface.setStream(2, params.streamName, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 开始服务器录制\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        ableServerRecord: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(2, 0, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 停止服务器录制\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        disableServerRecord: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(2, 1, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 设置流码率\n         * bitrate 码率，默认：2000\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        setStreamBitrate: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(4, void(0)===params.bitrate?2000:params.bitrate, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 设置流分辨率\n         * resolution 分辨率，默认1920*1080\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        setStreamResolution: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(5, void(0)===params.resolution?[1920, 1080]:params.resolution, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 设置流贞率\n         * fps 贞率，默认：24\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        setStreamfps: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(6, void(0)===params.fps?24:params.fps, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 设置发送的每路流音频存在形式\n         * staute 0：无音频，1：只有主讲人音频，2：主辅课堂混音，默认：1\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        setStreamVoiceStaute: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(7, void(0)===params.staute?1:params.staute, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 设置发送的每路流编码方式\n         * encode 1：CPU，2：集显，3：独显，默认：2\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        setStreamEncodeType: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(8, void(0)===params.encode?2:params.encode, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 设置发送的每路流编码方式\n         * recordMode 0 代表可进行【开始，停止】控制，断流10s后会自动结束录制，如在线课堂 ,默认：0\n         *\t\t\t  1代表可进行【开始，暂停，停止】控制，断流不会结束录制，如智慧课堂）\n         *\t\t\t  2代表【开始，暂停，停止】控制，断流10s后会自动结束录制）\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        setServerRecordMode: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(9, params.recordMode||0, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 设置发送的每路流编码方式\n         * streamMode 0 音视频 1 视频 2 音频 3无，默认：0\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂   13:移动端\n         * 参数2 回调函数\n         */\n        setStreamMode: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setStream(10, +(params.streamMode||0), +(params.index||0), +(params.direction||12), fn);\n        },\n        /**\n         * 主辅互换后改变服务器端录制流\n         * streamName 流名称\n         * append 是否需要append\n         * index 机位索引，包括[1, 2, 3, 4, 5, 6]，100为观摩\n         * direction 关闭发往哪里的流，11:远程导播  12:辅课堂 13:移动端\n         * 参数2 回调函数\n         */\n        changeServiceRecordStream: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            if(void(0)===params.streamName) return ;\n            avPublishInterface.setStream(11, {url: params.streamName, append: Number(params.append||1)}, params.index||0, params.direction||12, fn);\n        },\n        /**\n         * 拼接画面定时截图发送到平台\n         * interval 截图发送间隔，单位秒(int)，默认：10\n         * height 生成的jpeg图片高度，默认：100\n         * compress Jpeg图片的的压缩质量，50-100(int)，默认：100\n         * 参数2 回调函数\n         */\n        setStitchCapture: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            if(!params.url) return ;\n            avPublishInterface.setStitchCapture(params.url, params.interval||10, params.height||100, params.compress||100, fn);\n        },\n        /**\n         * 设置图象采集设备贞率\n         * 参数1 贞率\n         * 参数2 回调函数\n         */\n        setDevicefps: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var fps = args.shift() || lastArg;\n            if(!fps) return ;\n            avPublishInterface.setResourceVideoDevice(1, fps, fn);\n        },\n        /**\n         * 设置图象采集设备分辨率\n         * 参数1 分辨率\n         * 参数2 回调函数\n         */\n        setDeviceResolution: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var resolution = args.shift() || lastArg;\n            if(!resolution) return ;\n            avPublishInterface.setResourceVideoDevice(2, resolution, fn);\n        },\n        /**\n         * 设置timeline文件存放路径\n         * 参数1 timeline文件路径；（必填）\n         * 参数2 回调函数\n         */\n        setTimelineFile: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var path = args.shift() || lastArg;\n            if(!path) return ;\n            avPublishInterface.setPPTIndexInfo (1, path, fn);\n        },\n        /**\n         * 设置教室名称\n         * 参数1 教室名称；（必填）\n         * 参数2 回调函数\n         */\n        setClassroomName: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var classroomName = args.shift() || lastArg;\n            avPublishInterface.setPPTIndexInfo (2, classroomName, fn);\n        },\n        /**\n         * 设置流量统计参数，统计结果主动抛给页面\n         * time 设置插件统计时长\n         * interval 设置插件向页面抛出时长\n         * 参数2 回调函数\n         */\n        setTrafficStatisticParam: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            avPublishInterface.setTrafficStatistic(isNaN(params.time)?3000:+params.time, isNaN(params.interval)?3000:+params.interval, fn);\n        },\n        /**\n         * 移除台标\n         * id 代表使用哪个拼接器  0:电影拼接器 100:观摩拼接器 150:预监拼接器；\n         * index 台标索引值；（必填）\n         * 参数2 回调函数\n         */\n        removeLogo: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            if(void(0)===params.index) return ;\n            avPublishInterface.removeLogoSubtitle(1, params.id||0, params.index, fn);\n        },\n        /**\n         * 移除字幕\n         * id 代表使用哪个拼接器  0:电影拼接器 100:观摩拼接器 150:预监拼接器；\n         * index 字幕索引值；（必填）\n         * 参数2 回调函数\n         */\n        removeSubtitle: function() {\n            var args = [].slice.call(arguments, 0),\n                fn = null,\n                params = {},\n                lastArg = args.pop();\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            params = args.shift() || lastArg || {};\n            if(void(0)===params.index) return ;\n            avPublishInterface.removeLogoSubtitle(1, params.id||0, params.index, fn);\n        },\n        /**\n         * 使用片头\n         * 参数1 片头文件路径；（必填）\n         * 参数2 回调函数\n         */\n        useMovieHead: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var headFile = args.shift() || lastArg;\n            if(!headFile) return ;\n            avPublishInterface.setMovieHeadTail(1, 1, headFile, fn);\n        },\n        /**\n         * 使用片尾\n         * 参数1 片头文件路径；（必填）\n         * 参数2 回调函数\n         */\n        useMovieTail: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var tailFile = args.shift() || lastArg;\n            if(!tailFile) return ;\n            avPublishInterface.setMovieHeadTail(2, 1, tailFile, fn);\n        },\n        /**\n         * 不使用片头\n         * 参数1 片头文件路径；（必填）\n         * 参数2 回调函数\n         */\n        abandonMovieHead: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var headFile = args.shift() || lastArg;\n            if(!headFile) return ;\n            avPublishInterface.setMovieHeadTail(1, 0, headFile, fn);\n        },\n        /**\n         * 不使用片头\n         * 参数1 片头文件路径；（必填）\n         * 参数2 回调函数\n         */\n        abandonMovieTail: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var tailFile = args.shift() || lastArg;\n            if(!tailFile) return ;\n            avPublishInterface.setMovieHeadTail(2, 0, tailFile, fn);\n        },\n        /**\n         * 拉近焦距\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        closerFocus: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(1, index||0, 1, fn);\n        },\n        /**\n         * 释放变焦\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        fixFocus: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(1, index||0, 0, fn);\n        },\n        /**\n         * 拉远焦距\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        furtherFocus: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(1, index||0, 2, fn);\n        },\n        /**\n         * 变倍变小\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        minifyFocal: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(2, index||0, 1, fn);\n        },\n        /**\n         * 停止变倍\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        fixFocal: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(2, index||0, 0, fn);\n        },\n        /**\n         * 变倍变大\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        largenFocal: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(2, index||0, 2, fn);\n        },\n        /**\n         * 使用鼠标滚轮变焦\n         * zoom 滚轮滚动幅度\n         * index 机位索引\n         * 参数2 回调函数\n         */\n        setWheelZoom: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(!params.zoom || isNaN(params.zoom)) return ;\n            avPublishInterface.setDirectorControl(3, params.index||0, params.zoom, fn);\n        },\n        /**\n         * 画面向上调整\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        setCameraUp: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(4, index||0, 1, fn);\n        },\n        /**\n         * 画面向下调整\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        setCameraDowm: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(4, index||0, 2, fn);\n        },\n        /**\n         * 画面向左调整\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        setCameraLeft: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(4, index||0, 3, fn);\n        },\n        /**\n         * 画面向右调整\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        setCameraRight: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(4, index||0, 4, fn);\n        },\n        /**\n         * 停止画面调整\n         * 参数1 机位索引\n         * 参数2 回调函数\n         */\n        setCameraFix: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg;\n            avPublishInterface.setDirectorControl(4, index||0, 0, fn);\n        },\n        /**\n         * 设置预置位\n         * index 机位索引\n         * preset 预置位\n         * 参数2 回调函数\n         */\n        setPreset: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(void(0)===params.preset) return ;\n            avPublishInterface.setDirectorControl(5, params.index||0, params.preset, fn);\n        },\n        /**\n         * 鼠标点击跟踪\n         * posx 鼠标点击画面的x坐标，向对画面左上角 （必须）\n         * posy 鼠标点击画面的y坐标，向对画面左上角 （必须）\n         * width 画面宽度 （必须）\n         * height 画面高度 （必须）\n         * index 机位索引 （必须）\n         * 参数2 回调函数\n         */\n        mouseClickTrack: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(void(0)===params.posx || isNaN(params.posx) || void(0)===params.posy || isNaN(params.posy) || void(0)===params.width || isNaN(params.width) || void(0)===params.height || isNaN(params.height)) return ;\n            avPublishInterface.setDirectorControl(6, params.index||0, [params.posx, params.posy, params.width, params.height], fn);\n        },\n        /**\n         * 设置导播模式\n         * 参数1 导播模式 1=自动  2=手动  3=半自动1 4=半自动2（柯桥）\n         * 参数2 回调函数\n         */\n        setDirectorMode: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var mode = args.shift() || lastArg;\n            if(isNaN(mode)) return ;\n            avPublishInterface.setDirectorControl(7, 0, +mode||1, fn);\n        },\n        /**\n         * 设置画面进入的特效\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * styleIndex 特效索引 0：无特效 1：从左上角渐入 2：从右上角渐入 3：从左下角渐入 4：从右下角渐入 5：水平从中间向左右拉幕 6：竖直从中间向上下拉幕 7：水平从左往右渐入 8：竖直从上往下渐入 9：中间向四周散开 10：淡入淡出\n         * 参数2 回调函数\n         */\n        setScreenShiftStyle: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            avPublishInterface.setStitchVideo(1, params.id||0, params.styleIndex||0, fn);\n        },\n        /**\n         * 设置画面拼接模式\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * mode 拼接模式索引 1=全屏模式，2=画中画模式，3=画外画模式，4=对话模式 ， 5=自定义模式\n         * 参数2 回调函数\n         */\n        setSplitMode: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            avPublishInterface.setStitchVideo(2, params.id||0, Number(!params.mode||isNaN(params.mode)?1:params.mode), fn);\n        },\n        /**\n         * 当画面拼接模式是画中画、画外画时，设置小画面的位置，其它拼接模式下此接口无效\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * site 1左上/2右上/3左下/4右下\n         * 参数2 回调函数\n         */\n        setSmallScreenSite: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            avPublishInterface.setStitchVideo(3, params.id||0, params.site||4, fn);\n        },\n        /**\n         * 设置画中画/画外画的排列组合\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * list 一个二维数组，代表每大画面情况下小画面的拼接顺序（必须）\n         * 参数2 回调函数\n         */\n        setSmallScreenSequence: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(!params.list) return ;\n            avPublishInterface.setStitchVideo(4, params.id||0, params.list, fn);\n        },\n        /**\n         * 设置对话模式的高亮\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * which 高亮哪一边，left：高亮左边，right：高亮右边，none或空：取消高亮\n         * 参数2 回调函数\n         */\n        setHighLight: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), map = {left: 1, right: 2, none: 0}, fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            avPublishInterface.setStitchVideo(5, params.id||0, map[params.which||\"none\"], fn);\n        },\n        /**\n         * 设置对话模式的高亮哪个机位\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * index 机位索引\n         * 参数2 回调函数\n         */\n        setHighLightCamera: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            avPublishInterface.setStitchVideo(6, +(params.id||0), +(params.index||0), fn);\n        },\n        /**\n         * 设置主画面索引值\n         * 参数1 主画面索引值\n         * 参数2 回调函数\n         */\n        setMainScreenIndex: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index = args.shift() || lastArg || 1;\n            avPublishInterface.setStitchVideo(8, 0, +index, fn);\n        },\n        /**\n         * 设置扩展屏画面索引值\n         * 参数1 扩展屏画面索引值\n         * 参数2 回调函数\n         */\n        setExtansionScreenIndex: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var index;\n            var value = args.shift();\n            if( !isNaN( value ) ){\n            \tindex = value;\n            }else{\n            \tindex = value || lastArg || 1;\n            }\n            avPublishInterface.setStitchVideo(8, 200, +index, fn);\n        },\n        /**\n         * 设置用户自定义画面拼接规则\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * rule 拼接规则\n         * 参数2 回调函数\n         */\n        setCustSplitInfo: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(!params.rule) return ;\n            avPublishInterface.setStitchVideo(9, params.id||0, params.rule, fn);\n        },\n        /**\n         * 启用台标\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * logo.id 标识，如果同时存在多个台标，用于区分不同的台标对象(根据业务需要自己生成，移除台标时使用)\n         * logo.filePath 台标文件路径\n         * logo.widthScale 台标宽度，相对于视频分辨率的百分比，范围0至1\n         * logo.heightScale 台标高度，相对于视频分辨率的百分比，范围0至1\n         * logo.position 台标所处位置：1左上/2右上/3左下/4右下\n         * logo.x 台标所处位置与左右边的距离\n         * logo.y 台标所处位置与上下边的距离\n         * 参数2 回调函数\n         */\n        useLogo: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(!params.logo || void(0)===params.logo.id) return ;\n            params.logo.switch = 1;\n            params.logo.position = params.logo.position || 1;\n            avPublishInterface.setStitchVideo(10, +params.id||0, JSON.stringify(params.logo), fn);\n        },\n        /**\n         * 取消启用台标\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * logo.id 标识，启用台标里生成的\n         * 参数2 回调函数\n         */\n        abandonLogo: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(!params.logo || void(0)===params.logo.id) return ;\n            params.logo.switch = 0;\n            avPublishInterface.setStitchVideo(10, params.id||0, JSON.stringify(params.logo), fn);\n        },\n        /**\n         * 启用字幕\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * subtitle.id 标识，如果同时存在多个台标，用于区分不同的台标对象(根据业务需要自己生成，移除字幕时使用)\n         * subtitle.content 字幕内容\n         * subtitle.direction 字幕方向，字幕方向1=横向  2=纵向\n         * subtitle.position 字幕位置，1=上/左 2=下/右\n         * subtitle.x 字幕所处位置与左右边的距离\n         * subtitle.y 字幕所处位置与上下边的距离\n         * subtitle.scrollDirection 字幕滚动方向 0=不滚动 1=向上 2=向下 3=向左 4=向右\n         * subtitle.scrollCount 滚动次数，scrollDirection不为0时有效，值为-1时表示一直滚动\n         * subtitle.fontName 字体名称\n         * subtitle.fontSize 字体大小\n         * subtitle.fontStyle 字体样式，第1个表示是否倾斜， 第2个表示是否下划线，第3个表示是否加粗，（用\",\"分割）\n         * subtitle.fontColor 字体透明度和颜色，ARGB，（用\",\"分割）\n         * subtitle.backgroundColor 背景透明度和颜色，ARGB，（用\",\"分割）\n         * 参数2 回调函数\n         */\n        useSubtitle: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null,\n                defaultParams = {\n                    switch: 1,\n                    direction: 1,\n                    position: 1,\n                    scrollDirection: 0,\n                    fontName: \"宋体\",\n                    fontSize: 24,\n                    italic: false,\n                    underline: false,\n                    bold: false,\n                    fontColor: \"1,0,0,0\",\n                    backgroundColor: \"0,0,0,0\"\n                };\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(!params.subtitle || void(0)===params.subtitle.id || void(0)===params.subtitle.content || 0===params.subtitle.content.length) return ;\n            var subtitleInfo = Object.assign(defaultParams, params.subtitle);\n            subtitleInfo.fontStyle = [Boolean(subtitleInfo.italic), Boolean(subtitleInfo.underline), Boolean(subtitleInfo.bold)];\n            subtitleInfo.fontColor = subtitleInfo.fontColor.split(\",\").map(function(item) {return +item});\n            subtitleInfo.backgroundColor = subtitleInfo.backgroundColor.split(\",\").map(function(item) {return +item});\n            avPublishInterface.setStitchVideo(11, params.id||0, JSON.stringify(subtitleInfo), fn);\n        },\n        /**\n         * 取消启用字幕\n         * id 代表使用哪个拼接器 0:电影拼接器 100:观摩拼接器 150:预监拼接器 （必须）\n         * subtitle.id 标识，启用字幕时生成的\n         * 参数2 回调函数\n         */\n        abandonSubtitle: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(!params.subtitle || void(0)===params.subtitle.id) return ;\n            params.subtitle.switch = 0;\n            avPublishInterface.setStitchVideo(11, params.id||0, JSON.stringify(params.subtitle), fn);\n        },\n        /**\n         * 获取磁盘剩余空间\n         * 参数1 磁盘地址\n         * 参数2 回调函数\n         */\n        getDiskFreeSpace: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var disk = args.shift() || lastArg;\n            if(!disk) return ;\n            avPublishInterface.getSystemInfo(1, disk, fn);\n        },\n        /**\n         * 获取磁盘剩余空间可录制时长\n         * 参数1 磁盘地址\n         * 参数2 回调函数\n         */\n        getRecordFreeTime: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var disk = args.shift() || lastArg;\n            if(!disk) return ;\n            avPublishInterface.getSystemInfo(2, disk, fn);\n        },\n        /**\n         * 获取录制文件时长\n         * 参数1 录制文件地址\n         * 参数2 回调函数\n         */\n        getRecordTime: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var recordFile = args.shift() || lastArg;\n            if(!recordFile) return ;\n            avPublishInterface.getSystemInfo(3, recordFile, fn);\n        },\n        /**\n         * 获取系统麦克风音量\n         * 参数1 回调函数\n         */\n        getMicrophoneValue: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.getSystemInfo(4, void(0), fn);\n        },\n        /**\n         * 获取系统扬声器音量\n         * 参数1 回调函数\n         */\n        getLoudspeakerValue: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.getSystemInfo(5, void(0), fn);\n        },\n        /**\n         * 设置自动插件自动更新地址\n         * 参数1 新插件地址\n         * 参数2 回调函数\n         */\n        setUpdatePluginUrl: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var url = args.shift() || lastArg;\n            if(!url) return ;\n            avPublishInterface.setUpdatePlugin(1, url, fn);\n        },\n        /**\n         * 运行插件\n         * 参数1 回调函数\n         */\n        run: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setProgramState(1, fn);\n        },\n        /**\n         * 停止插件\n         * 参数1 回调函数\n         */\n        stop: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setProgramState(2, fn);\n        },\n        /**\n         * 停止VNC\n         * 参数1 回调函数\n         */\n        stopVNC: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setProgramState(3, fn);\n        },\n        /**\n         * 打开PPT\n         * 参数1 回调函数\n         */\n        openPPT: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setProgramState(4, fn);\n        },\n        /**\n         * 暂停PPT\n         * 参数1 回调函数\n         */\n        pausePPT: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setProgramState(5, fn);\n        },\n        /**\n         * 关闭PPT\n         * 参数1 回调函数\n         */\n        closePPT: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setProgramState(6, fn);\n        },\n        /**\n         * 打开VNC\n         * 参数1 回调函数\n         */\n        startVNC: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var ip = args.shift() || lastArg;\n            if(!ip) return ;\n            avPublishInterface.startVNCBBT(1, ip, fn);\n        },\n        /**\n         * 打开班班通电脑的浏览器\n         * 参数1 地址，浏览器会打开指定地址\n         * 参数2 回调函数\n         */\n        openBBTBrowser: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var url = args.shift() || lastArg;\n            if(!url) return ;\n            avPublishInterface.startVNCBBT(2, url, fn);\n        },\n        /**\n         * 关闭班班通电脑的浏览器\n         * 参数1 回调函数\n         */\n        closeBBTBrowser: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setBBTControl(2, 0, fn);\n        },\n        /**\n         * 放大班班通电脑的浏览器\n         * 参数1 回调函数\n         */\n        enlargeBrowser: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setBBTControl(2, 1, fn);\n        },\n        /**\n         * 缩小班班通电脑的浏览器\n         * 参数1 回调函数\n         */\n        reduceBrowser: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setBBTControl(2, 2, fn);\n        },\n        /**\n         * 班班通PPT向前翻页\n         * 参数1 回调函数\n         */\n        pageUp: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setBBTControl(1, -1, fn);\n        },\n        /**\n         * 班班通PPT向后翻页\n         * 参数1 回调函数\n         */\n        pageDn: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setBBTControl(1, 1, fn);\n        },\n        /**\n         * 开始录制\n         * 参数1 回调函数\n         */\n        startRecord: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setRecordState(2, fn);\n        },\n        /**\n         * 暂停录制\n         * 参数1 回调函数\n         */\n        pauseRecord: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setRecordState(1, fn);\n        },\n        /**\n         * 停止录制\n         * 参数1 回调函数\n         */\n        stopRecord: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            avPublishInterface.setRecordState(0, fn);\n        },\n        /**\n         * 是否预览\n         * has 是否预览\n         */\n        set hasPreview(has) {\n            avPublishInterface.setGeneralFunction(1, has);\n        },\n        /**\n         * 设置虚拟机位个数\n         * 参数1 虚拟机位个数\n         * 参数2 回调函数\n         */\n        setVirtualCameraCount: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var count = args.shift() || lastArg;\n            if(isNaN(count)) return ;\n            avPublishInterface.setGeneralFunction(2, count, fn);\n        },\n        /**\n         * 打开系统文件夹\n         * 参数1 件夹路径\n         * 参数2 回调函数\n         */\n        openSystemFolder: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var url = args.shift() || lastArg;\n            if(!url) return ;\n            avPublishInterface.setGeneralFunction(3, url, fn);\n        },\n        /**\n         * 设置麦克风音量\n         * 参数1 音量\n         * 参数2 回调函数\n         */\n        setMicrophoneValue: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = 0;\n            }\n            var value = args.shift() || lastArg;\n            if(isNaN(value)) return ;\n            avPublishInterface.setGeneralFunction(4, value, fn);\n        },\n        /**\n         * 设置扩音器音量\n         * 参数1 音量\n         * 参数2 回调函数\n         */\n        setLoudspeakerValue: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = 0;\n            }\n            var value = args.shift() || lastArg;\n            if(isNaN(value)) return ;\n            avPublishInterface.setGeneralFunction(5, value, fn);\n        },\n        /**\n         * 设置用户唯一标示\n         * 参数1 用户id\n         * 参数2 回调函数\n         */\n        setUserId: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var userId = args.shift() || lastArg;\n            if(!userId) return ;\n            avPublishInterface.setGeneralFunction(6, userId, fn);\n        },\n        //关机\n        closeComputer: function() {\n            avPublishInterface.setGeneralFunction(7, 1);\n        },\n        //重起计算机\n        restartComputer: function() {\n            avPublishInterface.setGeneralFunction(7, 2);\n        },\n        /**\n         * 设置音量\n         * 参数1 音量\n         * 参数2 回调函数\n         */\n        setVolume: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var d = args.shift() || lastArg;\n            if(void(0)==d) return ;\n            avPublishInterface.setGeneralFunction(8, d, fn);\n        },\n        /**\n         * 开启扩展屏\n         * fn 回调函数\n         */\n        openExtansionScreen: function(fn) {\n            avPublishInterface.setGeneralFunction(9, 1, fn);\n        },\n        /**\n         * 关闭扩展屏\n         * fn 回调函数\n         */\n        closeExtansionScreen: function(fn) {\n            avPublishInterface.setGeneralFunction(9, 0, fn);\n        },\n        /**\n         * 设置对话模式的初始值\n         * left 左半个画面的机位索引\n         * right 右半个画面的机位索引\n         * 参数2 回调函数\n         */\n        setDefaultConversation: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(void(0)===params.left || void(0)===params.right) return ;\n            avPublishInterface.setConversationArray(params, fn);\n        },\n        //开始服务器端录制\n        startServerRecord: function() {\n            var args = [].slice.call(arguments, 0), fn = args.pop();\n            avPublishInterface.setServerRecordState(2, fn);\n        },\n        //暂停服务器端录制\n        pauseServerRecord: function() {\n            var args = [].slice.call(arguments, 0), fn = args.pop();\n            avPublishInterface.setServerRecordState(1, fn);\n        },\n        //停止服务器端录制\n        stopServerRecord: function() {\n            var args = [].slice.call(arguments, 0), fn = args.pop();\n            avPublishInterface.setServerRecordState(0, fn);\n        },\n        /**\n         * 设置预览参数\n         * index 机位索引(int) 0:stitch 1~6:resource  100:visitor\n         * name 显示的设备名称\n         * 参数2 回调函数\n         */\n        setPreview: function() {\n            var args = [].slice.call(arguments, 0), lastArg = args.pop(), fn = null;\n            if(\"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            avPublishInterface.setConversationArray(params.index||0, params.name, fn);\n        }\n    };\n    var plugin = {\n        wsPublish: wsPublish,\n        avPublish: avPublish\n    };\n    !duang?(window.plugin=Object.assign(window.plugin||{}, plugin)):(function() {\n        duang.module(\"Tool\", []).directive(\"PublishPlugin\", [\"tool\"], function() {\n            return plugin;\n        });\n    }());\n}(function() {\n    return window.duang || null;\n}));\n\n\n// WEBPACK FOOTER //\n// src/codyy/publish_plugin.js",";(function(fn, undefined) {\n    \"use strict\";\n    var receivePluginTab = [],\n        receivePluginObj = {},\n        _receivePluginObj = {},\n        cameras = {},\n        audios = {},\n        number = 1,\n        receiveVersion = \"\",\n        callbackMap = {},\n        duang = fn.call(Object.create(null)),\n        toString = Object.prototype.toString,\n        tool = duang?duang.getModule(\"Tool\").getController(\"tool\"):window.tool,\n        custEvent = new tool.constructor.CustomerEvent(),\n        url = (\"https:\"===location.protocol?\"wss://localhost:9099\":\"ws://localhost:9098\") + \"/receive\";\n    var eventMap1 = {\n        1: \"OnCPUWatch\",\n        2: \"OnGPUWatch\",\n        3: \"OnMemoryWatch\"\n    };\n    var eventMap = {\n        1101: \"OnRateWatch\",\n        1102: \"OnDisConnect\",\n        1103: \"OnFunctionResult\",\n        1104: \"OnStateMessage\",\n        1105: eventMap1,\n        1106: \"OnStreamResolution\"\n    };\n    var errorMessageMap = {\n        1002: \"协议错误\",\n        1015: \"证书错误\"\n    };\n    var addEvent = window.addEventListener?function(target, type, fn, use) {\n        target.addEventListener(type, fn, use||false);\n    }:function(target, fn, type) {\n        target.attachEvent(\"on\"+type, fn);\n    };\n    var eventHandle = {\n        1999: function(data) {\n            receiveVersion = data.version;\n        }\n    };\n    //获取所有音视频设备，包括虚拟设备\n    mediaDevice.addEvent(\"OnReady\", function() {\n        var devices = mediaDevice.getAllVideos();\n        devices.forEach(function(device) {\n            if(/Codyy\\w+\\((\\d+)\\)/.test(device.label)) {\n                if(\"videoinput\"===device.kind) {\n                    cameras[RegExp.$1] = device;\n                }\n            }\n        });\n    });\n    var Pip = function() {\n        var self = this,\n            state = 0, //0为初始化，1为执行中，2为执行完毕，-1为出现bug\n            taskList = [];\n        function __Pip__() {}\n        __Pip__.prototype = {\n            constructor: __Pip__,\n            pip: function() {\n                if(1===state) return ;\n                taskList.push([].slice.call(arguments, 0));\n                return this;\n            },\n            then: function() {\n                if(1===state || -1===state || 2===state) return ;\n                taskList.push([].slice.call(arguments, 0));\n                return this;\n            },\n            exec: function() {\n                state = 1;\n                if(taskList.length>0) {\n                    try {\n                        run(taskList[0]);\n                    } catch(e) {\n                        state = -1;\n                        console.error(e);\n                    }\n                }\n            }\n        };\n        function run() {\n            var args = arguments[0],\n                fName = args.shift(),\n                fn = args.pop();\n            if(\"[object Function]\"===toString.call(fName) && void(0)===fn) return fName();\n            if(\"[object String]\"!=toString.call(fName) || !self[fName]) throw \"no function name\";\n            if(\"[object Function]\"!=toString.call(fn)) {\n                fn && args.push(fn);\n                fn = null;\n            }\n            args.push(function() {\n                fn && fn.apply(this, [].slice.call(arguments, 0));\n                taskList.shift();\n                taskList.length>0 && run(taskList[0]);\n            });\n            return self[fName] && self[fName].apply(self, args);\n        }\n        return new __Pip__();\n    };\n    function linkVideo(params, callback) {\n        var self = this, camera = cameras[params.cameraId||number++];\n        var constraints  = {\n            video: {\n                width: {ideal: 1280},\n                height: {ideal: 720},\n                deviceId: {}\n            }\n        };\n        var _linkVideo = function() {\n            try {\n                constraints.video.deviceId = {exact: camera.deviceId};\n                if(self.stream) {\n                    self.stream.getTracks().forEach(function(track) {\n                        track.stop();\n                    });\n                }\n                navigator.mediaDevices.getUserMedia(constraints).then(function(_stream) {\n                    self.stream = _stream;\n                    params.video.onloadstart = function(){\n\t\t            \tvar time = 20;\n\t\t            \tvar inter = setInterval(function(){\n\t\t            \t\tparams.video.srcObject.getTracks().forEach(function(track) {\n\t\t            \t\t\tif( !track.onmute ){\n\t\t       \t\t \t\t\t\ttrack.onmute = function() {\n\t\t\t\t\t                \tparams.video.load();\n\t\t\t\t\t                };\n\t\t            \t\t\t}\n\t\t\t\t            });\n\t\t\t\t            time --;\n\t\t\t\t            if( time == 0){\n\t\t\t\t            \tclearInterval(inter);\n\t\t\t\t            }\n\t\t            \t},1000);\n\t\t\t\t\t}\n                    params.video.srcObject = _stream;\n                    \"[object Function]\"===toString.call(callback) && callback();\n                });\n            } catch(e) {\n                console.error(e.message);\n            }\n        };\n        if(camera) {\n            _linkVideo();\n        } else {\n            console.error(\"未获取到相关设备！\");\n        }\n    }\n//================接收插件开始=======================================================\n    function AvReceive(params, server) {\n        if(!this instanceof AvReceive) {\n            return new AvReceive(params);\n        }\n        this.name = \"AvReceive\";\n        var self = this;\n        var bindEvent = function() {\n            var tracks = self.stream.getTracks();\n            tracks.forEach(function(track) {\n                /*track.onmute = function() {\n                    //流中断\n                    params.video.load();\n                    self.fireEvent({type: \"OnBreak\", message: {type: track.kind, id: self.id, video: params.video}});\n                };*/\n            });\n        }; \n        this.id = params.id || tool.random(10);\n        this.taskList = [];\n        linkVideo.call(self, params, bindEvent);\n        this.addEvent = custEvent.addCustEvent;\n        this.removeEvent = custEvent.removeCustEvent;\n        this.fireEvent = custEvent.fire;\n        this.handles = [];\n        if(params.background) {\n            params.video.style.background = \"center contain no-repeat content-box url(\"+params.background+\")\";\n        }\n        params.video.setAttribute(\"autoplay\", \"autoplay\");\n        this.setVideoElement = function(video) {\n            params.video = video;\n            linkVideo.call(self, params, bindEvent);\n        };\n        this.shutdown = function(fn) {\n            try {\n                if(self.stream) {\n                    self.stream.getTracks().forEach(function(track) {\n                        track.stop();\n                    });\n                    fn && fn();\n                }\n            } catch(e) {\n                console.error(e.message);\n            }\n        };\n    }\n    AvReceive.prototype = {\n        constructor: AvReceive,\n        //当需要有多个任务需要被调用，且下一个任务需要等待上一个任务完成后执行时调用此接口\n        //参数1 在“wsPublish”中的接口名，string\n        //参数2-n 插件需要的参数\n        //参数n+1 回调函数\n        pip: function() {\n            var args = [].slice.call(arguments, 0),\n                pip = Pip.call(this);\n            args.length>0 && pip.pip.apply(this, args);\n            return pip;\n        },\n        /**\n         * 录制\n         * fn 回调函数\n         */\n        ableRecord: function(fn) {\n            avReceiveInterface.setReceiveRecord(1, this.deviceName, 1, fn);\n        },\n        /**\n         * 不录制\n         * fn 回调函数\n         */\n        disableRecord: function(fn) {\n            avReceiveInterface.setReceiveRecord(1, this.deviceName, 0, fn);\n        },\n        /**\n         * 设置录制文件类型\n         * 参数1 文件类型 flv,mp4\n         * 参数2 回调函数\n         */\n        setRecordFileType: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                map = {flv: 1, mp4: 2},\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var type = args.shift() || lastArg || \"flv\";\n            avReceiveInterface.setReceiveRecord(2, this.deviceName, map[type], fn);\n        },\n        /**\n         * 设置录制文件类型\n         * 参数1 是否appending ture/false\n         * 参数2 回调函数\n         */\n        setRecordAppending: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var appending = args.shift() || lastArg || 1;\n            avReceiveInterface.setReceiveRecord(3, this.deviceName, Number(appending), fn);\n        },\n        /**\n         * 开始录制\n         * fn 回调函数\n         */\n        startRecord: function(fn) {\n            avReceiveInterface.setReceiveRecord(4, this.deviceName, 2, fn);\n        },\n        /**\n         * 暂停录制\n         * fn 回调函数\n         */\n        paruseRecord: function(fn) {\n            avReceiveInterface.setReceiveRecord(4, this.deviceName, 1, fn);\n        },\n        /**\n         * 停止录制\n         * fn 回调函数\n         */\n        stopRecord: function(fn) {\n            avReceiveInterface.setReceiveRecord(4, this.deviceName, 0, fn);\n        },\n        /**\n         * 设置录制文件全路径\n         * 参数1 录制文件全路径\n         * 参数2 回调函数\n         */\n        setRecordFileName: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var fileName = args.shift() || lastArg;\n            if(!fileName) return ;\n            avReceiveInterface.setReceiveRecord(5, this.deviceName, fileName, fn);\n        },\n        /**\n         * 设置录制文件类型，\n         * 参数1 文件类型 0=只录制视频  1=只录制音频 2=音视频全录\n         * 参数2 回调函数\n         */\n        setRecordType: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var type = args.shift() || lastArg || 2;\n            avReceiveInterface.setReceiveRecord(6, this.deviceName, type, fn);\n        },\n        /**\n         * 设置接收流名称，\n         * 参数1 流名称\n         * 参数2 回调函数\n         */\n        setStreamName: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var streamName = args.shift() || lastArg;\n            if(void(0)===streamName) return ;\n            avReceiveInterface.setReceiveStream(1, this.deviceName, streamName, fn);\n        },\n        /**\n         * 设置缓冲时长，\n         * 参数1 缓冲时长\n         * 参数2 回调函数\n         */\n        setButterTime: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var time = args.shift() || lastArg;\n            avReceiveInterface.setReceiveStream(2, this.deviceName, isNaN(time)?0:time, fn);\n        },\n        /**\n         * 设置接收类型，\n         * 参数1 接收类型 0//音视频都不接,1//只接视频, 2//只接音频, 3//音视频都接\n         * 参数2 回调函数\n         */\n        setReceiveType: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var type = args.shift();\n            type = void(0)===type?(lastArg||3):type;\n            avReceiveInterface.setReceiveStream(3, this.deviceName, type, fn);\n        },\n        /**\n         * 设置编码器\n         * 参数1 编码器 1=CodyyFfmpeg 2=CodyyIntel\n         * 参数2 回调函数\n         */\n        setEncodeType: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var encodeType = args.shift() || lastArg || 1;\n            avReceiveInterface.setReceiveStream(4, this.deviceName, encodeType, fn);\n        },\n        /**\n         * 设置共享内存名称\n         * 参数1 共享内存名称 CodyyMultiHD 插件的OnCreateShareMem事件产生的shareName\n         * 参数2 回调函数\n         */\n        setShareMemoryName: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var name = args.shift() || lastArg;\n            if(void(0)===name) return ;\n            avReceiveInterface.setReceiveStream(5, this.deviceName, name, fn);\n        },\n        /**\n         * 设置流量统计参数，统计结果主动抛给页面\n         * time 设置插件统计时长\n         * interval 设置插件向页面抛出时长\n         * 参数2 回调函数\n         */\n        setTrafficStatisticParam: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {} || 1;\n            avReceiveInterface.setTrafficStatistic(this.deviceName, isNaN(params.time)?3000:+params.time, isNaN(params.interval)?3000:+params.interval, fn);\n        },\n        /**\n         * 运行插件\n         * fn 回调函数\n         */\n        run: function(fn) {\n            avReceiveInterface.setProgramState(this.deviceName, 1, fn);\n        },\n        /**\n         * 停止插件\n         * fn 回调函数\n         */\n        stop: function(fn) {\n            avReceiveInterface.setProgramState(this.deviceName, 2, fn);\n        },\n        /**\n         * 设置共享内存的分辨率大小，该接口需要在设置共享内存名字之前调用\n         * width 宽\n         * height 高\n         * 参数2 回调函数\n         */\n        setMemoryResolution: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            avReceiveInterface.setMemoryResolution(this.deviceName, isNaN(params.width)?1920:params.width, isNaN(params.height)?1080:params.height, fn);\n        },\n        /**\n         * 使用扩展屏显示预览，该接口需要在run方法之前调用\n         * fn 回调函数\n         */\n        useExtendScreen: function(fn) {\n            avReceiveInterface.setRenderMode(this.deviceName, 0, fn);\n        },\n        /**\n         * 使用扩展屏显示预览，该接口需要在run方法之前调用\n         * switch 音频快播的开关 0/1\n         * max 阈值\n         * time 持续的时间间隔\n         * 参数2 回调函数\n         */\n        setFastPlayParam: function() {\n            var args = [].slice.call(arguments, 0),\n                lastArg = args.pop(),\n                fn = null;\n            if(lastArg && \"[object Function]\"===toString.call(lastArg)) {\n                fn = lastArg;\n                lastArg = null;\n            }\n            var params = args.shift() || lastArg || {};\n            if(void(0)===params.switch || void(0)===params.max || void(0)===params.time) return ;\n            avReceiveInterface.setMemoryResolution(params.switch, params.max, params.time, fn);\n        }\n    };\n//================接收插件结束=======================================================\n//================接收插件服务开始=======================================================\n    var WSReceive = (function() {\n        var\tws = null;\n        var _WSReceive = function(params, callback1, callback2) {\n            var self = this;\n            ws = new WebSocket(url);\n            eventHandle[9999] = function() {\n                avReceiveInterface.initReceiveModule(params, function() {\n                    var args = [].slice.call(arguments, 0);\n                    callback1 && callback1.apply(ws, args);\n                });\n            };\n            ws.onopen = function() {\n                self.state = this.readyState;\n                eventHandle[9999]();\n            };\n            ws.onmessage = function() {\n                var args = [].slice.call(arguments, 0),\n                    arg = args.shift(),\n                    data = JSON.parse(tool.decodeBase64(arg.data));\n                if(data.uuid) {\n                    callbackMap[data.uuid] && callbackMap[data.uuid].call(self, data);\n                    delete callbackMap[data.uuid];\n                } else {\n                    if(eventHandle[data.event]) {\n                        eventHandle[data.event](data.param);\n                    } else {\n                        callback2 && callback2.call(obj, data);\n                    }\n                }\n            };\n            ws.onclose = function(e) {\n                self.state = this.readyState;\n                if(1000===e.code) return ;\n                \n                switch(e.code) {\n                    case 1002:\n                    case 1015:\n                        obj.fireEvent({type: \"OnError\", message: {code: e.code, message: errorMessageMap[e.code]}});\n                    break;\n                    default:\n                        _WSReceive.call(self, params, null, callback2);\n                }\n            };\n        };\n        var _send = function(msg) {\n            ws.send(msg);\n        };\n        var obj = Object.create({\n            addEvent: custEvent.addCustEvent,\n            removeEvent: custEvent.removeCustEvent,\n            fireEvent: custEvent.fire,\n            handles: [],\n            send: _send\n        }, {init: {\n            writable: false,\n            configurable: false,\n            enumerable: false,\n            value: _WSReceive\n        }});\n        return obj;\n    } ());\n//================接收插件服务结束=======================================================\n    var avReceiveInterface = {\n        //与服务器连接成功后,启动接收模块\n        initReceiveModule: function(params, fn) {\n            var deviceList = params.deviceList || [];\n            if(deviceList.length<=0) return ;\n            var config = {\n                method: 1001,\n                delayExitTime: params.delayExitTime || 0,\n                param: {\n                    deviceList: deviceList\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSReceive.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置录制相关信息\n        setReceiveRecord: function(key, deviceName, value, fn) {\n            var config = {\n                method: 1002,\n                param: {\n                    key: key,\n                    deviceName: deviceName,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSReceive.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置发送相关信息\n        setReceiveStream: function(key, deviceName, value, fn) {\n            var config = {\n                method: 1003,\n                param: {\n                    key: key,\n                    deviceName: deviceName,\n                    value: value\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSReceive.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置流量监测功能参数\n        setTrafficStatistic: function(deviceName, time, interval, fn) {\n            var config = {\n                method: 1004,\n                param: {\n                    deviceName: deviceName,\n                    time: time,\n                    eventInterval: interval\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSReceive.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置程序运行状态\n        setProgramState: function(deviceName, key, fn) {\n            var config = {\n                method: 1005,\n                param: {\n                    key: key,\n                    deviceName: deviceName\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSReceive.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置共享内存分辨率\n        setMemoryResolution: function(deviceName, width, height, fn) {\n            var config = {\n                method: 1007,\n                param: {\n                    deviceName: deviceName,\n                    width: width,\n                    height: height\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSReceive.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置预览的模式(是否使用扩展屏显示)\n        setRenderMode: function(deviceName, mode, fn) {\n            var config = {\n                method: 1008,\n                param: {\n                    deviceName: deviceName,\n                    mode: mode\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSReceive.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //设置音频快播的参数\n        setFastPlayParam: function(_switch, max, time, fn) {\n            var config = {\n                method: 1009,\n                param: {\n                    fastPlaySwitch: _switch,\n                    thresholdValue: max,\n                    keepThresholdTime: time\n                }\n            };\n            var uuid = tool.random(20);\n            config.uuid = uuid;\n            if(fn && \"[object Function]\"===toString.call(fn)) {\n                callbackMap[uuid] = fn;\n            }\n            WSReceive.send(tool.encodeBase64(JSON.stringify(config)));\n        }\n    };\n    //接收插件初始化接口\n    //此接口对外，供业务层调用初始化接收插件\n    //不包括插件服务的初始化\n    var avReceive = {\n        init: function(params) {\n            if(void(0)===params || !params.video) return;\n            var plugin = new AvReceive(params, WSReceive);\n            receivePluginTab.push(plugin);\n            plugin.deviceName = params.deviceName || \"\";\n            if(void(0)!==params.id) receivePluginObj[params.id] = plugin;\n            if(void(0)!==params.deviceName) _receivePluginObj[plugin.deviceName] = plugin;\n            return plugin;\n        },\n        getPluginByIndex: function(index) {\n            index = index || 0;\n            return receivePluginTab[index];\n        },\n        getPluginById: function(id) {\n            if(void(0)===id) return ;\n            return receivePluginObj[id];\n        }\n    };\n    //接收插件服务相关接口\n    //此接口对外，供业务层调用初始化插件服务\n    var wsReceive = {\n        init: function(params, callback) {\n            if(void(0)===params) return ;\n            var self = this;\n            return WSReceive.init.call(WSReceive, params, callback, function() {\n                var args = [].slice.call(arguments),\n                    data = args.shift(),\n                    eventName = data.param && data.param.key?eventMap[data.event][data.param.key]:eventMap[data.event];\n                data.param?delete data.param.key:(data.param = \"\");\n                if(eventName) {\n                    if(data.param.deviceName) {\n                        var receivePlugin = _receivePluginObj[data.param.deviceName];\n                        receivePlugin && receivePlugin.fireEvent({type: eventName, message: data.param});\n                    } else {\n                        this.fireEvent({type: eventName, message: data.param});\n                    }\n                }\n            });\n        },\n        get state() {\n            return WSReceive.state;\n        },\n        addEvent: function(type, callback) {\n            if(void(0)===type || void(0)===callback) return;\n            WSReceive.addEvent(type, callback);\n        },\n        removeEvent: function(type, fn) {\n            if(void(0)===type) return;\n            WSReceive.removeEvent(type, fn);\n        },\n        get version() {\n            return receiveVersion;\n        }\n    };\n    var plugin = {\n        wsReceive: wsReceive,\n        avReceive: avReceive\n    };\n    !duang?(window.plugin=Object.assign(window.plugin||{}, plugin)):(function() {\n        duang.module(\"Tool\", []).directive(\"ReceivePlugin\", [\"tool\"], function() {\n            return plugin;\n        });\n    }());\n}(function() {\n    return window.duang || null;\n}));\n\n\n// WEBPACK FOOTER //\n// src/codyy/receive_plugin.js","/**\n *\n *\n * date: 2018-04-03\n * author: Jason\n * fileName: index.js\n * describe: 预览插件，主要是用来做本地画面预览\n *\n *\n */\n;(function(fn, undefined) {\n    \"use strict\";\n    var plugin = {},\n        cameras = {},\n        streamMap = {},\n        callbackMap = {},\n        duang = fn.call(Object.create(null)),\n        toString = Object.prototype.toString,\n        tool = duang?duang.getModule(\"Tool\").getController(\"tool\"):window.tool,\n        url = (\"https:\"===location.protocol?\"wss://localhost:9099\":\"ws://localhost:9098\")+\"/preview\";\n\n    var eventMap3 = {\n        1: \"OnCameraBack\",\n        2: \"OnMicrophoneBack\",\n        3: \"OnLoudSpeakerBack\",\n        4: \"OnDiscreteGraphicsCard\",\n        5: \"OnIntegratedGraphicsCard\",\n        3000: \"OnRegister\"\n    };\n\n    var eventMap = {\n        3100: eventMap3,\n        3101: \"OnSelectDevice\",\n        3102: eventMap3,\n        9999: \"OnDisconnect\",\n        100000000: \"OnStop\"\n    };\n\n    var errorMessageMap = {\n        1002: \"协议错误\",\n        1015: \"证书错误\"\n    };\n\n    var eventHandle = {};\n\n    var addEvent = window.addEventListener?function(target, type, fn, use) {\n        target.addEventListener(type, fn, use||false);\n    }:function(target, fn, type) {\n        target.attachEvent(\"on\"+type, fn);\n    };\n\n    var Pip = function() {\n        var self = this,\n            state = 0, //0为初始化，1为执行中，2为执行完毕，-1为出现bug\n            taskList = [];\n\n        function __Pip__() {}\n\n        __Pip__.prototype = {\n            constructor: __Pip__,\n            pip: function() {\n                if(1===state) return ;\n                taskList.push([].slice.call(arguments, 0));\n                return this;\n            },\n            then: function() {\n                if(1===state || -1===state || 2===state) return ;\n                taskList.push([].slice.call(arguments, 0));\n                return this;\n            },\n            exec: function() {\n                state = 1;\n\n                if(taskList.length>0) {\n                    try {\n                        run(taskList[0]);\n                    } catch(e) {\n                        state = -1;\n                        console.error(e);\n                    }\n                }\n            }\n        };\n\n        function run() {\n            var args = arguments[0],\n                fName = args.shift(),\n                fn = args.pop();\n\n            if(\"[object String]\"!=toString.call(fName) || !self[fName]) throw \"no function name\";\n\n            if(\"[object Function]\"!=toString.call(fn)) {\n                fn && args.push(fn);\n                fn = null;\n            }\n\n            args.push(function() {\n                fn && fn.apply(this, [].slice.call(arguments, 0));\n                taskList.shift();\n                taskList.length>0 && run(taskList[0]);\n            });\n\n            return self[fName] && self[fName].apply(self, args);\n        }\n\n        return new __Pip__();\n    };\n\n    //获取所有音视频设备，包括虚拟设备\n    mediaDevice.addEvent(\"OnReady\", function() {\n        var devices = mediaDevice.getAllVideos();\n\n        devices.forEach(function(device) {\n            if(/Codyy\\w+\\((\\d+)\\)/.test(device.label)) {\n                if(\"videoinput\"===device.kind) {\n                    cameras[RegExp.$1] = device;\n                }\n            }\n        });\n    });\n\n    var WSPreview = (function() {\n        var ws = null,\n            custEvent = new tool.constructor.CustomerEvent();\n\n        var _WSPreview = function(callback1, callback2) {\n            var self = this;\n            ws = new WebSocket(url);\n\n            var initPreviewModule = function() {\n                var config = {method: 3000};\n                WSPreview.send(tool.encodeBase64(JSON.stringify(config)));\n            };\n\n            ws.onopen = function() {\n                var args = [].slice.call(arguments, 0);\n                initPreviewModule();\n                callback1 && callback1.apply(ws, args);\n            };\n\n            ws.onmessage = function() {\n                var args = [].slice.call(arguments, 0),\n                    arg = args.shift(),\n                    data = JSON.parse(tool.decodeBase64(arg.data));\n\n                if(data.uuid) {\n                    callbackMap[data.uuid] && callbackMap[data.uuid].call(self, data);\n                    delete callbackMap[data.uuid];\n                } else {\n                    if(eventHandle[data.event]) {\n                        eventHandle[data.event](data.param);\n                    } else {\n                        callback2 && callback2.call(obj, data);\n                    }\n                }\n            };\n\n            ws.onclose = function(e) {\n                self.state = this.readyState;\n                if(1000===e.code) return callback2.call(obj, {event: 100000000});\n\n                switch(e.code) {\n                    case 1002:\n                    case 1015:\n                        obj.fireEvent({type: \"OnError\", message: {code: e.code, message: errorMessageMap[e.code]}});\n                    break;\n                    default:\n                        _WSPreview.call(self, null, callback2);\n                }                \n            };\n\n            return this;\n        };\n\n        var _send = function(msg) {\n            ws.send(msg);\n        };\n\n        var _stop = function() {\n            ws.close();\n        };\n\n        var obj = Object.create({\n            addEvent: custEvent.addCustEvent,\n            removeEvent: custEvent.removeCustEvent,\n            fireEvent: custEvent.fire,\n            handles: [],\n            send: _send,\n            stop: _stop\n        }, {init: {\n            writable: false,\n            configurable: false,\n            enumerable: false,\n            value: _WSPreview\n        }});\n\n        //当插件抛出OnDisconnect事件时，自动重新初始化\n        obj.addEvent(\"OnDisconnect\", function() {\n            initPreviewModule();\n        });\n\n        return obj;\n    }());\n\n    function PreviewPlugin() {\n        if(!this instanceof PreviewPlugin) {\n            return new PreviewPlugin();\n        }\n\n        this.name = \"PreviewPlugin\";\n    }\n\n    PreviewPlugin.prototype = {\n        constructor: PreviewPlugin,\n        //当需要有多个任务需要被调用，且下一个任务需要等待上一个任务完成后执行时调用此接口\n        //参数1 在“wsPublish”中的接口名，string\n        //参数2-n 插件需要的参数\n        //参数n+1 回调函数\n        //目前不用，预留接口\n        pip: function() {\n            var pip = Pip.call(this);\n            pip.pip.apply(this, [].slice.call(arguments, 0));\n            return pip;\n        },\n        //获取所有摄像头\n        getCameras: function() {\n            var config = {\n                method: 3001,\n                param: {\n                    key: 1\n                }\n            };\n\n            WSPreview.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //获取所有麦克风\n        getMicrophones: function() {\n            var config = {\n                method: 3001,\n                param: {\n                    key: 2\n                }\n            };\n\n            WSPreview.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //获取所有扬声器\n        getLouderspeakers: function() {\n            var config = {\n                method: 3001,\n                param: {\n                    key: 3\n                }\n            };\n\n            WSPreview.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //获取所有独立显卡\n        getDiscreteGraphics: function() {\n            var config = {\n                method: 3001,\n                param: {\n                    key: 4\n                }\n            };\n\n            WSPreview.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //选择当前设备打开预览\n        selectDevice: function(params) {\n            if(!params) return ;\n\n            var config = {\n                method: 3002,\n                param: params\n            };\n\n            WSPreview.send(tool.encodeBase64(JSON.stringify(config)));\n        },\n        //\n        runView: function(cameraId, video) {\n            if(void(0)===cameraId || !video) return ;\n            var stream = streamMap[cameraId], camera = cameras[cameraId];\n            video.setAttribute(\"autoplay\", \"autoplay\");\n\n            var constraints  = {\n                audio: false,\n                video: {\n                    width: {ideal: 1280},\n                    height: {ideal: 720},\n                    deviceId: {}\n                }\n            };\n\n            var _runView = function() {\n                try {\n                    constraints.video.deviceId = {exact: camera.deviceId};\n\n                    if(stream) {\n                        stream.getTracks().forEach(function(track) {\n                            track.stop();\n                        });\n\n                        delete streamMap[cameraId];\n                    }\n\n                    navigator.mediaDevices.getUserMedia(constraints).then(function(_stream) {\n                        streamMap[cameraId] = _stream;\n                        video.srcObject = _stream;\n                    });\n                } catch(e) {\n                    console.error(e.message);\n                }\n            };\n\n            if(camera) {\n                _runView();\n            } else {\n                console.error(\"未获取到相关设备！\");\n            }\n        },\n        stop: function() {\n            WSPreview.stop();\n        }\n    };\n\n    var wsPreview = {\n        init: function(callback) {\n            this.addEvent(\"OnRegister\", callback);\n\n            return WSPreview.init.call(WSPreview, null, function() {\n                var args = [].slice.call(arguments),\n                    data = args.shift(),\n                    eventName = data.param && data.param.key?eventMap[data.event][data.param.key]:eventMap[data.event];\n                data.param?delete data.param.key:(data.param = \"\");\n                eventName && this.fireEvent({type: eventName, message: data.param});\n            });\n        },\n        addEvent: function(type, callback) {\n            if(void(0)===type || void(0)===callback) return;\n            WSPreview.addEvent(type, callback);\n        },\n        removeEvent: function(type) {\n            if(void(0)===type) return;\n            WSPreview.removeEvent(type);\n        },\n        get version() {\n            return previewVersion;\n        }\n    };\n\n    var avPreview = {\n        init: function() {\n            return new PreviewPlugin();\n        }\n    };\n\n    plugin = {\n        wsPreview: wsPreview,\n        avPreview: avPreview\n    };\n\n    !duang?(window.plugin = Object.assign(window.plugin||{}, plugin)):(function() {\n        duang.module(\"Tool\", []).directive(\"PreviewPlugin\", [\"tool\"], function() {\n            return plugin;\n        });\n    }());\n}(function() {\n    return !window.duang?null:window.duang;\n}));\n\n\n// WEBPACK FOOTER //\n// src/codyy/preview_plugin.js","!function e(t,a,n){function i(s,o){if(!a[s]){if(!t[s]){var l=\"function\"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error(\"Cannot find module '\"+s+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var d=a[s]={exports:{}};t[s][0].call(d.exports,function(e){var a=t[s][1][e];return i(a||e)},d,d.exports,e,t,a,n)}return a[s].exports}for(var r=\"function\"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,a){!function(){\"use strict\";var e={circular:0,quadrate:1},t=null,a=null;function n(e){this.name=e.name||\"Eraser\",this.interimBuffer=[],this.buffer=[]}n.prototype={constructor:n,active:function(){},mouseRender:function(a){var n=this;a={type:\"eraser\",data:[a.x,a.y,n.params.eraserSize],mode:e[n.current.name],from:n.params.id,width:n.mainCanvas.offsetWidth,height:n.mainCanvas.offsetHeight},t=a,n.mouseRender.call(n,a)},largen:function(){var e=this,a=e.params.eraserSize,n=e.mainCanvas.clientWidth,i=e.mainCanvas.clientHeight;a++,e.params.eraserSize=Math.min.apply(Math,[a,n,i]),t.data[2]=e.params.eraserSize,e.mouseRender.call(e,t)},lesser:function(){var e=this,a=e.params.eraserSize;a--,e.params.eraserSize=Math.max.apply(Math,[5,a]),t.data[2]=e.params.eraserSize,e.mouseRender.call(e,t)},bufferRender:function(t,n){if(t){var i=this,r={type:\"eraser\",data:[],status:1,origin:!0,mode:e[i.current.name],from:i.params.id,width:i.mainCanvas.offsetWidth,height:i.mainCanvas.offsetHeight};!n&&a?(t.ex=a.x,t.ey=a.y):(t.ex=t.x,t.ey=t.y),t.size=i.params.eraserSize,r.data.push(t),i.render(r),a=t}},render:function(){},destory:function(){this.current.mouseRender.call(this,{x:-1,y:-1})}};var i=window.vm||{};i.module=i.module||{},i.module.eraser=n,window.vm=i}()},{}],2:[function(e,t,a){!function(){\"use strict\";function e(e){this.name=e.name||\"Ferula\",this.buffer=[]}e.prototype={constructor:e,active:function(){},mouseRender:function(e){var t=this;e={type:\"ferula\",data:[e.x,e.y],from:t.params.id,width:t.mainCanvas.offsetWidth,height:t.mainCanvas.offsetHeight},e,t.mouseRender.call(t,e)},destory:function(){this.current.mouseRender.call(this,{x:-1,y:-1})}};var t=window.vm||{};t.module=t.module||{},t.module.ferula=e,window.vm=t}()},{}],3:[function(e,t,a){!function(){\"use strict\";function e(e){this.name=e.name||\"Image\",this.interimBuffer=[],this.buffer=[]}e.prototype={constructor:e,active:function(){},renderBuffer:function(e){var t=this;e={type:\"image\",data:[e],status:0,origin:!0,from:t.params.id,width:t.mainCanvas.offsetWidth,height:t.mainCanvas.offsetHeight};t.toolbarMap.image.interimBuffer.push(e)},render:function(e){if(e){var t=this,a=t.toolbarMap.image.interimBuffer.shift();if(a)do{a.status=1,a.data=[].concat.apply(a.data,e),t.toolbarMap.image.buffer.push(a),t.render(a),a=t.toolbarMap.image.interimBuffer.shift()}while(a)}},destory:function(){}};var t=window.vm||{};t.module=t.module||{},t.module.image=e,window.vm=t}()},{}],4:[function(e,t,a){!function(){\"use strict\";var e=window.vm||{},t=Object.prototype.toString,a=window.URL||window.webkitURL,n=window.CustomEvent,i={},r=0,s=[],o=/(\\bmobile\\b|\\bandroid\\b)/i.test(navigator.userAgent),l=/\\bfirefox\\b/i.test(navigator.userAgent),c=/\\bMSIE\\b/i.test(navigator.userAgent),d=/\\bchrome\\b/i.test(navigator.userAgent),u={click:o?\"touchend\":\"click\",down:o?\"touchstart\":\"mousedown\",move:o?\"touchmove\":\"mouserun\",up:o?\"touchend\":\"mouseup\",wheel:l?\"DOMMouseScroll\":\"mousewheel\",fullScreen:c?\"MSFullscreenChange\":d?\"webkitfullscreenchange\":l?\"mozfullscreenchange\":\"fullscreenchange\"},f={leftTop:\"left-top\",rightTop:\"right-top\",rightBottom:\"right-bottom\",leftBottom:\"left-bottom\"},h={data:null,noCache:!1,noTab:!1,super:!1,noToolbar:!1,layout:\"leftTop\",size:\"100%\",fontSize:16,vertical:!1,disable:!1,wrap:document.body,autoSaveTime:10,saveImgStep:5,color:\"#000\",background:\"#fff\",eraserSize:5,ferulaSize:5,tabLimit:20,toolbars:o?[\"pen\",\"line\",\"rectangle\",\"round\",\"text\",\"image\",\"eraser\",\"export\",\"clear\"]:[\"ferula\",\"pen\",\"line\",\"rectangle\",\"round\",\"text\",\"image\",\"eraser\",\"export\",\"clear\",\"color\"]},p={rectangle:[\"rectstroke\",\"rect\"],line:[\"line\",\"arrow\"],round:[\"circle\",\"roundel\",\"ellipesstroke\",\"ellipes\"],eraser:[\"circular\",\"quadrate\"]},m={ferula:\"教鞭\",circle:\"空心圆\",roundel:\"实心圆\",ellipesstroke:\"空心椭圆\",rectstroke:\"空心矩形\",pen:\"画笔\",circular:\"圆形橡皮擦\",quadrate:\"方形橡皮擦\",rect:\"实心矩形\",ellipes:\"实心椭圆\",text:\"文本\",line:\"直线\",arrow:\"箭头\",color:\"颜色\",export:\"导出\",scissors:\"截图\",clear:\"清空\",image:\"图片\"},v={ferula:\"icon-teach-rod\",circle:\"icon-round-a\",roundel:\"icon-round-c\",ellipesstroke:\"icon-ellipse-b\",rectstroke:\"icon-rectangle-a\",pen:\"icon-pen\",circular:\"icon-xiangpica\",quadrate:\"icon-rubber\",rect:\"icon-rectangle-c\",ellipes:\"icon-ellipse-a\",text:\"icon-font\",line:\"icon-line\",arrow:\"icon-arrow\",color:\"icon-colour\",export:\"icon-keep\",scissors:\"icon-screenshot\",clear:\"icon-empty\",image:\"icon-pic\"},g={0:\"白板\",1:\"文档演示\"},b='\\t\\t<div class=\"pad-wrap @LAYOUT@ @DISABLED@ @NOTOOLBAR@ @NOTAB@\">\\t\\t\\t<div class=\"toolbar-wrap\">\\t\\t\\t\\t<ul class=\"toolbar-list\">@TOOLBARS@</ul>\\t\\t\\t</div>\\t\\t\\t<div class=\"can-wrap-outer\">\\t\\t\\t\\t<div class=\"can-wrap\">\\t\\t\\t\\t\\t<input type=\"text\" class=\"text-input tool-input\"/>\\t\\t\\t\\t\\t<canvas class=\"main-can\">抱歉！您的浏览器版本太低，暂时不支持此白板！</canvas>\\t\\t\\t\\t\\t<canvas class=\"buffer-can-4\"></canvas>\\t\\t\\t\\t\\t<canvas class=\"buffer-can-3\"></canvas>\\t\\t\\t\\t\\t<canvas class=\"buffer-can-2\"></canvas>\\t\\t\\t\\t\\t<canvas class=\"buffer-can-1\"></canvas>\\t\\t\\t\\t</div>\\t\\t\\t\\t<div class=\"split-page-wrap\"></div>\\t\\t\\t</div>\\t\\t\\t<div class=\"pad-tab-wrap\">\\t\\t\\t\\t<ul class=\"pad-tab-list\"></ul>\\t\\t\\t</div>\\t\\t\\t<input type=\"file\" accept=\"image/png, image/jpeg\" class=\"file-input tool-input\"/>\\t\\t\\t<input type=\"color\" class=\"color-input tool-input\"/>\\t\\t</div>',w='<li class=\"toolbar-item\" title=\"@TITLE@\"><span class=\"item-icon iconfont @ICONCLASS@\" item=\"@ITEM@\" level=\"@LEVEL@\"></span>@CHILDTOOLBARS@</li>',y='<ul class=\"child-toolbar-list\">@CHILDTOOLBARITEM@</ul>',C='\\t\\t<div class=\"split-page\">\\t\\t\\t<a href=\"javascript:void(0);\" class=\"pre-page-btn iconfont icon-zuofanye\"></a>\\t\\t\\t<a href=\"javascript:void(0);\" class=\"next-page-btn iconfont icon-youfanye\"></a>\\t\\t\\t<span><input type=\"text\" class=\"page-number-input\"/>/@TOTAL@<a href=\"javascript:void(0);\" class=\"go-page-btn\">GO</a></span>\\t\\t</div>',x='<li class=\"toolbar-item full-screen-btn-wrap\"><span class=\"item-icon full-screen-btn iconfont icon-enlarge\" item=\"fullScreen\"></span></li>';e.module=e.module||{};var E={addEvent:window.addEventListener?function(e,t,a,n){e.addEventListener(t,a,n||!1)}:function(e,t,a){e.attachEvent(\"on\"+t,a)},delEvent:window.addEventListener?function(e,t,a,n){e.removeEventListener(t,a,n||!1)}:function(e,t,a){e.detachEvent(\"on\"+t,a)},redefineEvent:function(e,t,a,i){var r=a||window,s=!1,o=function(){if(!s){var e=[].slice.call(arguments,0)[0]||window.event;s=!0,window.requestAnimationFrame(function(){r.dispatchEvent(new n(t,{detail:e})),s=!1})}};return this.addEvent(r,e,o,i),o},addClass:function(e,t){void 0!==e&&void 0!==t&&(new RegExp(\"\\\\b\"+t+\"\\\\b\",\"g\").test(e.className)||(e.className=e.className+\" \"+t))},removeClass:function(e,t){if(void 0!==e&&void 0!==t){var a=new RegExp(\"\\\\b\"+t+\"\\\\b\",\"g\");a.test(e.className)&&(e.className=e.className.replace(a,\"\"))}},preNode:function(e){return e.previousElementSibling||e.previousSibling},nextNode:function(e){return e.nextElementSibling||e.nextSibling},css:function(e,t,a){e.style[t]=a||\"\"}},T=function(){var e=[],a=document.createElement(\"DIV\"),n='<div class=\"scroll-x-wrap pad-hide\"><span class=\"scroll-x scroll-toolbar\"></span></div>',i='<div class=\"scroll-y-wrap pad-hide\"><span class=\"scroll-y scroll-toolbar\"></span></div>';function r(e){if(!(this instanceof r))return new r(e);var t=this,s=!1,l=\"x\",c={x:0,y:0},d=null,u=e.node.parentNode;t.params=e,t.events={},t.scrollObj={};var f=function(r){a.innerHTML=\"x\"===r?n:i;var s=a.removeChild(a.firstChild);u.appendChild(s),t.scrollObj[r]={container:s,toolbar:s.getElementsByClassName(\"scroll-toolbar\")[0]},\"x\"===r?(e.node.clientWidth<e.node.scrollWidth&&s.classList.remove(\"pad-hide\"),t.scrollObj[r].left=0):(e.node.clientHeight<e.node.scrollHeight&&s.classList.remove(\"pad-hide\"),t.scrollObj[r].top=0)};Object.defineProperty(this,\"disable\",{set:function(e){s=e},get:function(){return s}}),e.type?f(e.type):(f(\"x\"),f(\"y\"));var h=function(){var a=[].slice.call(arguments,0),n=t.scrollObj[l],i=a[0]||window.event;i=o?i:i.detail?i.detail:i;if(\"x\"===l){var r=i.x||i.clientX,s={type:\"x\",from:e.id,coverWidth:n.coverWidth,distance:n.left+(r-c.x)};c.x=r}else{var d=i.y||i.clientY;s={type:\"y\",from:e.id,coverHeight:n.coverHeight,distance:n.top+(d-c.y)};c.y=d}t.scroll(s)},p=function(){E.delEvent(document,\"mousemove\",d),E.delEvent(document,\"mouseup\",p)};t.scrollObj.x&&E.addEvent(t.scrollObj.x.toolbar,\"mousedown\",function(){if(!s){var e=[].slice.call(arguments,0)[0]||window.event;d=E.redefineEvent(\"mousemove\",\"mouserun\",document),c.x=e.x||e.clientX,l=\"x\",E.addEvent(document,\"mouserun\",h),E.addEvent(document,\"mouseup\",p)}}),t.scrollObj.y&&E.addEvent(t.scrollObj.y.toolbar,\"mousedown\",function(){if(!s){var e=[].slice.call(arguments,0)[0]||window.event;d=E.redefineEvent(\"mousemove\",\"mouserun\",document),c.y=e.y||e.clientY,l=\"y\",E.addEvent(document,\"mouserun\",h),E.addEvent(document,\"mouseup\",p)}})}return r.prototype={constructor:r,scroll:function(e){var t=this.params,a=this.scrollObj[e.type],n=(a.container,a.toolbar);if(\"x\"===e.type){e.distance=e.distance*(a.coverWidth/e.coverWidth);var i=Math.max(0,Math.min(a.coverWidth,e.distance));t.node.scrollLeft=i,n.style.left=a.moveWidth*(i/a.coverWidth)+\"px\",this.scrollObj.x.left=i}else{e.distance=e.distance*(a.coverHeight/e.coverHeight);var r=Math.max(0,Math.min(a.coverHeight,e.distance));t.node.scrollTop=r,n.style.top=a.moveHeight*(r/a.coverHeight)+\"px\",this.scrollObj.y.top=r}void 0!=this.params.id&&e.from!=this.params.id||this.fire(\"scroll\",e)},toOrigin:function(e){var t=this.params;e?\"x\"===e?(this.scrollObj.x.toolbar.style.left=0,t.node.scrollLeft=0):(this.scrollObj.y.toolbar.style.top=0,t.node.scrollTop=0):(this.scrollObj.x.toolbar.style.left=0,this.scrollObj.y.toolbar.style.top=0,t.node.scrollLeft=0,t.node.scrollTop=0)},resize:function(){var e=this.params;if(this.scrollObj.x){var t=(n=this.scrollObj.x).toolbar,a=e.node.scrollWidth-e.node.clientWidth;t.style.width=Math.max(n.container.clientWidth-a/10,50)+\"px\",n.coverWidth=a,n.moveWidth=n.container.clientWidth-t.offsetWidth,0===n.moveWidth?n.container.classList.add(\"pad-hide\"):n.container.classList.remove(\"pad-hide\")}if(this.scrollObj.y){t=(n=this.scrollObj.y).toolbar;var n,i=e.node.scrollHeight-e.node.clientHeight;t.style.height=Math.max(n.container.clientHeight-i/10,50)+\"px\",n.coverHeight=i,n.moveHeight=n.container.clientHeight-t.offsetHeight,0===n.moveHeight?n.container.classList.add(\"pad-hide\"):n.container.classList.remove(\"pad-hide\")}},addEvent:function(e,t){var a=this.events;a[e]?a[e].push(t):a[e]=[t]},delEvent:function(e,a){var n=this.events;\"[object Function]\"===t.call(a)?n[e].splice(n[e].indexOf(a),1):delete n[e]},fire:function(){var e=[].slice.call(arguments,0),a=e.shift(),n=this.events;n[a]&&n[a].forEach(function(a){\"[object Function]\"===t.call(a)&&a.apply(Object.create(null),e)})}},{init:function(t){if(t.node){var a=new r(t);return e.push(a),a}},resize:function(){e.forEach(function(e){e.resize()})}}}(),O={get uuid(){return Date.now().toString()},scale:function(e){var t=e,a=t.type,n=null,i=null;switch(n&&i||(n=this.mainCanvas.width/t.width,i=this.mainCanvas.height/t.height),a){case\"pen\":t.data.x=t.data.x*n,t.data.y=t.data.y*i;break;case\"text\":t.data[0]=t.data[0]*n,t.data[1]=t.data[1]*n;break;case\"image\":case\"file\":break;case\"eraser\":t.data.x=t.data.x*n,t.data.y=t.data.y*i,t.data.size=t.data.size*n;break;default:t.data[0]&&(t.data[0]=isNaN(t.data[0])?t.data[0]:t.data[0]*n),t.data[1]&&(t.data[1]=isNaN(t.data[1])?t.data[1]:t.data[1]*n),t.data[2]&&(t.data[2]=isNaN(t.data[2])?t.data[2]:t.data[2]*n),t.data[3]&&(t.data[3]=isNaN(t.data[3])?t.data[3]:t.data[3]*n)}},copy:function(){var e=[].slice.call(arguments,0),a=e.shift();if(e.length)return\"[object Object]\"!=(s=t.call(a))&&\"[object Array]\"!=s?a:(e.forEach(function(e){var n=t.call(e);if(\"[object Object]\"==n||\"[object Array]\"==n)if(\"[object Object]\"===n){if(\"[object Array]\"===o)var i={};for(var r in e)if(e.hasOwnProperty(r)){var s=e[r],o=t.call(s);i?i[r]=\"[object Object]\"===o||\"[object Array]\"===o?O.copy(s):s:a[r]=\"[object Object]\"===o||\"[object Array]\"===o?O.copy(s):s}i&&a.push(i)}else e.forEach(function(e,n){var i=t.call(e);\"[object Object]\"===o?a[n]=\"[object Object]\"===i||\"[object Array]\"===i?O.copy(s):s:\"[object Object]\"===i||\"[object Array]\"===i?a.push(O.copy(s)):a.push(s)})}),a);if(\"[object Object]\"!=(s=t.call(a))&&\"[object Array]\"!=s)return a;if(\"[object Object]\"===s){var n={};for(var i in a)if(a.hasOwnProperty(i)){var r=a[i],s=t.call(r);n[i]=\"[object Object]\"===s||\"[object Array]\"===s?O.copy(r):r}}else{n=[];a.forEach(function(e){var a=t.call(e);\"[object Object]\"===a||\"[object Array]\"===a?n.push(O.copy(e)):n.push(e)})}return n},saveAsImage:function(e,t){for(var a=this,n=0,i=[],r=null,s=e.length,o=a.tab.getActive(),l=a.createImageCanvas,c=function(t){var n=t.shift();if(!n)return function(){var t=l.toDataURL(),n=a.tab.getPage(o.id);l.width=l.width;var s={type:\"image\",data:[t,0,0],width:0,height:0,status:1,origin:!0,from:\"auto\"};n&&(s.pageNumber=n.getPageNumber()),r&&e.push(r),e.push(s),[].push.apply(e,i),a.tab.saveData.call(a)}();\"file\"===n.type?(r=n,c(t)):O.render.call(a,n,function(){c(t)},!0)};s--;){var d=e.pop();if(i.unshift(d),d.origin&&n++,a.params.saveImgStep<=n){l.width=l.width,e.length?c(e):[].push.apply(e,i);break}}},trim:function(e){if(e&&\"[object String]\"==t.call(e))return e.replace(/^\\s*|\\s*$/,\"\")},splitPage:function(e){var a={},n=[],i=[];for(var r in e.forEach(function(e){\"[object String]\"===t.call(e)?i.push(e):(a[e.pageNumber]=a[e.pageNumber]||[],a[e.pageNumber].push(e))}),a)a.hasOwnProperty(r)&&n.push(r);return n.sort(function(e,t){return e-t}),n.forEach(function(e){i.push(a[e])}),i},renderPen:function(e,t,a){var n=this,i=a?n.createImageCanvas:0===e.status?n.bufferCanvas:n.mainCanvas,r=e.data,s=i.width/e.width,o=i.height/e.height,l=i.getContext(\"2d\");0===e.status?i.width=i.width:n.bufferCanvas.width=n.bufferCanvas.width,l.strokeStyle=e.color,l.lineWidth=1,l.save(),l.scale(s,o),r.forEach(function(e,t){0===t?(l.beginPath(),l.moveTo(e.x,e.y)):l.lineTo(e.x,e.y)}),l.stroke(),l.restore(),t&&t()},renderRect:function(e,t,a){var n=this,i=(e.mode,a?n.createImageCanvas:0===e.status?n.bufferCanvas:n.mainCanvas),r=e.data,s=i.width/e.width,o=i.height/e.height,l=i.getContext(\"2d\");0===e.status?i.width=i.width:n.bufferCanvas.width=n.bufferCanvas.width,l.save(),l.scale(s,o),l.beginPath(),0===e.mode?(l.strokeStyle=e.color,l.lineWidth=1,l.strokeRect(r[0],r[1],r[2],r[3])):(l.fillStyle=e.color,l.fillRect(r[0],r[1],r[2],r[3])),l.restore(),t&&t()},renderLine:function(e,t,a){var n=this,i=e.mode,r=a?n.createImageCanvas:0===e.status?n.bufferCanvas:n.mainCanvas,s=e.data,o=r.width/e.width,l=r.height/e.height,c=r.getContext(\"2d\");if(0===e.status?r.width=r.width:n.bufferCanvas.width=n.bufferCanvas.width,c.strokeStyle=e.color,c.lineWidth=1,c.save(),c.scale(o,l),c.beginPath(),c.moveTo(s[0],s[1]),c.lineTo(s[2],s[3]),1===i){var d=180*Math.atan2(s[1]-s[3],s[0]-s[2])/Math.PI,u=(d+30)*Math.PI/180,f=(d-30)*Math.PI/180,h=15*Math.cos(u),p=15*Math.sin(u),m=15*Math.cos(f),v=15*Math.sin(f);c.moveTo(h+s[2],p+s[3]),c.lineTo(s[2],s[3]),c.moveTo(m+s[2],v+s[3]),c.lineTo(s[2],s[3])}c.stroke(),c.restore(),t&&t()},renderRound:function(e,t,a){var n=this,i=e.mode,r=a?n.createImageCanvas:0===e.status?n.bufferCanvas:n.mainCanvas,s=e.data,o=r.width/e.width,l=r.height/e.height,c=r.getContext(\"2d\");switch(0===e.status?r.width=r.width:n.bufferCanvas.width=n.bufferCanvas.width,c.save(),c.scale(o,l),c.beginPath(),i){case 0:c.strokeStyle=e.color,c.lineWidth=1,c.arc(s[0],s[1],s[2],0,2*Math.PI),c.stroke();break;case 1:c.fillStyle=e.color,c.arc(s[0],s[1],s[2],0,2*Math.PI),c.fill();break;case 2:c.strokeStyle=e.color,c.lineWidth=1;var d=s[2]>s[3]?s[2]:s[3],u=s[2]/d,f=s[3]/d;c.scale(u,f),c.arc(s[0]/u,s[1]/f,d,0,2*Math.PI),c.closePath(),c.stroke();break;case 3:c.fillStyle=e.color;d=s[2]>s[3]?s[2]:s[3],u=s[2]/d,f=s[3]/d;c.scale(u,f),c.arc(s[0]/u,s[1]/f,d,0,2*Math.PI),c.closePath(),c.fill()}c.restore(),t&&t()},renderText:function(e,t,a){var n=this,i=a?n.createImageCanvas:0===e.status?n.bufferCanvas:n.mainCanvas,r=e.data,s=i.width/e.width,o=i.height/e.height,l=i.getContext(\"2d\");0===e.status?i.width=i.width:n.bufferCanvas.width=n.bufferCanvas.width,l.fillStyle=e.color,l.font=e.size+\"px sans-serif\",l.save(),l.scale(s,o),l.beginPath(),l.fillText(r[2],r[0],r[1]),l.restore(),t&&t()},renderImage:function(e,t,a){var n=this,i=a?n.createImageCanvas:0===e.status?n.bufferCanvas:\"file\"===e.type?n.fileCanvas:n.mainCanvas,r=e.data,s=e.width,o=e.height,l=n.tplImage,c=i.getContext(\"2d\");l.src=r[0],l.onload=function(){var r=l.width,d=l.height;if(\"file\"!==e.type||0==e.status||a||(s=n.params.width,o=n.params.height,n.tab.resizePad(s,o),n.tab.resizePadPixel(s,o)),c.save(),\"file\"===e.type){var u=r,f=d;o>s/(r/d)?f=d+d*(o/s-d/r)>>0:o=s/(r/d)>>0,n.tab.resizePad(s,o),n.tab.resizePadPixel(u,f),c.drawImage(l,(u-r)/2,(f-d)/2,r,d)}else{var h=i.width,p=i.height,m=r*(h/s),v=d*(p/o),g=h-m,b=p-v;if(g>=0&&b>=0){var w=g/2,y=b/2;c.drawImage(l,w,y,m,v)}else{var C=h/p,x=l.width/l.height;C>x?c.drawImage(l,(h-p*x)/2,0,p*x,p):c.drawImage(l,0,(p-h/x)/2,h,h/x)}}c.restore(),t&&t()}},delete:function(e,t,a){var n=this,i=a?n.createImageCanvas:0===e.status?n.bufferCanvas:n.mainCanvas,r=e.data,s=i.width/e.width,o=i.height/e.height,l=i.getContext(\"2d\");0===e.status?i.width=i.width:n.bufferCanvas.width=n.bufferCanvas.width,r.forEach(function(t){if(0===e.mode){var a=t.size/2*Math.sin(Math.atan((t.y-t.ey)/(t.x-t.ex)))||0,r=t.size/2*Math.cos(Math.atan((t.y-t.ey)/(t.x-t.ex)))||0,c=t.ex+a,d=t.ey-r,u=t.ex-a,f=t.ey+r,h=t.x+a,p=t.y-r,m=t.x-a,v=t.y+r;l.save(),l.scale(s,o),l.beginPath(),l.arc(t.x,t.y,t.size/2,0,2*Math.PI),l.clip(),l.clearRect(0,0,i.width,i.height),l.restore()}else{c=t.ex-t.size/2,d=t.ey-t.size/2,u=t.ex-t.size/2,f=t.ey+t.size/2,h=t.x+t.size/2,p=t.y-t.size/2,m=t.x-t.size/2,v=t.y+t.size/2;l.save(),l.scale(s,o),l.beginPath(),l.rect(c,d,t.size,t.size),l.clip(),l.clearRect(0,0,i.width,i.height),l.restore()}l.save(),l.scale(s,o),l.beginPath(),l.moveTo(c,d),l.lineTo(u,f),l.lineTo(h,p),l.lineTo(m,v),l.closePath(),l.clip(),l.clearRect(0,0,n.params.width,n.params.height),l.restore()}),t&&t()},render:function(e,t,a){var n=this;switch(e.type){case\"pen\":O.renderPen.call(n,e,t,a);break;case\"rectangle\":O.renderRect.call(n,e,t,a);break;case\"line\":O.renderLine.call(n,e,t,a);break;case\"round\":O.renderRound.call(n,e,t,a);break;case\"text\":O.renderText.call(n,e,t,a);break;case\"image\":case\"file\":O.renderImage.call(n,e,t,a);break;case\"eraser\":O.delete.call(n,e,t,a)}}},j={eraser:function(e){var t=this.mouseIconCanvas,a=e.data,n=e.mode,i=t.width/e.width,r=t.height/e.height,s=t.getContext(\"2d\");if(t.width=t.width,-1!==a[0]&&-1!==a[1])if(s.scale(i,r),s.beginPath(),0===n)s.arc(a[0],a[1],a[2]/2,0,2*Math.PI),s.stroke();else{var o=a[0]-a[2]/2,l=a[1]-a[2]/2;s.rect(o,l,a[2],a[2]),s.stroke()}},ferula:function(e){var t=this.mouseIconCanvas,a=e.data,n=this.params.ferulaSize,i=t.width/e.width,r=t.height/e.height,s=t.getContext(\"2d\");t.width=t.width,-1!==a[0]&&-1!==a[1]&&(s.scale(i,r),s.beginPath(),s.fillStyle=\"red\",s.arc(a[0],a[1],n,0,2*Math.PI),s.fill())},render:function(e){var t=e.type;j[t]&&j[t].call(this,e)}},N=function(){var e=document.createElement(\"UL\"),a='<li class=\"pad-tab-item\" title=\"@LABEL@\">@LABEL@@DELETEBTN@</li>',n='<i class=\"iconfont icon-close\"></i>';function i(i){var r=this,s={},o={},l={},c={},d=[],f=!1,h={},p=i.getElementsByClassName(\"pad-tab-list\")[0];r.build=function(i,f){if(i){if(!(d.length>=this.params.tabLimit)){var h=this,m=f.type,v=f.data,b=f.from,w=0!==f.type&&(!!h.params.super||b==h.params.id),y=f.id?f.id:0===m?0:O.uuid,C=a.replace(/@LABEL@/g,f.name?f.name:g[m]).replace(/@DELETEBTN@/g,w?n:\"\");e.innerHTML=C,d.push(y);var x=e.firstElementChild||e.firstChild;return s[y]=x,o[y]=v||[],l[y]=i,w&&E.addEvent(x.getElementsByTagName(\"i\")[0],u.click,function(){var e=[].slice.call(arguments,0)[0]||window.event;window.event?(e.returnValue=!1,e.cancelBubble=!0):(e.preventDefault(),e.stopPropagation()),r.remove.call(h,y),h.params.onTabRemove&&h.params.onTabRemove(y)}),E.addEvent(x,u.click,function(){!0!==h.params.disable&&this!==c.tab&&(r.active.call(h,y),h.params.onTabChange&&h.params.onTabChange(y))}),p.appendChild(x),h.container[y]={data:o[y],type:m,splitPage:0,from:b},r.resizeTab(),f.name&&(h.container[y].tabName=f.name),y}\"[object Function]\"===t.call(this.params.onError)&&this.params.onError({code:0,message:\"白板页签已达上限\"})}},r.push=function(e,t){var a=this,n=0;o[e]||(o[e]=[]),o[e].push(t),a.tab.saveData.call(a),o[e].forEach(function(e){\"auto\"!=e.from&&n++}),n-a.params.saveImgStep>=a.params.saveImgStep&&O.saveAsImage.call(a,o[e],a.container[e].type)},r.saveData=function(){var e=this;if(!f&&\"never\"!==e.params.autoSaveTime){e.params.autoSaveTime=isNaN(e.params.autoSaveTime)?10:+e.params.autoSaveTime;var t=setTimeout(function(){for(var a in h)if(h.hasOwnProperty(a)){var n=h[a];o[a].length=0,[].push.apply(o[a],n.getData())}!e.params.noCache&&window.localStorage.setItem(e.id+\"_pad\",JSON.stringify(e.container)),clearTimeout(t),f=!1},1e3*e.params.autoSaveTime);f=!0}},r.resizeTab=function(){var e=p.clientWidth/d.length;e=e>112?112:e,p.style.setProperty(\"--tab-width\",e-12+\"px\")},r.remove=function(e){var t=this,a=s[e],n=d.indexOf(e);delete s[e],delete o[e],delete l[e],delete t.container[e],delete h[e],p.removeChild(a),d.splice(n,1),c.id==e&&(e=d[Math.max(n-1,0)],t.tab.active.call(t,e)),t.tab.resizeTab(),!t.params.noCache&&window.localStorage.setItem(t.id+\"_pad\",JSON.stringify(t.container))},r.active=function(e,t,a){if(!s[e])return!1;var n=this,i=o[e];if(E.removeClass(c.tab,\"active\"),t||(n.tab.resizePad(),n.tab.resizePadPixel()),!a&&n.scroll.toOrigin(),c.page&&(c.page.hide(),delete c.page),n.container[e].type!=c.type&&(E.css(c.canvas||n.mainCanvas,\"background\"),E.css(l[e],\"background\",n.params.background)),c.tab=s[e],c.data=o[e],c.canvas=l[e],c.id=e,c.type=n.container[e].type,c.name=n.container[e].tabName||\"\",c.page=h[e],E.addClass(c.tab,\"active\"),c.page&&c.page.show(),i&&!c.page){c.canvas.width=c.canvas.width;var r=0,d=i.length;if(d){var u=function(){var e=i[r];e&&O.render.call(n,e,function(){++r<d&&u()})};u()}}return!0},r.getActive=function(){return c},r.getTab=function(e){return s[e]},r.clear=function(e){var a=this;if(void 0===e)c.page?c.page.clear.call(a):(c.data.length=0,c.canvas.width=c.canvas.width,\"[object Function]\"===t.call(a.params.onClear)&&a.params.onClear({tabId:c.id}));else{var n=e.tabId;h[n]?h[n].clear.call(a,e):(o[n]&&(o[n].length=0),l[n]&&(l[n].width=l[n].width))}!a.params.noCache&&window.localStorage.setItem(a.id+\"_pad\",JSON.stringify(a.container))},r.cleanCache=function(){!this.params.noCache&&window.localStorage.removeItem(this.id+\"_pad\")},r.setPage=function(e,t){h[e]=t,this.container[e].splitPage=1},r.getPage=function(e){return h[e]},r.render=function(e,a){O.render.call(this,e,function(){if(\"[object Function]\"===t.call(a)){var n=O.copy(e),i={};i[c.id]={data:n,type:c.type,splitPage:c.page?1:0},a(i)}}),e.status&&this.tab.push.call(this,c.id,e)}}return i.prototype={constructor:i},i}();function I(e){if(!this instanceof I)return new I(e);var a=this,n=1,i=e.that,r=O.splitPage(e.data),s=r.length,o=e.tabId,l=e.show||!1,c=document.createElement(\"DIV\"),d=i.params.wrap.getElementsByClassName(\"split-page-wrap\")[0];c.innerHTML=C.replace(/@TOTAL@/g,s);var f=c.removeChild(c.firstElementChild||c.firstChild),h=f.getElementsByClassName(\"pre-page-btn\")[0],p=f.getElementsByClassName(\"next-page-btn\")[0],m=f.getElementsByClassName(\"go-page-btn\")[0],v=f.getElementsByClassName(\"page-number-input\")[0];E.addEvent(h,u.click,function(){i.params.disable||n<=1||a.pre()}),E.addEvent(p,u.click,function(){i.params.disable||n>=s||a.next()}),E.addEvent(m,u.click,function(){if(!i.params.disable){var e=v.value;a.go(e,function(){e=v.value,i.params.onPageTurn&&i.params.onPageTurn(o,e,r[e-1][0])})}}),E.addEvent(v,\"input\",function(){/^\\s*([0-9]+).*\\s*$/.test(this.value)?this.value=RegExp.$1:this.value=n}),E.addEvent(v,\"keypress\",function(){var e=[].slice.call(arguments,0),t=window.event||e[0];if(13===t.keyCode||13===t.which){var n=v.value;a.go(n,function(){n=v.value,i.params.onPageTurn&&i.params.onPageTurn(o,n,r[n-1][0])})}}),this.pre=function(){n--,this.go(n,function(){i.params.onPageTurn&&i.params.onPageTurn(o,n,r[n-1][0])})};var g=function(e,a,n){var s=r[e-1];\"[object Array]\"===t.call(s)?s.some(function(t,r){if(!(r<a)){var o=!1;return\"file\"===t.type?(o=!0,O.render.call(i,t,function(){s.length-1<=r?n&&n():g(e,++r,n)})):(O.render.call(i,t),s.length-1<=r&&n&&n()),o}}):O.render.call(i,s,n)};this.go=function(e,a){switch(g(e=(e=e<=1?1:e)>=s?s:e,0,function(){\"[object Function]\"===t.call(a)&&a()}),n=e,v.value=e,!0){case n<=1&&n<s:E.addClass(h,\"no\"),E.removeClass(p,\"no\");break;case n>1&&n>=s:E.removeClass(h,\"no\"),E.addClass(p,\"no\");break;default:E.removeClass(h,\"no\"),E.removeClass(p,\"no\")}},this.next=function(){n++,this.go(n,function(){i.params.onPageTurn&&i.params.onPageTurn(o,n,r[n-1][0])})},this.show=function(){if(d.innerHTML=\"\",r.length>1)switch(d.appendChild(f),i.params.splitpageLayout){case\"left\":d.style.left=\"10px\";break;case\"center\":d.style.left=(d.parentNode.clientWidth-d.offsetWidth)/2+\"px\";break;default:d.style.right=\"10px\"}this.go(n)},this.hide=function(){i.tab.getActive().page==a&&r.length>1&&d.removeChild(f)},this.getPageNumber=function(){return n},this.empower=function(){v.removeAttribute(\"readonly\")},this.disable=function(){v.setAttribute(\"readonly\",\"readonly\")},r.forEach(function(a,n){\"[object String]\"===t.call(a)&&(r[n]=[{data:[a,0,0],pageNumber:n+1,width:i.mainCanvas.offsetWidth,height:i.mainCanvas.offsetHeight,status:1,type:\"file\",from:e.from}])}),this.push=function(e,t){var a=i.tab.getActive(),s=0;e.pageNumber=void 0!=t?t:n,r[e.pageNumber-1].push(e),i.tab.saveData.call(i),r[e.pageNumber-1].forEach(function(e){\"file\"!=e.type&&\"auto\"!=e.from&&s++}),s-i.params.saveImgStep>=i.params.saveImgStep&&O.saveAsImage.call(i,r[e.pageNumber-1],i.container[a.id].type)},this.getData=function(){for(var e=0,t=[];e<s;)[].push.apply(t,r[e]),e++;return t},this.clear=function(e){var a=(e?e.pageNumber:n)||n;r[a-1].length=1,i.tab.saveData.call(i),(void 0===e||e.tabId==i.tab.getActive().id&&e.pageNumber==n)&&(i.mainCanvas.width=i.mainCanvas.width,void 0===e&&\"[object Function]\"===t.call(i.params.onClear)&&i.params.onClear({tabId:i.tab.getActive().id,pageNumber:a}))},this.render=function(e,a){var i=this;O.render.call(i,e,function(){if(\"[object Function]\"===t.call(a)){var r=O.copy(e),s={},o=i.tab.getActive();s[o.id]={data:r,type:o.type,pageNumber:n,splitPage:o.page?1:0},a(s)}}),e.status&&i.tab.getActive().page.push.call(i,e)},i.params.disable&&this.disable(),i.tab.saveData.call(i),l&&this.show()}function S(n){if(!this instanceof S)return new S(n);var i=new Image;i.setAttribute(\"crossOrigin\",\"anonymous\");var s={pad:this,params:n,waitList:[],container:{},tplImage:i,id:n.id||r++,render:function(e){var a=s.tab.getActive();a.page?a.page.render.call(s,e,function(e){\"[object Function]\"===t.call(n.onRender)&&n.onRender(e)}):s.tab.render.call(s,e,function(e){\"[object Function]\"===t.call(n.onRender)&&n.onRender(e)})},mouseRender:function(e){if(j.render.call(s,e),n.onMousemove){var t=O.copy(e),a={},i=s.tab.getActive();a[i.id]={data:t,type:i.type},n.onMousemove(a)}}};(function(){var n=this,i=this.params,r=i.wrap,s=i.toolbars,l={},c=!1,d=null,h=null,g=null,C=new FileReader,j=!1,S=\"\",B=!1,P=r.requestFullscreen||r.webkitRequestFullscreen||r.mozRequestFullScreen||r.msRequestFullscreen,A=document.exitFullscreen||document.webkitCancelFullScreen||document.mozCancelFullScreen,k=null,L=null,R=null,M=null,z=null,H=null,W=null,D=null;s.forEach(function(t){var a=p[t];switch(t){case\"handPad\":case\"color\":case\"clear\":case\"export\":break;default:a?a.forEach(function(a){l[a]=new e.module[t]({name:a})}):l[t]=new e.module[t]({name:t})}var n=w.replace(/@ITEM@/g,a?a[0]:t).replace(/@ICONCLASS@/g,a?v[a[0]]:v[t]).replace(/@TITLE@/g,a?m[a[0]]:m[t]).replace(/@LEVEL@/g,0);if(n=n.replace(/@CHILDTOOLBARS@/g,a?y:\"\"),a){var i=\"\";a.forEach(function(e){i+=w.replace(/@ITEM@/g,e).replace(/@ICONCLASS@/g,v[e]).replace(/@TITLE@/g,m[e]).replace(/@CHILDTOOLBARS@/g,\"\").replace(/@LEVEL@/g,1)}),n=n.replace(/@CHILDTOOLBARITEM@/g,i)}S+=n}),0!=i.fullScreen&&(S+=x);var F=b.replace(/@LAYOUT@/g,f[i.layout]+(i.vertical?\" vertical\":\"\")).replace(/@TOOLBARS@/g,S).replace(/@DISABLED@/g,i.disable?\"disabled\":\"\").replace(/@NOTOOLBAR@/g,i.noToolbar?\"no-toolbar\":\"\").replace(/@NOTAB@/g,i.noTab?\"no-tab\":\"\"),$=i.data||(i.noCache?null:JSON.parse(window.localStorage.getItem(n.id+\"_pad\")));r.innerHTML=F,this.toolbarMap=l;var q=r.getElementsByClassName(\"can-wrap\")[0],U=r.getElementsByClassName(\"toolbar-list\")[0],Y=U.getElementsByClassName(\"full-screen-btn\")[0];k=r.getElementsByClassName(\"color-input\")[0],L=r.getElementsByClassName(\"file-input\")[0],R=r.getElementsByClassName(\"text-input\")[0],M=r.getElementsByClassName(\"main-can\")[0],z=r.getElementsByClassName(\"buffer-can-1\")[0],H=r.getElementsByClassName(\"buffer-can-2\")[0],W=r.getElementsByClassName(\"buffer-can-3\")[0],D=r.getElementsByClassName(\"buffer-can-4\")[0];E.redefineEvent(\"mousemove\",\"mouserun\",z);var V=function(){var e=q.clientWidth,t=q.clientHeight;switch(!0){case/^\\s*(\\d+)\\s*\\*\\s*(\\d+)\\s*$/.test(i.size):e=+RegExp.$1,t=+RegExp.$2;break;case/^\\s*(\\d+)\\s*:\\s*(\\d+)\\s*$/.test(i.size):var a=q.clientWidth,n=q.clientHeight;switch(!0){case RegExp.$1/RegExp.$2>a/n:e=a,t=a/RegExp.$1*RegExp.$2;break;case RegExp.$1/RegExp.$2<a/n:t=n,e=n/RegExp.$2*RegExp.$1;break;default:e=a,t=n}break;case/^\\s*(\\d+)%\\s*$/.test(i.size):var a=q.clientWidth,n=q.clientHeight;e=a/100*RegExp.$1,t=n/100*RegExp.$1;break;default:e=q.clientWidth,t=q.clientHeight}i.width=e>>0,i.height=t>>0};E.addEvent(q,u.wheel,function(){var e=[].slice.call(arguments,0),t=e[0]||window.event;if(window.event?(t.returnValue=!1,t.cancelBubble=!0):(t.preventDefault(),t.stopPropagation()),1!=G.disable&&G.scrollObj.y.coverHeight>0){var a={type:\"y\",from:i.id,coverHeight:G.scrollObj.y.coverHeight,distance:G.scrollObj.y.top+(\"DOMMouseScroll\"===t.type?3===t.detail?100:-100:t.deltaY)/5};G.scroll(a)}});var X=q.clientWidth,_=q.clientHeight;E.redefineEvent(\"resize\",\"sizeChange\",window),E.addEvent(window,\"sizeChange\",function(){var e=q.clientWidth,t=q.clientHeight;e==X&&t==_||(V(),n.tab.active.call(n,n.tab.getActive().id,null,!0),X=e,_=t),n.tab.resizeTab()});var J=function(e,t){var a=e||i.width,n=t||i.height;if(M.style.width=z.style.width=H.style.width=W.style.width=D.style.width=a+\"px\",M.style.height=z.style.height=H.style.height=W.style.height=D.style.height=n+\"px\",M.style.left=z.style.left=H.style.left=W.style.left=D.style.left=0,M.style.top=z.style.top=H.style.top=W.style.top=D.style.top=0,a<q.clientWidth){var r=(q.clientWidth-a)/2;M.style.left=z.style.left=H.style.left=W.style.left=D.style.left=r+\"px\"}if(n<q.clientHeight){var s=(q.clientHeight-n)/2;M.style.top=z.style.top=H.style.top=W.style.top=D.style.top=s+\"px\"}G&&G.resize()},K=function(e,t){var a=e||i.width,n=t||i.height;M.width=z.width=H.width=W.width=D.width=a,M.height=z.height=H.height=W.height=D.height=n};n.tab=new N(i.wrap),n.textInput=R,n.mouseIconCanvas=z,n.createImageCanvas=W,n.fileCanvas=D,n.mainCanvas=M,V();var G=T.init({node:q,id:i.id});G.disable=i.disable,n.scroll=G,G.addEvent(\"scroll\",function(e){\"[object Function]\"===t.call(i.onScroll)&&i.onScroll(e)}),Object.defineProperty(n.tab,\"resizePad\",{value:J}),Object.defineProperty(n.tab,\"resizePadPixel\",{value:K}),E.addEvent(k,\"change\",function(){n.params.color=this.value}),E.addEvent(r.getElementsByClassName(\"pad-wrap\")[0],u.fullScreen,function(){B=!B,E.removeClass(Y,B?\"icon-enlarge\":\"icon-narrow\"),E.addClass(Y,B?\"icon-narrow\":\"icon-enlarge\")});var Q=function(e){o?(e?E.addClass(r,\"pad-full-screen\"):E.removeClass(r,\"pad-full-screen\"),B=e,E.removeClass(Y,B?\"icon-enlarge\":\"icon-narrow\"),E.addClass(Y,B?\"icon-narrow\":\"icon-enlarge\"),n.tab.active.call(n,n.tab.getActive().id)):e?P.call(r.getElementsByClassName(\"pad-wrap\")[0]):A.call(document)};n.pad.resize=function(e,t){isNaN(e)||isNaN(t)?(V(),n.tab.active.call(n,n.tab.getActive().id)):(J(e,t),K(e,t),n.tab.active.call(n,n.tab.getActive().id,!0))},n.pad.scroll=function(e){G.scroll(e)},n.pad.fullScreen=function(){B||Q(!0)},n.pad.exitFullScreen=function(){B&&Q(!1)},n.pad.showFiles=function(e){var a=e.files,i=e.newTab,r=e.isShow,s=void 0!=e.from?e.from:n.params.id,o=e.tabId,l=e.tabName,c=n.tab.getActive();a=\"[object Array]\"===t.call(a)?a:[a];var d=function(){var o=new I({data:a,show:r,that:n,width:e.width,height:e.height,from:s,tabId:i?u:c.id});n.tab.setPage.call(n,void 0!=u?u:c.id,o),c.page=o,n.params.id==s&&\"[object Function]\"===t.call(n.params.onShowFiles)&&(e.from=s,n.params.onShowFiles(e))};if(i){var u=n.tab.build.call(n,D,{type:1,id:o,name:l,from:s});e.tabId=u,r&&(n.tab.active.call(n,u),d(),s==n.params.id&&n.params.onTabChange&&n.params.onTabChange(u))}else 0==n.tab.getActive().id?(n.toolbarMap.image.renderBuffer.call(n,e.files),n.toolbarMap.image.render.call(n,[0,0])):(n.pad.clear(),d())},C.onload=function(e){n.toolbarMap.image.renderBuffer.call(n,e.target.result),n.toolbarMap.image.render.call(n,[0,0]),L.value=\"\"},E.addEvent(L,\"change\",function(){C.readAsDataURL(this.files[0])}),E.addEvent(R,\"input\",function(){this.style.width=this.scrollWidth+\"px\"}),E.addEvent(R,\"keyup\",function(){var e=[].slice.call(arguments,0),t=e[0]||window.event;if(13===t.which){var a=O.trim(this.value);d.render.call(n,a)}}),E.addEvent(document,\"keydown\",function(){var e=[].slice.call(arguments,0),t=e[0]||window.event,a=t.which;if(n.active)switch(!0){case 107===a||187===a&&t.shiftKey:d&&d.largen&&d.largen.call(n);break;case 109===a||189===a&&t.shiftKey:d&&d.lesser&&d.lesser.call(n)}}),E.addEvent(U,u.click,function(){if(!i.disable){var e=[].slice.call(arguments,0),t=e[0]||window.event,r=t.srcElement||t.target,s=+r.getAttribute(\"level\"),o=r.getAttribute(\"item\");if(o){switch(d&&d.destory.call(n),o){case\"handPad\":(c=!c)?r.setAttribute(\"active\",\"\"):r.removeAttribute(\"active\");break;case\"color\":k.click();break;case\"clear\":n.tab.clear.call(n);break;case\"export\":!function(){var e=n.tab.getActive().name||O.uuid,t=document.createElement(\"A\"),i=n.createImageCanvas,r=i.getContext(\"2d\"),s=n.params.wrap.getElementsByClassName(\"pad-wrap\")[0];r.drawImage(n.fileCanvas,0,0),r.drawImage(n.mainCanvas,0,0);var o=i.toDataURL().split(\",\"),l=atob(o[1]),c=l.length,d=new Uint8ClampedArray(c);for(;c--;)d[c]=l.charCodeAt(c);var u=a.createObjectURL(new Blob([d],{mime:\"image/octet-stream;Content-Disposition:attachment\"}));t.className=\"export-image\",t.href=u,t.download=e+\".png\",s.appendChild(t),t.click();var f=setTimeout(function(){f&&clearTimeout(f),a.revokeObjectURL(u)},300);i.width=i.width,s.removeChild(t)}();break;case\"image\":L.click();break;case\"fullScreen\":Q(!B);break;default:if(!(d=l[o]||d))return;if(n.current=d,d.active(),0===s){h&&h.removeAttribute(\"active\"),h=r;var u=U.getElementsByClassName(\"selected-item\")[0];r.parentNode!=u&&E.removeClass(u,\"selected-item\"),E.addClass(r.parentNode,\"selected-item\")}if(1===s){g&&g.removeAttribute(\"active\");var f=E.preNode(r.parentNode.parentNode);f.title=r.parentNode.title,f.className=f.className.replace(/\\bicon-[\\w-]+\\b/,r.className.match(/\\bicon-[\\w-]+\\b/)),f.setAttribute(\"item\",o),g=r}r.setAttribute(\"active\",\"\")}o&&(window.event?(t.returnValue=!1,t.cancelBubble=!0):(t.preventDefault(),t.stopPropagation()))}}}),E.addEvent(U,\"mousedown\",function(){var e=[].slice.call(arguments,0),t=e[0]||window.event;window.event?(t.returnValue=!1,t.cancelBubble=!0):(t.preventDefault(),t.stopPropagation())});var Z=0,ee=0;if(E.addEvent(z,u.move,function(){var e=[].slice.call(arguments,0)[0]||window.event;if(e=o?e:e.detail?e.detail:e,!(o&&e.targetTouches.length>1)){var t=this.getBoundingClientRect(),a=o?e.targetTouches[0].clientX:e.clientX,r=o?e.targetTouches[0].clientY:e.clientY,s={x:a-(t.x||t.left),y:r-(t.y||t.top)};if(d){var l=d.name.toLowerCase();if(c||j)switch(l){case\"ferula\":d.mouseRender.call(n,s);break;case\"circular\":case\"quadrate\":d.mouseRender.call(n,s);default:d.bufferRender.call(n,s)}else d.mouseRender&&d.mouseRender.call(n,s)}else if(j){if(!0===G.disable)return;var u=Z-a,f=ee-r;o&&(u/=10,f/=10),G.scrollObj.x.coverWidth>0&&(G.scroll({type:\"x\",from:i.id,distance:G.scrollObj.x.left+u,coverWidth:G.scrollObj.x.coverWidth}),Z=a),G.scrollObj.y.coverHeight>0&&(G.scroll({type:\"y\",from:i.id,distance:G.scrollObj.y.top+f,coverHeight:G.scrollObj.y.coverHeight}),ee=r)}}}),E.addEvent(z,u.down,function(){var e=[].slice.call(arguments,0)[0]||window.event,t=this.getBoundingClientRect(),a=U.getElementsByClassName(\"selected-item\")[0],i={x:(o?e.targetTouches[0].clientX:e.clientX)-(t.x||t.left),y:(o?e.targetTouches[0].clientY:e.clientY)-(t.y||t.top)};window.event?(e.returnValue=!1,e.cancelBubble=!0):(e.preventDefault(),e.stopPropagation()),Z=o?e.targetTouches[0].clientX:e.clientX,ee=o?e.targetTouches[0].clientY:e.clientY,j=!0,d&&(E.removeClass(a,\"selected-item\"),d.bufferRender&&d.bufferRender.call(n,i,!0))}),E.addEvent(document,u.down,function(){var e=U.getElementsByClassName(\"selected-item\")[0];E.removeClass(e,\"selected-item\"),d&&d.destory.call(n)}),E.addEvent(document,\"mouseup\",function(){j&&(j=!1,d&&d.render&&d.render.call(n))}),E.addEvent(z,u.up,function(){[].slice.call(arguments,0)[0]||window.event,j=!1,d&&d.render&&d.render.call(n)}),E.addEvent(q,\"mouseleave\",function(){d&&d.destory.call(n)}),n.bufferCanvas=H,$)Object.keys($).sort(function(e,t){return e-t}).forEach(function(e){var t=$[e],a=n.tab.build.call(n,0===t.type?M:D,{type:t.type,data:t.data,id:e,name:t.tabName,from:t.from});if(t.splitPage){var i=new I({data:t.data,show:0===t.type,that:n,tabId:a});n.tab.setPage.call(n,a,i)}0===t.type&&n.tab.active.call(n,a)});else{var te=n.tab.build.call(n,M,{type:0});n.tab.active.call(n,te)}}).call(s);var l=function(e){var t=s.tab.getActive();for(var a in e)if(e.hasOwnProperty(a)){var n=e[a],i=(n.type,n.data);if(a==t.id)t.page?t.page.getPageNumber()==n.pageNumber?t.page.render.call(s,i):i.status&&t.page.push.call(s,i,+n.pageNumber):s.tab.render.call(s,i);else if(s.tab.getTab(a)){if(i.status){var r=s.tab.getPage(a);r?r.push.call(s,i,+n.pageNumber):s.tab.push.call(s,a,i)}}else s.tab.build.call(s,s.fileCanvas,{type:1,data:[i],id:a,from:i.from})}};this.render=function(e){\"[object Object]\"==t.call(e)?l(e):console.error(\"TypeError: data must be Object\")},this.renderAll=function(e){\"[object Object]\"==t.call(e)?e.forEach(function(e){l(e)}):console.error(\"TypeError: data must be Array\")},this.mouseCtrl=function(e){\"[object Object]\"==t.call(e)?function(e){for(var t in e)if(e.hasOwnProperty(t)){(a=e[t]).type;var a=a.data;j.render.call(s,a)}}(e):console.error(\"TypeError: data must be Object\")},this.clear=function(e){s.tab.clear.call(s,e)},this.disable=function(){E.addClass(n.wrap.firstElementChild||n.wrap.firstChild,\"disabled\"),n.disable=!0},this.enable=function(){E.removeClass(n.wrap.firstElementChild||n.wrap.firstChild,\"disabled\"),n.disable=!1},this.createImage=function(){return s.mainCanvas.toDataURL()},this.getData=function(e){return s.container[e]||s.container},this.changeTab=function(e){return s.tab.active.call(s,e)},this.turnPage=function(e,t){e==s.tab.getActive().id&&s.tab.getPage.call(s,e).go(t)},this.removeTab=function(e){void 0!=e&&s.tab.remove.call(s,e)},E.addEvent(n.wrap,\"mouseenter\",function(){s.active=!0}),E.addEvent(n.wrap,\"mouseleave\",function(){s.active=!1})}I.prototype={constructor:I},window.wPad={init:function(e){var t=O.copy({},h);(t=O.copy(t,e)).id=void 0==t.id?O.uuid:t.id;var a=new S(t);return void 0!=t.id&&(i[t.id]=a),s.push(a),a},getPadById:function(e){if(void 0!==e)return i[e]},getPadByIndex:function(e){if(void 0!==e)return s[e]}}}()},{}],5:[function(e,t,a){!function(){\"use strict\";var e={line:0,arrow:1};function t(e){this.name=e.name||\"Line\",this.interimBuffer=[],this.points=[],this.buffer=[]}t.prototype={constructor:t,active:function(){},bufferRender:function(t,a){var n=this;a?(n.current.points=[],n.current.points.push(t.x),n.current.points.push(t.y)):(n.current.points[2]=t.x,n.current.points[3]=t.y),a||(n.current.interimBuffer.pop(),t={type:\"line\",data:t=[].concat.apply([],n.current.points),status:0,mode:e[n.current.name],origin:!0,color:n.params.color,from:n.params.id,width:n.mainCanvas.offsetWidth,height:n.mainCanvas.offsetHeight},n.current.interimBuffer.push(t),n.render(t))},render:function(){var e=this.current.interimBuffer.shift();if(e)do{e.status=1,this.current.buffer.push(e),this.render(e),e=this.current.interimBuffer.shift()}while(e)},destory:function(){}};var a=window.vm||{};a.module=a.module||{},a.module.line=t,window.vm=a}()},{}],6:[function(e,t,a){!function(){\"use strict\";function e(e){this.name=e.name||\"Pen\",this.interimBuffer=[],this.buffer=[]}e.prototype={constructor:e,active:function(){},bufferRender:function(e,t){var a=this,n=t?{type:\"pen\",data:[],status:0,origin:!!t,color:a.params.color,from:a.params.id,width:a.mainCanvas.offsetWidth,height:a.mainCanvas.offsetHeight}:a.current.interimBuffer.pop();n.data.push(e),a.current.interimBuffer.push(n),a.render(n)},render:function(){var e=this.current.interimBuffer.shift();if(e)do{e.status=1,this.current.buffer.push(e),this.render(e),e=this.current.interimBuffer.shift()}while(e)},destory:function(){}};var t=window.vm||{};t.module=t.module||{},t.module.pen=e,window.vm=t}()},{}],7:[function(e,t,a){!function(){\"use strict\";var e={rectstroke:0,rect:1};function t(e){this.name=e.name||\"Rectangle\",this.interimBuffer=[],this.points=[],this.buffer=[]}t.prototype={constructor:t,active:function(){},bufferRender:function(t,a){var n=this;a?(n.current.points=[],n.current.points.push(t.x),n.current.points.push(t.y)):(n.current.points[2]=t.x-(n.current.points[0]||0),n.current.points[3]=t.y-(n.current.points[1]||0),n.current.interimBuffer.pop(),t={type:\"rectangle\",data:t=[].concat.apply([],n.current.points),status:0,mode:e[n.current.name],origin:!0,color:n.params.color,from:n.params.id,width:n.mainCanvas.offsetWidth,height:n.mainCanvas.offsetHeight},n.current.interimBuffer.push(t),n.render(t))},render:function(){var e=this.current.interimBuffer.shift();if(e)do{e.status=1,this.current.buffer.push(e),this.render(e),e=this.current.interimBuffer.shift()}while(e)},destory:function(){}};var a=window.vm||{};a.module=a.module||{},a.module.rectangle=t,window.vm=a}()},{}],8:[function(e,t,a){!function(){\"use strict\";var e={circle:0,roundel:1,ellipesstroke:2,ellipes:3};function t(e){this.name=e.name||\"Round\",this.interimBuffer=[],this.points=[],this.buffer=[]}t.prototype={constructor:t,active:function(){},bufferRender:function(t,a){var n=this;if(a)n.current.points=[],n.current.points.push(t.x),n.current.points.push(t.y);else{var i=[],r=n.current.points[0],s=n.current.points[1],o=e[n.current.name],l=t.x-r,c=t.y-s;i.push((r+t.x)/2),i.push((s+t.y)/2),0===o||1===o?i.push(Math.abs(l)>Math.abs(c)?Math.abs(l)/2:Math.abs(c)/2):(i.push(Math.abs(l)/2),i.push(Math.abs(c)/2)),n.current.interimBuffer.pop(),t={type:\"round\",data:i,status:0,mode:o,origin:!0,color:n.params.color,from:n.params.id,width:n.mainCanvas.offsetWidth,height:n.mainCanvas.offsetHeight},n.current.interimBuffer.push(t),n.render(t)}},render:function(){var e=this.current.interimBuffer.shift();if(e)do{e.status=1,this.current.buffer.push(e),this.render(e),e=this.current.interimBuffer.shift()}while(e)},destory:function(){}};var a=window.vm||{};a.module=a.module||{},a.module.round=t,window.vm=a}()},{}],9:[function(e,t,a){!function(){\"use strict\";function e(e){this.name=e.name||\"Text\",this.interimBuffer=[],this.points=[],this.buffer=[]}e.prototype={constructor:e,active:function(){},bufferRender:function(e,t){var a=this;t&&(a.current.points=[],a.current.points.push(e.x),a.current.points.push(e.y),a.textInput.style.cssText=\"visibility: visible; z-index: 101; font-size: \"+a.params.fontSize+\"; left: \"+(e.x+a.mainCanvas.offsetLeft)+\"px; top: \"+(e.y+a.mainCanvas.offsetTop-a.textInput.offsetHeight/2-18)+\"px\",a.textInput.focus(),e={type:\"text\",data:[e.x,e.y],status:0,origin:!!t,color:a.params.color,size:a.params.fontSize,from:a.params.id,width:a.mainCanvas.offsetWidth,height:a.mainCanvas.offsetHeight},a.current.interimBuffer.push(e))},render:function(e){if(\"[object String]\"==Object.prototype.toString.call(e)&&(e=e.replace(/^\\s*|\\s*$/,\"\"))){var t=this,a=t.current.interimBuffer.pop();a&&(a.data.push(e),t.textInput.value=\"\",t.textInput.removeAttribute(\"style\"),a.status=1,t.current.buffer.push(a),t.render(a),t.current.interimBuffer.length=0)}},destory:function(){var e=this,t=e.textInput.value.replace(/^\\s*|\\s*$/,\"\");t&&e.current.render.call(e,t),e.textInput.value=\"\",e.textInput.removeAttribute(\"style\")}};var t=window.vm||{};t.module=t.module||{},t.module.text=e,window.vm=t}()},{}]},{},[1,2,3,5,6,7,8,9,4]);\r\n//# sourceMappingURL=index.min.js.map\r\n\n\n\n// WEBPACK FOOTER //\n// src/codyy/wpad/index.min.js"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;;;;;;;;;;;;ACrBA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AARA;AACA;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApFA;AACA;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhEA;AACA;AAkEA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AA8BA;AACA;AACA;AACA;AACA;;;;;;;AAOA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAcA;AAAA;;;;;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAiBA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AACA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/mDA;;;;;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AArEA;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AAFA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AAFA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAFA;AAWA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAFA;AAWA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAFA;AAWA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAFA;AAWA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpkBA;;;;;;;;;;AAUA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AACA;AAiBA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AACA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AACA;AA6BA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtJA;;;;;;;;;;AAUA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AACA;AAyBA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7NA;AACA;AA+NA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAlDA;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9KA;AACA;AAgLA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/lBA;;;;;;;;;;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AA8BA;AAzCA;AA2CA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxJA;AA0JA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxUA;;;;;;;;;;AAUA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAwBA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AA3XA;AA6XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AASA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AASA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAYA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAkBA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjmDA;AAmmDA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxxEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAwBA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7QA;AA+QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAHA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAvIA;AAyIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAkCA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/tBA;;;;;;;;;;AAUA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AACA;AAyBA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/GA;AACA;AAiHA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AACA;AAwBA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;A","sourceRoot":""}